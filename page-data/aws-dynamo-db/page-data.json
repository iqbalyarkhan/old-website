{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/aws-dynamo-db",
    "result": {"data":{"markdownRemark":{"html":"<h3 id=\"table-of-contents\" style=\"position:relative;\"><a href=\"#table-of-contents\" aria-label=\"table of contents permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table of Contents</h3>\n<ul>\n<li><a href=\"#what-is-dynamodb\">What is DynamoDB?</a></li>\n<li><a href=\"#features\">Features</a></li>\n<li><a href=\"#basic-vocab\">Basic Vocab</a>\n<ul>\n<li><a href=\"#table\">Table</a></li>\n<li><a href=\"#item\">Item</a></li>\n<li><a href=\"#primary-key\">Primary Key</a></li>\n<li><a href=\"#secondary-indexes\">Secondary Indexes</a></li>\n</ul>\n</li>\n<li><a href=\"#primary-keys\">Primary Keys</a></li>\n<li><a href=\"#secondary-indexes-1\">Secondary Indexes</a>\n<ul>\n<li><a href=\"#local-secondary-index\">Local Secondary Index</a></li>\n<li><a href=\"#global-secondary-index\">Global Secondary Index</a></li>\n</ul>\n</li>\n<li><a href=\"#dynamodb-streams\">DynamoDB Streams</a></li>\n<li><a href=\"#ttls\">TTLs</a></li>\n<li><a href=\"#dynamodb-transactions\">DynamoDB Transactions</a></li>\n<li><a href=\"#api-action-types\">API Action Types</a>\n<ul>\n<li><a href=\"#item-based-actions\">Item Based Actions</a></li>\n</ul>\n</li>\n<li><a href=\"#readwrite-capacity-mode\">Read/Write Capacity Mode</a></li>\n<li><a href=\"#on-demand-mode\">On-Demand Mode</a>\n<ul>\n<li><a href=\"#read-request-units-and-write-request-units\">Read Request Units and Write Request Units</a></li>\n</ul>\n</li>\n<li><a href=\"#provisioned-mode\">Provisioned Mode</a>\n<ul>\n<li><a href=\"#read-capacity-units-and-write-capacity-units\">Read Capacity Units and Write Capacity Units</a></li>\n</ul>\n</li>\n<li><a href=\"#read-consistency\">Read Consistency</a>\n<ul>\n<li><a href=\"#eventually-consistent-reads\">Eventually Consistent Reads</a></li>\n<li><a href=\"#strongly-consistent-reads\">Strongly Consistent Reads</a></li>\n</ul>\n</li>\n<li><a href=\"#dynamodb-on-demand-backup-and-restore\">DynamoDB On-Demand Backup and Restore</a></li>\n<li><a href=\"#point-in-time-recovery\">Point in time recovery</a></li>\n<li><a href=\"#dynamodb-global-tables\">DynamoDB Global Tables</a></li>\n</ul>\n<h2 id=\"what-is-dynamodb\" style=\"position:relative;\"><a href=\"#what-is-dynamodb\" aria-label=\"what is dynamodb permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html\">DynamoDB</a>?</h2>\n<p>Amazon DynamoDB is a fully managed NoSQL database service that provides fast and predictable performance with seamless scalability. DynamoDB lets you offload the administrative burdens of operating and scaling a distributed database so that you don't have to worry about hardware provisioning, setup and configuration, replication, software patching, or cluster scaling. DynamoDB also offers encryption at rest, which eliminates the operational burden and complexity involved in protecting sensitive data.</p>\n<p>DynamoDB automatically spreads the data and traffic for your tables over a sufficient number of servers to handle your throughput and storage requirements, while maintaining consistent and fast performance. All of your data is stored on solid-state disks (SSDs) and is automatically replicated across multiple Availability Zones in an AWS Region, providing built-in high availability and data durability. You can use global tables to keep DynamoDB tables in sync across AWS Regions.</p>\n<h2 id=\"features\" style=\"position:relative;\"><a href=\"#features\" aria-label=\"features permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Features</h2>\n<p>DynamoDB is:</p>\n<ul>\n<li>Stored on SSD storage</li>\n<li>Spread across 3 geographically distinct data centers</li>\n<li>Eventually consistent reads by default but can be changed to strongly consistent reads (more on this later)</li>\n<li>Comes with a fully managed caching service called DynamoDB Accelerator or DAX. Usually, when applications have a caching layer, caches are queried first to check if data resides in cache. If so, the result is returned, otherwise, the DB is queried. In the case of DAX, DAX sits between DB and application and updates itself based off a cache hit or miss.</li>\n<li>Uses encryption at rest using KMS</li>\n<li>Can connect using Direct Connect (DX)</li>\n</ul>\n<h2 id=\"basic-vocab\" style=\"position:relative;\"><a href=\"#basic-vocab\" aria-label=\"basic vocab permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Basic Vocab</h2>\n<p>There are five basic concepts in DynamoDBâ€”tables, items, attributes, primary keys, and secondary indexes. Letâ€™s review each</p>\n<h3 id=\"table\" style=\"position:relative;\"><a href=\"#table\" aria-label=\"table permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table</h3>\n<p>The first basic concept in DynamoDB is a table. A DynamoDB table is similar in some ways to a table in a relational database or a collection in MongoDB. It is a grouping of records that conceptually belong together. DynamoDB is schemaless, meaning the table itself wonâ€™t ensure your records conform to a given schema. The fact that DynamoDB (and other NoSQL databases) are schemaless does not mean that your data should not have a schema. It means that your record schema is enforced elsewhere: in your application code rather than in your database.</p>\n<h3 id=\"item\" style=\"position:relative;\"><a href=\"#item\" aria-label=\"item permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Item</h3>\n<p>A DynamoDB item is made up of attributes, which are typed data values holding information about the element. For example, if you had an item representing a User, you might have an attribute named \"Username\" with a value of \"myuser\".</p>\n<p>When you write an item to DynamoDB, each attribute is given a specific type. There are ten different data types in DynamoDB. Itâ€™s helpful to split them into three categories:</p>\n<ul>\n<li>Scalars: string, number, binary, boolean, and null.</li>\n<li>Complex: the most flexible kind of attribute, they represent groupings with arbitrary nested attributes. There are two complex types: lists and maps</li>\n<li>Sets: Sets are a powerful compound type that represents multiple, unique values.</li>\n</ul>\n<h3 id=\"primary-key\" style=\"position:relative;\"><a href=\"#primary-key\" aria-label=\"primary key permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Primary Key</h3>\n<p>When creating a DynamoDB table, you must declare a primary key for your table. The primary key can be simple, consisting of a single value, or composite, consisting of two values. Each item in your table must include the primary key. If you attempt to write an item without the primary key, it will be rejected. Primary key selection and design is the most important part of data modeling with DynamoDB. Almost all of your data access will be driven off primary keys, so you need to choose them wisely.</p>\n<h3 id=\"secondary-indexes\" style=\"position:relative;\"><a href=\"#secondary-indexes\" aria-label=\"secondary indexes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Secondary Indexes</h3>\n<p>Primary keys drive your key access patterns in DynamoDB, but sometimes you need additional flexibility. The way you configure your primary keys may allow for one read or write access pattern but may prevent you from handling a second access pattern.\nTo help with this problem, DynamoDB has the concept of secondary indexes. Secondary indexes allow you to reshape your data into another format for querying, so you can add additional access patterns to your data.</p>\n<p>When you create a secondary index on your table, you specify the primary keys for your secondary index, just like when youâ€™re creating a table. AWS will copy all items from your main table into the secondary index in the reshaped form. You can then make queries against the secondary index.</p>\n<h2 id=\"primary-keys\" style=\"position:relative;\"><a href=\"#primary-keys\" aria-label=\"primary keys permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Primary Keys</h2>\n<p>In DynamoDB, there are two kinds of primary keys:</p>\n<p>â€¢ Simple primary keys, which consist of a single element called a partition key. A simple primary key allows you to fetch only a single item at a time. It works well for one-to-one operations where you are only operating on individual items.</p>\n<p>â€¢ Composite primary keys, which consist of two elements, called a partition key and a sort key. Composite primary keys enable a \"fetch many\" access pattern. With a composite primary key, you can use the Query API to grab all items with the same partition key. You can even specify conditions on the sort key to narrow down your query space. Composite primary keys are great for handling relations between items in your data and for retrieving multiple items at once.</p>\n<p>Let's have a look at an example. Imagine you had a SaaS application. Organizations signed up for your application, and each Organization had multiple Users that belonged to the Organization. Letâ€™s start with a table that just has our Organization items in it:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.54335260115607%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6ElEQVQY0zWO626EIBCFff9nbNKmVpC7wIhrdfM1sNsfZM5hzmUmbTdm5fn4/OF7cXS+uoyLgk8y5sCD79hQ+ZrXofvf9+nfumlWlkU7QhKs35gXgwt5GLvJBsH4Oko6V2bjRweUSa9d17nM6srgUxXhOA7u+0ZExruui7QVFm2JqVDkwPqEXh0pC7k2lLbjr2PrI8YG4laZWmuc5zkCe3DnHfdApR0+5LcpsSgzTFve0asnxEKprzLjIj5mplrr68LnE5GdzvuFpe5YFzl/bx7nRS7C3h6040T2B6vxGBeo0kZ5iNvQ/gFnKnxi4psx9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Primary-Key\"\n        title=\"Primary-Key\"\n        src=\"/static/a0bdd224b62bd02a21aa616d5fceff64/1e043/pk-1.png\"\n        srcset=\"/static/a0bdd224b62bd02a21aa616d5fceff64/991de/pk-1.png 173w,\n/static/a0bdd224b62bd02a21aa616d5fceff64/e4d6b/pk-1.png 345w,\n/static/a0bdd224b62bd02a21aa616d5fceff64/1e043/pk-1.png 690w,\n/static/a0bdd224b62bd02a21aa616d5fceff64/5d030/pk-1.png 771w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><a href=\"https://www.dynamodbbook.com/\">Image Credit: DynamoDB Book</a></p>\n<p>In the image above, we have two Organization itemsâ€”one for Berkshire Hathaway and one for Facebook. There are two things worth noting here.</p>\n<p>First, notice how generic the names of the partition key and sort key are. Rather than having the partition key named <code class=\"language-cpptext\">OrgName</code>, the partition key is titled <code class=\"language-cpptext\">PK</code>, and the sort key is <code class=\"language-cpptext\">SK</code>. Thatâ€™s because we will also be putting User items into this table, and Users donâ€™t have an OrgName. They have a UserName.</p>\n<p>Second, notice that the <code class=\"language-cpptext\">PK</code> and <code class=\"language-cpptext\">SK</code> values have prefixes. The pattern for both is <code class=\"language-cpptext\">ORG#&lt;OrgName></code>. We do this for a few reasons. First, it helps to identify the type of item that weâ€™re looking at. Second, it helps avoid overlap between different item types in a table. Remember that a primary key must be unique across all items in a table. If we didnâ€™t have this prefix, we could run into accidental overwrites. Imagine if the real estate company Keller Williams signed up for our application, and the musician Keller Williams was a user of our application. The two could overwrite each other!</p>\n<p>Letâ€™s edit our table to add Users now. A table with both Organization and User entities might look as follows:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.005780346820806%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVQ4y21TiXKrMAzk//+w007SECAcvvGBDWQ7Ukj6XltmdmxJ0WolOZXQEdIkBt3PdY/3U4O2V1B2Yd+kPEb5jUkFDGJG12v0k3vF6aw+ryPePmq8n1om6waDdtAHcYuPc8fJBCJ6FAhc8O39gmsnXmLIX4W4YPYRs0/wYUFcCkLMsHOANo5jS14RUsGlmXCuBwyC1ESMMqBuBftOlx5tr1Hhx1fWAmMsnHOYZ4/7/f6KSWUYVMg6j5gy20Jq+JCQloLqn99z8r7f/ytAPsK27RhGhVsvMEkHoRzsnNgn9Yw5ZEZlrYOQClIppGVBLgVSKlapteF7SglUuB8lmm6EkBYhFjif0PUC2gb4eBA+FTyx7/sfuGPbdwhpmFQoy3OmmQ+TgrbUfuE5/5phzoWVPRVSB6UUJu1HhfY2cYt2XqBtZB+1Tjad1U8ldH6rpdltrxgtQygDpR1y2Xj7StvjJRS2/1RIquyx5ceSHi1f2xGf1x7KRobUAU03oW4GxigcKkpigqM1SiRSAtnPj4hJDS2Q1Kzbzqdznu+MdUdFSbRZIqDW1nWF9wEhBMSY4OYZMUZ+Nu1Nom5G/otJEzFJj+YmIJSH0IHxq2UiJKKUFgaR5Zw5ZqyD0gZCSCw5H3O1fKdnRfYXSpbqHY5BMdgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Primary-Key-2\"\n        title=\"Primary-Key-2\"\n        src=\"/static/3bdc14f33bb7124f433a32d0d647090d/1e043/pk-2.png\"\n        srcset=\"/static/3bdc14f33bb7124f433a32d0d647090d/991de/pk-2.png 173w,\n/static/3bdc14f33bb7124f433a32d0d647090d/e4d6b/pk-2.png 345w,\n/static/3bdc14f33bb7124f433a32d0d647090d/1e043/pk-2.png 690w,\n/static/3bdc14f33bb7124f433a32d0d647090d/f73a1/pk-2.png 822w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><a href=\"https://www.dynamodbbook.com/\">Image Credit: DynamoDB Book</a></p>\n<p>Here weâ€™ve added three Users to our existing Organization items. Our User items use a PK value of ORG#<OrgName> and an SK value of USER#<UserName>.</p>\n<p>This concept of using generic names for your primary keys and using different values depending on the type of item is known as overloading your keys. You will do this with both your primary keys and your secondary indexes to enable the access patterns you need.</p>\n<h2 id=\"secondary-indexes-1\" style=\"position:relative;\"><a href=\"#secondary-indexes-1\" aria-label=\"secondary indexes 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Secondary Indexes</h2>\n<p>When creating a secondary index, you will need to specify the key schema of your index. The key schema is similar to the primary key of your tableâ€”you will state the partition and sort key (if desired) for your secondary index that will drive your access patterns.</p>\n<p>There are two kinds of secondary indexes in DynamoDB: Local and global secondary indexes</p>\n<h3 id=\"local-secondary-index\" style=\"position:relative;\"><a href=\"#local-secondary-index\" aria-label=\"local secondary index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Local Secondary Index</h3>\n<p>A local secondary index uses the same partition key as your tableâ€™s primary key but a different sort key. This can be a nice fit when you are often filtering your data by the same top-level property but have access patterns to filter your dataset further. The partition key can act as the top-level property, and the different sort key arrangements will act as your more granular filters.</p>\n<h3 id=\"global-secondary-index\" style=\"position:relative;\"><a href=\"#global-secondary-index\" aria-label=\"global secondary index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Global Secondary Index</h3>\n<p>With a global secondary index, you can choose any attributes you want for your partition key and your sort key. Global secondary indexes are used much more frequently with DynamoDB due to their flexibility.</p>\n<p>In general, people usually opt for global secondary indexes. Theyâ€™re more flexible, you donâ€™t need to add them at table-creation time, and you can delete them if you need to.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 572px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.71098265895954%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVQoz22Si46CQAxF5///DwGVh4IGlUSCjwAC3ZybnQ1hnaTptHN7+xpnv2eeZ+m+7+18PkvyPJc9jqPsoiisLEu73W7Ccz8ej5Ku62yaJnOHw8GSJLHT6STdNI2laar7fr8X0efz+bO9QEDCMAyFwQbnCCbTMAxyoqMoss1mI3CWZaoQEmwKeD6fqhBfHMfC3O93dehsdQAS8Hq9rG1btYwPG78/tAchZLRcVZUwjgcClrI+YJYJEXwQUTWJH4+HEjpPsNTfkix9Pgkz9KNhTMzfrdv1gesK1z6/eUhpm9kyR+cXwCMLYha0AgAwbUDIl0HwoSEET+z1elXLmqEfKADWjjDs7XarAAjYPDb3y+VidV2rSv4jhaCR9/v9f8tUs9vtRBoEgf4nhGRHf1vUcmQ/Y1X58usrwhgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Secondary-Index-Types\"\n        title=\"Secondary-Index-Types\"\n        src=\"/static/8bc8e20653c3e36b130bef53271abfd6/a805e/secondary-index-types.png\"\n        srcset=\"/static/8bc8e20653c3e36b130bef53271abfd6/991de/secondary-index-types.png 173w,\n/static/8bc8e20653c3e36b130bef53271abfd6/e4d6b/secondary-index-types.png 345w,\n/static/8bc8e20653c3e36b130bef53271abfd6/a805e/secondary-index-types.png 572w\"\n        sizes=\"(max-width: 572px) 100vw, 572px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><a href=\"https://www.dynamodbbook.com/\">Image Credit: DynamoDB Book</a></p>\n<h2 id=\"dynamodb-streams\" style=\"position:relative;\"><a href=\"#dynamodb-streams\" aria-label=\"dynamodb streams permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DynamoDB Streams</h2>\n<p>DDB streams are time-ordered sequence of item-level changes in a table. These changes could be create, update or delete operations on the table. Data in the stream is stored for 24 hours. These streams can be combined with lambda functions for functionality like stored procedures. To use TTL, you specify an attribute on your DynamoDB table that will serve as the marker for item deletion. For each item that you want to expire, you should store a Unix timestamp as a number in your specified attribute. This timestamp should state the time after which the item should be deleted. DynamoDB will periodically review your table and delete items that have your TTL attribute set to a time before the current time.</p>\n<p>Items are generally deleted in a timely manner, but AWS only states that items will usually be deleted within 48 hours after the time indicated by the attribute. This delay could be unacceptable for the access patterns in your application. Rather than relying on the TTL for data accuracy in your application, you should confirm an item is not expired when you retrieve it from DynamoDB.</p>\n<h2 id=\"ttls\" style=\"position:relative;\"><a href=\"#ttls\" aria-label=\"ttls permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TTLs</h2>\n<p>Announced in 2017, TTLs allow you to have DynamoDB automatically delete items on a per-item basis. This is a great option for storing short-term data in DynamoDB as you can use TTL to clean up your database rather than handling it manually via a scheduled job.</p>\n<h2 id=\"dynamodb-transactions\" style=\"position:relative;\"><a href=\"#dynamodb-transactions\" aria-label=\"dynamodb transactions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DynamoDB Transactions</h2>\n<p>DynamoDB transactions provide us with atomicity, consistency, isolation and durability (ACID) across 1 or more tables within a single AWS account and region. You can use transactions when building applications that require coordinated CRUD operations as part of a single business oepration. Examples include bank transactions, ticketing systems etc.</p>\n<h2 id=\"api-action-types\" style=\"position:relative;\"><a href=\"#api-action-types\" aria-label=\"api action types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API Action Types</h2>\n<p>API actions can be broken into three categories:</p>\n<ol>\n<li>Item-based actions</li>\n<li>Queries</li>\n<li>Scans</li>\n</ol>\n<p>The API actions are divided based on what youâ€™re operating on.</p>\n<ul>\n<li>\n<p>Operating on specific items? Use the item-based actions.</p>\n</li>\n<li>\n<p>Operating on an item collection? Use a Query.</p>\n</li>\n<li>\n<p>Operating on the whole table? Use a Scan.</p>\n</li>\n</ul>\n<h3 id=\"item-based-actions\" style=\"position:relative;\"><a href=\"#item-based-actions\" aria-label=\"item based actions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Item Based Actions</h3>\n<p>Item-based actions are used whenever you are operating on a specific item in your DynamoDB table. There are four core API actions for item-based actions:</p>\n<ol>\n<li>GetItem--used for reading a single item from a table.</li>\n<li>PutItem--used for writing an item to a table. This can completely\noverwrite an existing item with the same key, if any.</li>\n<li>UpdateItem--used for updating an item in a table. This can create a new item if it doesnâ€™t previously exist, or it can add, remove, or alter properties on an existing item.</li>\n<li>DeleteItem--used for deleting an item from a table.</li>\n</ol>\n<p>There are three rules around item-based actions. First, the full primary key must be specified in your request. Second all actions to alter dataâ€”writes, updates, or deletesâ€”must use an item-based action. Finally, all item-based actions must be performed on your main table, not a secondary index.</p>\n<p>âœ‹âœ‹ ðŸš§Sections below are a WIP!ðŸš§ âœ‹âœ‹</p>\n<h2 id=\"readwrite-capacity-mode\" style=\"position:relative;\"><a href=\"#readwrite-capacity-mode\" aria-label=\"readwrite capacity mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Read/Write Capacity Mode</h2>\n<p>Amazon DynamoDB has two read/write capacity modes for processing reads and writes on your tables: on-demand and provisioned (default, free-tier eligible)</p>\n<p>The read/write capacity mode controls how you are charged for read and write throughput and how you manage capacity. You can set the read/write capacity mode when creating a table or you can change it later. Secondary indexes inherit the read/write capacity mode from the base table.</p>\n<h2 id=\"on-demand-mode\" style=\"position:relative;\"><a href=\"#on-demand-mode\" aria-label=\"on demand mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>On-Demand Mode</h2>\n<p>When you choose on-demand mode, DynamoDB instantly accommodates your workloads as they ramp up or down to any previously reached traffic level. If a workloadâ€™s traffic level hits a new peak, DynamoDB adapts rapidly to accommodate the workload. Tables that use on-demand mode deliver the same single-digit millisecond latency, service-level agreement (SLA) commitment, and security that DynamoDB already offers. You can choose on-demand for both new and existing tables and you can continue using the existing DynamoDB APIs without changing code.</p>\n<p>On-demand mode is a good option if any of the following are true:</p>\n<ul>\n<li>\n<p>You create new tables with unknown workloads.</p>\n</li>\n<li>\n<p>You have unpredictable application traffic.</p>\n</li>\n<li>\n<p>You prefer the ease of paying for only what you use.</p>\n</li>\n</ul>\n<h3 id=\"read-request-units-and-write-request-units\" style=\"position:relative;\"><a href=\"#read-request-units-and-write-request-units\" aria-label=\"read request units and write request units permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Read Request Units and Write Request Units</h3>\n<p>For on-demand mode tables, you don't need to specify how much read and write throughput you expect your application to perform. DynamoDB charges you for the reads and writes that your application performs on your tables in terms of read request units and write request units.</p>\n<p><strong>One read request unit represents:</strong></p>\n<ul>\n<li>One strongly consistent read request, or two eventually consistent read requests for an item up to 4 KB in size.</li>\n<li>Two read request units represent one transactional read for items up to 4 KB.</li>\n<li>You'd need additional read request units for items > 4 KB. Here, the total number of read request units required depends on the item size, and whether you want an eventually consistent or strongly consistent read. For example, if your item size is 8 KB, you require 2 read request units to sustain one strongly consistent read, 1 read request unit if you choose eventually consistent reads, or 4 read request units for a transactional read request.</li>\n</ul>\n<p><strong>One write request unit represents</strong></p>\n<ul>\n<li>One write for an item up to 1 KB in size</li>\n<li>You'd need additional write request units for items > 1 KB. Here, transactional write requests require 2 write request units to perform one write for items up to 1 KB. The total number of write request units required depends on the item size. For example, if your item size is 2 KB, you require 2 write request units to sustain one write request or 4 write request units for a transactional write request.</li>\n</ul>\n<h2 id=\"provisioned-mode\" style=\"position:relative;\"><a href=\"#provisioned-mode\" aria-label=\"provisioned mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Provisioned Mode</h2>\n<p>If you choose provisioned mode, you specify the number of reads and writes per second that you require for your application. You can use auto scaling to adjust your tableâ€™s provisioned capacity automatically in response to traffic changes. This helps you govern your DynamoDB use to stay at or below a defined request rate in order to obtain cost predictability.</p>\n<p>Provisioned mode is a good option if any of the following are true:</p>\n<ul>\n<li>\n<p>You have predictable application traffic.</p>\n</li>\n<li>\n<p>You run applications whose traffic is consistent or ramps gradually.</p>\n</li>\n<li>\n<p>You can forecast capacity requirements to control costs.</p>\n</li>\n</ul>\n<h3 id=\"read-capacity-units-and-write-capacity-units\" style=\"position:relative;\"><a href=\"#read-capacity-units-and-write-capacity-units\" aria-label=\"read capacity units and write capacity units permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Read Capacity Units and Write Capacity Units</h3>\n<p>For provisioned mode tables, you specify throughput capacity in terms of read capacity units (RCUs) and write capacity units (WCUs):</p>\n<p><strong>One read capacity unit represents</strong>:</p>\n<ul>\n<li>One strongly consistent read per second, or two eventually consistent reads per second, for an item up to 4 KB in size. Transactional read requests require two read capacity units to perform one read per second for items up to 4 KB.</li>\n<li>If you need to read an item that is larger than 4 KB, DynamoDB must consume additional read capacity units. The total number of read capacity units required depends on the item size, and whether you want an eventually consistent or strongly consistent read. For example, if your item size is 8 KB, you require 2 read capacity units to sustain one strongly consistent read per second, 1 read capacity unit if you choose eventually consistent reads, or 4 read capacity units for a transactional read request.</li>\n</ul>\n<p><strong>One write capacity unit represents</strong>:</p>\n<ul>\n<li>One write per second for an item up to 1 KB in size.</li>\n<li>If you need to write an item that is larger than 1 KB, DynamoDB must consume additional write capacity units. Transactional write requests require 2 write capacity units to perform one write per second for items up to 1 KB. The total number of write capacity units required depends on the item size. For example, if your item size is 2 KB, you require 2 write capacity units to sustain one write request per second or 4 write capacity units for a transactional write request.</li>\n</ul>\n<h2 id=\"read-consistency\" style=\"position:relative;\"><a href=\"#read-consistency\" aria-label=\"read consistency permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Read Consistency</h2>\n<p>DynamoDB supports eventually consistent and strongly consistent reads.</p>\n<h3 id=\"eventually-consistent-reads\" style=\"position:relative;\"><a href=\"#eventually-consistent-reads\" aria-label=\"eventually consistent reads permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Eventually Consistent Reads</h3>\n<p>When you read data from a DynamoDB table, the response might not reflect the results of a recently completed write operation. The response might include some stale data. If you repeat your read request after a short time, the response should return the latest data.</p>\n<h3 id=\"strongly-consistent-reads\" style=\"position:relative;\"><a href=\"#strongly-consistent-reads\" aria-label=\"strongly consistent reads permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Strongly Consistent Reads</h3>\n<p>When you request a strongly consistent read, DynamoDB returns a response with the most up-to-date data, reflecting the updates from all prior write operations that were successful. However, this consistency comes with some disadvantages:</p>\n<ul>\n<li>\n<p>A strongly consistent read might not be available if there is a network delay or outage. In this case, DynamoDB may return a server error (HTTP 500).</p>\n</li>\n<li>\n<p>Strongly consistent reads may have higher latency than eventually consistent reads.</p>\n</li>\n<li>\n<p>Strongly consistent reads are not supported on global secondary indexes.</p>\n</li>\n<li>\n<p>Strongly consistent reads use more throughput capacity than eventually consistent reads.</p>\n</li>\n</ul>\n<h2 id=\"dynamodb-on-demand-backup-and-restore\" style=\"position:relative;\"><a href=\"#dynamodb-on-demand-backup-and-restore\" aria-label=\"dynamodb on demand backup and restore permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DynamoDB On-Demand Backup and Restore</h2>\n<p>DynamoDB has the capabilty to perform on demand backup and restore operations. This allows you to perform full backups at any time with zero impact on performance or availability. Backups are consistent within seconds and retained until deleted. Backups operate within same region as the source table.</p>\n<h2 id=\"point-in-time-recovery\" style=\"position:relative;\"><a href=\"#point-in-time-recovery\" aria-label=\"point in time recovery permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Point in time recovery</h2>\n<p>PITR protects against accidental writes or deletes and allow syou to restore to any point in the last 35 days. Backups are done incrementally. By default PITR is turned OFF.</p>\n<p>Here's a demo showing how to enable PITR and add items to your newly created DynamoDB table:</p>\n<!-- copy and paste. Modify height and width if desired. -->\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 53.212290502793294%; position: relative; height: 0; overflow: hidden; \" > <iframe class=\"embeddedObject shadow resizable\" name=\"embedded_content\" scrolling=\"no\" frameborder=\"0\" type=\"text/html\" style=\"overflow:hidden; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" src=\"https://www.screencast.com/users/IqbalKhan8502/folders/Capture/media/cff63444-1109-485b-8d57-8d8362e07802/embed\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe> </div>\n<h2 id=\"dynamodb-global-tables\" style=\"position:relative;\"><a href=\"#dynamodb-global-tables\" aria-label=\"dynamodb global tables permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DynamoDB Global Tables</h2>\n<p>Global tables are managed, multi-master, multi-region replicated tables that are used for globally distributed applications. Global tables are enabled via DynamoDB streams. Therefore, to enable global tables, you need dynamo db streams. Global tables allow you to have multi-region redundancy for disaster recovery and also result in high availability.</p>\n<p>Let's check out a demo where we:</p>\n<ul>\n<li>create a table in us-east-1</li>\n<li>add items to our table</li>\n<li>check to see if the table exists in us-west-1</li>\n<li>enable global tables (will ask us to enable dynamodb streams)</li>\n<li>add us-west-1</li>\n<li>create replica in the correct region\n  <!-- copy and paste. Modify height and width if desired. -->\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 52.859135285913524%; position: relative; height: 0; overflow: hidden; \" > <iframe class=\"embeddedObject shadow resizable\" name=\"embedded_content\" scrolling=\"no\" frameborder=\"0\" type=\"text/html\" style=\"overflow:hidden; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" src=\"https://www.screencast.com/users/IqbalKhan8502/folders/Capture/media/b3ff9c3e-2908-4e6b-9c3b-ec59c5ff07ec/embed\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe> </div>\n</li>\n</ul>","timeToRead":15,"excerpt":"Table of Contents What is DynamoDB? Features Basic Vocab Table Item Primary Key Secondary Indexes Primary Keys Secondary Indexes Localâ€¦","frontmatter":{"title":"AWS - DynamoDB","date":"2021-12-25T00:00:00.000Z","categories":["AWS"],"extract":"Notes for DynamoDB","thumbnail":"/post-images/dynamo-db.png","tags":["blog","AWS"]},"fields":{"slug":"/aws-dynamo-db","date":"December 25, 2021"}}},"pageContext":{"slug":"/aws-dynamo-db","nexttitle":"AWS - RDS","nextslug":"/aws-rds","prevtitle":"AWS - VPC","prevslug":"/aws-vpc"}},
    "staticQueryHashes": ["3969716136"]}