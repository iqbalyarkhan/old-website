{"componentChunkName":"component---src-templates-post-js","path":"/kmp-algorithm","result":{"data":{"markdownRemark":{"html":"<h3 id=\"table-of-contents\"><a href=\"#table-of-contents\" aria-label=\"table of contents permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table of Contents</h3>\n<ol>\n<li><a href=\"#introduction\">Introduction</a></li>\n<li><a href=\"#deterministic-finite-state-automaton\">Deterministic Finite State Automaton</a></li>\n<li><a href=\"#building-our-dfa\">Building our DFA</a></li>\n<li><a href=\"#state-transitions\">State Transitions</a></li>\n<li><a href=\"#conclusion\">Conclusion</a></li>\n</ol>\n<h3 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h3>\n<p>We've looked at why the <a href=\"/substring-search\">brute force algorithm</a> doesn't work. Let's talk about an algorithm that provides a substantial improvement over the naive approach: the Knuth-Morris-Pratt algorithm.</p>\n<h3 id=\"deterministic-finite-state-automaton\"><a href=\"#deterministic-finite-state-automaton\" aria-label=\"deterministic finite state automaton permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deterministic Finite State Automaton</h3>\n<p>Before we begin, let's talk about what a deterministic finite state automaton is. It is nothing but a system that tells what state we're in based on the input we've received. Our state can change when we receive an input or it can stay the same. When we reach the halt state, we're done. Here's a simple DFA:</p>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 477px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.22851153039832%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAACf0lEQVQ4y4VU2ZKbMBDk/78rL8lLNg9OrbO2lzU2mPtGAgSdHmF81NYmqpqSkJiemZ6WnHmeMdQV+qq087IuMI0DljHjqyG+cr7OYs48TVBhAHU5oxMLzijcPRRBR2NgzMiZxgDjuqYNQ38FmzivRkCJVNY1rUKaZ0iyDG2voVSH5OwhPh2RMUjqnxF5H3Yv9U/IossN8A4qGTLdrm3QNjXSJEZBUPm5YQAxRSpaWsl9VeSouW4sPeUD4JrpFVDGNBkEgY8kjuAfXTQEGOnUCq9dC51GKNMYPfeEYzlfeJwespSS5/lpQ0bPcgfaxNINZwFoye/Q1jCyR6vLwp7dG7Rk6uA/Y2ID8u0G2eYFY1PdnO0ZG6PzlMH8hy4TVWcJOvKmWJKYrHWRXUNPqNn1fLeFtrw9BGPn458/EH7/hi6+2L1FNkm0ACahXas4xMAyBzpU5KpiMxqWV5PPig0R61n2TN7NoDGSY5nnVTYz5k8CTrIUYRQiDS/oqIAbVwSRBrZUhiKQDKO7m78FDNndnBnKj96Hi9ffG0TsttIKHTMrCC5Zan5LZlprFEWBkLrMKLWewA0pMvS3gPLjy68XK5uQBIfMqudecPKQs+SBIBKoIKjqGnjuAWmaWgp8Cl4CV+y6aPmmw/P5hO321Yq7Y8Rarp5IhmDyozRHqGlkX3dP9IyUkwp99MzSWVS+gEoGl0tgTUou5YYwckNACSLr5Q4v3V+lYnqFgZIyzNR5vo+wDlKKgGTCnVw9uZo0eSjM9WEw1wdj9VuHc3+ClgPJ4u3tDzzviN3uzdJwOOxxPH7g/f2Aw34P1323PAe+bxv5eKedz+/bV+8e/vEu3td/AYZTJgXz3nodAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/feb95da34e14790ddace9e7216cbad14/b685c/kmp1.png\"\n        srcset=\"/static/feb95da34e14790ddace9e7216cbad14/27f03/kmp1.png 173w,\n/static/feb95da34e14790ddace9e7216cbad14/376d0/kmp1.png 345w,\n/static/feb95da34e14790ddace9e7216cbad14/b685c/kmp1.png 477w\"\n        sizes=\"(max-width: 477px) 100vw, 477px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<p> If you look at the graphical representation, you see we start at state 0 (states are the circles) and we can transition between states using the arrows. Arrows are taken when we get a specific character from the string. </p>\n<p> If we're at state 0, the graphical representation shows us that if we get an <code class=\"language-cpptext\">A</code>, move to state 1. All other characters (B or C), keep us at state 0. We've found a match if we make our way all the way to state 6. </p>\n<p> The DFA has 6 states with the 7th state being the final state. This is not a coincidence: the pattern string has 6 characters and once we've received the final <code class=\"language-cpptext\">C</code> character in ABABAC (the pattern), we've found a match in the text. </p>\n<p> To represent our DFA internally, we use a 2D array where one array would represent our pattern characters and the other would represent the possible alphabets:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-cppcss\"><code class=\"language-cppcss\">   0   1   2   3   4   5\n   A   B   A   B   A   C\nA   \n\nB\n\nC</code></pre></div>\n<h3 id=\"building-our-dfa\"><a href=\"#building-our-dfa\" aria-label=\"building our dfa permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Building our DFA</h3>\n<p> Ok, so we said we'd be done if we found our pattern right? So let's put that in terms of our DFA and the 2D arrays. If we're at state 0 and get anything other than an <code class=\"language-cpptext\">A</code>, we stay in state 0. If we get an <code class=\"language-cpptext\">A</code> we move to state 1. Once we're in state 1 and we get a <code class=\"language-cpptext\">B</code> we move to state 2. Once in state 2 and we get an <code class=\"language-cpptext\">A</code> we move to state 3 and so on. Once we get to state 6, we're done since we've found a match. This is how it translates to the DFA:</p>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.98766954377312%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAbklEQVQI1z3MwQ6EIAxFUf//K2V0IQIdwQAtmLwpxMzqnrRNFxGBMKNray5o2ulSIK95+H+Tp5/WprlWPL2Dx1z3CxGBTodba7cdUZu8V2+41LcPOHX+DQGJAg7zATmHHC8cq4G3FjlFWGMwfv0A+CCZNOEA2H0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/78d84e8ab436e86f5a6bbceba06066b4/1dda8/kmp2.png\"\n        srcset=\"/static/78d84e8ab436e86f5a6bbceba06066b4/27f03/kmp2.png 173w,\n/static/78d84e8ab436e86f5a6bbceba06066b4/376d0/kmp2.png 345w,\n/static/78d84e8ab436e86f5a6bbceba06066b4/1dda8/kmp2.png 690w,\n/static/78d84e8ab436e86f5a6bbceba06066b4/ff508/kmp2.png 811w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<p> Now for the internal representation, this is what it means:</p>\n<p> You're at state 0 and get an A, move to state 1:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<p> You're at state 1 and get an B, move to state 2:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<p> You're at state 2 and get an A, move to state 3:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>0</td>\n<td>3</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<p>You're at state 3 and get an B, move to state 4:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>0</td>\n<td>3</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>4</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<p>You're at state 4 and get an A, move to state 5:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>0</td>\n<td>3</td>\n<td>0</td>\n<td>5</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>4</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<p>You're at state 5 and get an C, move to state 6:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>0</td>\n<td>3</td>\n<td>0</td>\n<td>5</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>4</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>6</td>\n</tr>\n</tbody>\n</table>\n<p>Ok, so that takes care of what to do when we get the exact match. As we've seen, our text is not always the same as the input. What do we do when we're in state 0 and we get a <code class=\"language-cpptext\">B</code> or a <code class=\"language-cpptext\">C</code>? Let's fill out our internal and graphical representation. Remember, this is a deterministic system so we need an arrow out of a state for EACH alphabet. </p>\n<p><strong>If you're in state 0</strong></p>\n<p>You get an <code class=\"language-cpptext\">A</code> and you move to state 1. We've already captured that since <code class=\"language-cpptext\">arr[0][A]</code> = 1. What if we get a <code class=\"language-cpptext\">B</code> or a <code class=\"language-cpptext\">C</code>? We stay in state 0, that is because our matching starts when <code class=\"language-cpptext\">text[j] == pattern[0]</code> and <code class=\"language-cpptext\">pattern[0]</code> = A. So <code class=\"language-cpptext\">arr[0][B]</code> and <code class=\"language-cpptext\">arr[0][C]</code> both equal 0. Meaning, if we are in state 0 and get a B, or a C, stay in state 0 since in state 0 we're waiting for that first character in the pattern:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td><strong>1</strong></td>\n<td>0</td>\n<td>3</td>\n<td>0</td>\n<td>5</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td><strong>0</strong></td>\n<td>2</td>\n<td>0</td>\n<td>4</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td><strong>0</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>6</td>\n</tr>\n</tbody>\n</table>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 14.355231143552311%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAV0lEQVQI162NywnAMAxDs/8a2aQbZIWOkJLiX6Jig3sIPdZg9ISFXG4mjDHw15SjVvSrw8zAzFDV2C/OjIgEu7pPJiKUs7VonnPGYa31sqv7nfdcsj99APRE69jERgJgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/f2f7f4e35403817606cad9bbdcd8b158/1dda8/kmp3.png\"\n        srcset=\"/static/f2f7f4e35403817606cad9bbdcd8b158/27f03/kmp3.png 173w,\n/static/f2f7f4e35403817606cad9bbdcd8b158/376d0/kmp3.png 345w,\n/static/f2f7f4e35403817606cad9bbdcd8b158/1dda8/kmp3.png 690w,\n/static/f2f7f4e35403817606cad9bbdcd8b158/5405d/kmp3.png 822w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<p> <strong>If you're in state 1</strong></p>\n<p> Ok, so you're in state 1 and you get a <code class=\"language-cpptext\">B</code>, you move to state 2. What if we get an <code class=\"language-cpptext\">A</code> or a <code class=\"language-cpptext\">C</code>? Remember, KMP wants to make use of the information we've seen so far. If we're in 2 and get an <code class=\"language-cpptext\">A</code>, we don't have to start at 0. That is because our pattern starts with <code class=\"language-cpptext\">A</code> so we can go back to state 1 instead of waiting for another <code class=\"language-cpptext\">A</code>. Even though we didn't get a <code class=\"language-cpptext\">B</code>, we still got an <code class=\"language-cpptext\">A</code> which takes us back to state 1. </p>\n<p> If we get a <code class=\"language-cpptext\">C</code>, we'd have to go back to state 0 because the <code class=\"language-cpptext\">C</code> is of no use as of now:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td><strong>1</strong></td>\n<td>3</td>\n<td>0</td>\n<td>5</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td><strong>2</strong></td>\n<td>0</td>\n<td>4</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td><strong>0</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>6</td>\n</tr>\n</tbody>\n</table>\n<p>   <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.52593486127865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAaElEQVQI152NvQqAMAyE+/6P05dQHHToKohzUSgq9ift2RQqnRwMHPmOJBcRY0SVvS2ICCEE/C3hnMN1nMUs04hBSlDmGpxSepmffrH3HiLlY6M1zLZjVQpz35VwHtZl7uxbrmHtDusBvenqwX4+ApkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/11eaae02620777fe0b4c33fb0dfaf460/1dda8/kmp5.png\"\n        srcset=\"/static/11eaae02620777fe0b4c33fb0dfaf460/27f03/kmp5.png 173w,\n/static/11eaae02620777fe0b4c33fb0dfaf460/376d0/kmp5.png 345w,\n/static/11eaae02620777fe0b4c33fb0dfaf460/1dda8/kmp5.png 690w,\n/static/11eaae02620777fe0b4c33fb0dfaf460/a660c/kmp5.png 829w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<p> <strong>If you're in state 2</strong></p>\n<p> Ok, so now you're in state 2, you've seen an <code class=\"language-cpptext\">AB</code> so far in your text and it matches the pattern. So far so good. Now, if you see an <code class=\"language-cpptext\">A</code> you move to state 3 because the text character matches the pattern character.</p>\n<p>  What if you see a <code class=\"language-cpptext\">C</code>? You would have now seen <code class=\"language-cpptext\">ABC</code> which doesn't help us so we need to go back to state 0.</p>\n<p> What if you see a <code class=\"language-cpptext\">B</code>? You would have now seen <code class=\"language-cpptext\">ABB</code> which doesn't help us either so we go back to state 0.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>1</td>\n<td><strong>3</strong></td>\n<td>0</td>\n<td>5</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td><strong>0</strong></td>\n<td>4</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td><strong>0</strong></td>\n<td>0</td>\n<td>0</td>\n<td>6</td>\n</tr>\n</tbody>\n</table>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 19.58041958041958%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAiUlEQVQY05VPuw7CMBDL//9Rv6Fb2ZhYQCogJNLm0UsuJo4aqQMDWLLsJHJ8Z3LOKKVAVZuSHTkl/ANmTdxiO6QaFpHmo3M4jyOk3rHoWPrNU0nCvOYZz+sNbl0RQkD0HpfphGkYwFllk1bEALX7PgA/pqZ9G6P10b8t7P2BxVr4St3bcFj/15U/C9U6NQYByscAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/3958519152cd0718b9a443722c4fb507/1dda8/kmp6.png\"\n        srcset=\"/static/3958519152cd0718b9a443722c4fb507/27f03/kmp6.png 173w,\n/static/3958519152cd0718b9a443722c4fb507/376d0/kmp6.png 345w,\n/static/3958519152cd0718b9a443722c4fb507/1dda8/kmp6.png 690w,\n/static/3958519152cd0718b9a443722c4fb507/2629a/kmp6.png 858w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<p><strong>If you're in state 3</strong></p>\n<p>You're in state 3 and you've so far seen a <code class=\"language-cpptext\">ABA</code>. If you see a <code class=\"language-cpptext\">B</code>, you go to state 4. </p>\n<p>What if you see an A? You would've now seen <code class=\"language-cpptext\">ABAA</code>. You, again don't have to go back to state 0 because you can make use of the incorrect <code class=\"language-cpptext\">A</code> and start at state 1. </p>\n<p>What if you see a <code class=\"language-cpptext\">C</code>? You'd have to go back to state 0 since <code class=\"language-cpptext\">ABAC</code> is of no use to us since no part of the input seen so far can be reused.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>1</td>\n<td>3</td>\n<td><strong>1</strong></td>\n<td>5</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td><strong>4</strong></td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td><strong>0</strong></td>\n<td>0</td>\n<td>6</td>\n</tr>\n</tbody>\n</table>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.705314009661837%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxElEQVQY041QWw6CQAzk/ifRA3AFP/31RSBC0EXBXXmEZXdhbDei/uEkTSdNO502cNaC4ZzDDNP3MMOAgXOvP3VrDJYQGBKapgmGmtu6xi2OIS85aikhhYASV+T7HbIoAveO4+iXc/7lrME8KNIMPTmxVOyaFq1SxB0Gcjhjs15hG4aea+rVWvthS9cx58yizAMlChRxguYhyeVXhAc6qVCeU+im8TV2sXiyH6YN9b2kcxOIw5HihGdVoVNPjO/fstg/8QIBqoU45IXvJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/9f781a258c0ec99f396e542892893e8d/1dda8/kmp7.png\"\n        srcset=\"/static/9f781a258c0ec99f396e542892893e8d/27f03/kmp7.png 173w,\n/static/9f781a258c0ec99f396e542892893e8d/376d0/kmp7.png 345w,\n/static/9f781a258c0ec99f396e542892893e8d/1dda8/kmp7.png 690w,\n/static/9f781a258c0ec99f396e542892893e8d/5d65e/kmp7.png 828w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<p><strong>If you're in state 4</strong></p>\n<p>You're in state 4 and you've seen <code class=\"language-cpptext\">ABAB</code> so far. If you see an <code class=\"language-cpptext\">A</code> you go to state 5. </p>\n<p>What if you see a <code class=\"language-cpptext\">B</code>? You would've seen <code class=\"language-cpptext\">ABABB</code> which is of no use. No part of the input seen so far can be reused so you go back to state 0. </p>\n<p>What if you see a <code class=\"language-cpptext\">C</code>? You would've seen <code class=\"language-cpptext\">ABABC</code> which again is not reusable and you go back to 0.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>1</td>\n<td>3</td>\n<td>1</td>\n<td><strong>5</strong></td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>4</td>\n<td><strong>0</strong></td>\n<td>0</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td><strong>0</strong></td>\n<td>6</td>\n</tr>\n</tbody>\n</table>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.38424821002387%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAAAyklEQVQY031RyxLCIAzk/39Jf0AvXryoR1sP1dJ2+qI8urIM1Oo4zczCkiwJIQLR5nnGlqX47NyX7xfCWgvjwQO58xcI8oQlWdypN9r8LSyUUui6FtYnGYYB4zhCaw36p2mCMSb4CNrtcMRptw+cGmpZlJxaYf2SXy9o6zokTQIG0wvJaeT38xlNUYSzix3x5akzEQL+QpllaJ4F9KQWUUBsta8kpNc4Zzf/XKwDfV1BPnK0rxLKtz/0PbpSospzdFJ+hhEHk4qu+Rsz2NbbbRfVVwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/dcd91b57e1fba35295b0b28842c8b235/1dda8/kmp8.png\"\n        srcset=\"/static/dcd91b57e1fba35295b0b28842c8b235/27f03/kmp8.png 173w,\n/static/dcd91b57e1fba35295b0b28842c8b235/376d0/kmp8.png 345w,\n/static/dcd91b57e1fba35295b0b28842c8b235/1dda8/kmp8.png 690w,\n/static/dcd91b57e1fba35295b0b28842c8b235/0e677/kmp8.png 838w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<p><strong>If you're in state 5</strong></p>\n<p>You're in state 5 and you've seen <code class=\"language-cpptext\">ABABA</code>. If you see a <code class=\"language-cpptext\">C</code>, you go to state 6 and you're done.</p>\n<p>What if you see a <code class=\"language-cpptext\">B</code>? You go back to state 4 BUT if you see an A you need to go back to state 1. </p>\n<p><strong>Why???</strong> We'll look at that in the next section, the essence of the algorithm. For now, let's close out the graphical and internal representation:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>1</td>\n<td>3</td>\n<td>1</td>\n<td>5</td>\n<td><strong>1</strong></td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>4</td>\n<td>0</td>\n<td><strong>4</strong></td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td><strong>6</strong></td>\n</tr>\n</tbody>\n</table>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.45378151260504%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAA7ElEQVQoz31S7W7DIAzk/R+gL7OX6KT+j7Qf7cbSjZaQED5y86E4alNpSI6xOfvOEIN1Lcvy5LnyPOPe97jbb3jncPuyzeIwbJil1q2OZvipmlx9SQnucsHv+YzohxaXnBtBmib4/irnn0gxvogwScCzAJnMpcBZC9t1mERFXclKLU9F8zjiRwi74zs+TieEMUhXNKzJwuy9RxQ2NvY31zybM0cQ40mUFck1vIxPdfRvhwOiEBTBEWMaoxSEEEC1LFJr6ta9jsaG/y2jo6gSbcqYppet6h4fb7/fHuXxgE1YqHfLPU0fbv9H7O0P01ok0BPu4ZcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/e0132d7e9af1e0a91adcfda16856cdf4/1dda8/kmp9.png\"\n        srcset=\"/static/e0132d7e9af1e0a91adcfda16856cdf4/27f03/kmp9.png 173w,\n/static/e0132d7e9af1e0a91adcfda16856cdf4/376d0/kmp9.png 345w,\n/static/e0132d7e9af1e0a91adcfda16856cdf4/1dda8/kmp9.png 690w,\n/static/e0132d7e9af1e0a91adcfda16856cdf4/72803/kmp9.png 833w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<p>Once we're done, this is what our final graphical and internal representations will look like:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>0(A)</th>\n<th>1(B)</th>\n<th>2(A)</th>\n<th>3(B)</th>\n<th>4(A)</th>\n<th>5(C)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>A</strong></td>\n<td>1</td>\n<td>1</td>\n<td>3</td>\n<td>1</td>\n<td>5</td>\n<td>1</td>\n</tr>\n<tr>\n<td><strong>B</strong></td>\n<td>0</td>\n<td>2</td>\n<td>0</td>\n<td>4</td>\n<td>0</td>\n<td>4</td>\n</tr>\n<tr>\n<td><strong>C</strong></td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>6</td>\n</tr>\n</tbody>\n</table>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.56401384083045%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAxUlEQVQoz31R1wrDQAzz/39h3kIIgZC9BxkuEihcS1uDwFMn+8w/7L7vxz/P05dlIeZ5JrZtY1696pdv13X5cRwM1Ii473sfhuGtBuz7TuJ1Xb+KsLZtfZomB3HTNF6WJTGO46MMw6jLkFevROhBQzKKIgdxlmUE/DzPqRCEaZp6VVVcF3lAfl3X9Iui4FYGuUmSeBzHfFV3giqsB6WIpQzbfK4Z3tKURCNUdF3HQZAAujHq4d1+mYXsGJYKrQsg9+9nQ7wAiagiB2rpquEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DFA\"\n        title=\"DFA\"\n        src=\"/static/5d2d51ffe92b09a8c16cb4f5d11fcb49/1dda8/kmp10.png\"\n        srcset=\"/static/5d2d51ffe92b09a8c16cb4f5d11fcb49/27f03/kmp10.png 173w,\n/static/5d2d51ffe92b09a8c16cb4f5d11fcb49/376d0/kmp10.png 345w,\n/static/5d2d51ffe92b09a8c16cb4f5d11fcb49/1dda8/kmp10.png 690w,\n/static/5d2d51ffe92b09a8c16cb4f5d11fcb49/0b7a7/kmp10.png 867w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> <a href=\"https://algs4.cs.princeton.edu/home/\">Image Credit - KMP</a></p>\n<h3 id=\"state-transitions\"><a href=\"#state-transitions\" aria-label=\"state transitions permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>State Transitions</h3>","timeToRead":11,"excerpt":"Table of Contents Introduction Deterministic Finite State Automaton Building our DFA State Transitions Conclusion Introduction We've looked…","frontmatter":{"title":"KMP Algorithm","date":"2020-04-05T00:00:00.000Z","categories":["Strings"],"extract":"An analysis of KMP substring search algorithms","thumbnail":"/post-images/kmp.png","tags":["Data Structures","Tries"]},"fields":{"slug":"/kmp-algorithm","date":"April 05, 2020"}}},"pageContext":{"slug":"/kmp-algorithm","nexttitle":"Substring Search","nextslug":"/substring-search","prevtitle":"C++ Standard input","prevslug":"/c-standard-input"}}}