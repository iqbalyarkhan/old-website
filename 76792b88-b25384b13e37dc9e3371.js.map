{"version":3,"sources":["webpack:///./node_modules/darkreader/darkreader.js"],"names":["exports","_assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__values","o","m","__read","r","ar","error","__spreadArray","to","from","il","j","userAgent","navigator","toLowerCase","platform","isChromium","includes","isThunderbird","isFirefox","isSafari","isWindows","startsWith","isMacOS","isShadowDomSupported","ShadowRoot","isMatchMediaChangeEventListenerSupported","MediaQueryList","addEventListener","match","isDefinedSelectorSupported","document","querySelector","err","getOKResponse","url","mimeType","response","_a","fetch","cache","credentials","endsWith","headers","get","Error","ok","status","statusText","loadAsDataURL","readResponseAsDataURL","blob","reader","FileReader","onloadend","readAsDataURL","CSSStyleSheet","throwCORSError","join","fetcher","callFetchMethod","window","chrome","runtime","messageListeners","Set","sendMessage","args","_i","id_1","responseType","text_1","err_1","_b","type","id","data","text","forEach","cb","console","addMessageListener","callback","add","nativeSendMessage_1","onMessage","addListener","nativeAddListener_1","ThemeEngines","DEFAULT_COLORS","background","DEFAULT_THEME","mode","brightness","contrast","grayscale","sepia","useFont","fontFamily","textStroke","engine","stylesheet","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor","scrollbarColor","selectionColor","styleSystemControls","items","e_1","isArrayLike","len","items_1","items_1_1","e_1_1","return","array","addition","a","logInfo","logWarn","throttle","lastArgs","pending","frameId","requestAnimationFrame","cancel","cancelAnimationFrame","getDuration","time","duration","seconds","minutes","hours","days","removeNode","node","parentNode","removeChild","watchForNodePosition","onRestore","Function","RETRY_TIMEOUT","ATTEMPTS_INTERVAL","prevSibling","previousSibling","parent","attempts","start","timeoutId","restore","now","Date","setTimeout","stop","updateParent","insertBefore","nextSibling","firstChild","observer","takeRecords","MutationObserver","run","observe","childList","clearTimeout","disconnect","skip","iterateShadowHosts","root","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","shadowRoot","FILTER_SKIP","FILTER_ACCEPT","currentNode","nextNode","isDOMReady","readyState","readyStateListeners","addDOMReadyListener","listener","removeDOMReadyListener","delete","onReadyStateChange_1","removeEventListener","clear","anchor","optimizedTreeObservers","Map","optimizedTreeCallbacks","WeakMap","createOptimizedTreeObserver","callbacks","observerCallbacks","domReadyListener","has","hadHugeMutationsBefore_1","subscribedForReadyState_1","mutations","addedNodesCount","addedNodes","isHugeMutation","onHugeMutations","elementsOperations_1","additions","deletions","moves","Element","isConnected","removedNodes","duplicateAdditions","duplicateDeletions","parentElement","getElementsTreeOperations","onMinorMutations","subtree","set","size","parsedURLCache","fixBaseURL","$url","createElement","href","parseURL","$base","key","parsedURL_1","URL","parsedURL","getAbsoluteURL","$relative","b","iterateCSSRules","rules","iterate","rule","CSSMediaRule","media","Array","isScreenOrAll","some","isPrintOrSpeech","cssRules","CSSStyleRule","CSSImportRule","styleSheet","CSSSupportsRule","CSS","supports","conditionText","shorthandVarDependantProperties","shorthandVarDepPropRegexps","map","prop","RegExp","iterateCSSDeclarations","style","property","getPropertyValue","trim","cssText","regexp","val","cssURLRegex","cssImportRegex","getCSSURLValue","cssURL","replace","getCSSBaseBath","origin","pathname","cssCommentsRegex","fontFaceRegex","hslToRGB","h","l","_c","x","Math","round","r_1","b_1","c","abs","_d","rgbToHSL","r255","g255","b255","max","min","toFixed","digits","fixed","dot","indexOf","zerosMatch","index","substring","hslToString","hsl","rgbMatch","hslMatch","hexMatch","parse","$color","getNumbersFromString","rgbSplitter","rgbRange","rgbUnits","$hsl","hslSplitter","hslRange","hslUnits","parseHSL","$hex","parseInt","parseHex","knownColors","getColorByName","systemColors","getSystemColor","str","splitter","range","units","raw","split","filter","unitsList","entries","unit","find","u","parseFloat","PI","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","ActiveBorder","ActiveCaption","AppWorkspace","Background","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","CaptionText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","Window","WindowFrame","WindowText","scale","inLow","inHigh","outLow","outHigh","clamp","multiplyMatrices","m1","m2","len2","sum","k","len3","getMatches","regex","input","group","matches","exec","createFilterMatrix","config","Matrix","identity","invertNHue","getBgPole","theme","getFgPole","colorModificationCache","colorParseCache$1","parseToHSLWithCache","color","FilterMode","rgbCacheKeys","themeCacheKeys$1","modifyColorWithCache","rgb","modifyHSL","poleColor","anotherPoleColor","fnCache","concat","getCacheId","matrix","applyColorMatrix","rf","gf","bf","toString","rgbToHexString","rgbToString","noopHSL","modifyLightSchemeColor","poleBg","modifyLightModeHSL","poleFg","isDark","hx","sx","modifyBgHSL","pole","isNeutral","lx_1","lx","modifyBackgroundColor","modifyBlueFgHue","hue","modifyFgHSL","isBlue","lx_2","hx_4","modifyForegroundColor","modifyBorderHSL","modifyBorderColor","modifyGradientColor","getCSSFilterValue","filters","dark","canvas","context","counter","resolvers$1","rejectors","bgFetch","request","getImageDetails","dataURL","image","info","getImageDataURL","urlToImage","width","height","getContext","imageSmoothingEnabled","naturalWidth","naturalHeight","currentSrc","naturalPixelsCount","sqrt","ceil","clearRect","drawImage","d","getImageData","transparentPixelsCount","darkPixelsCount","lightPixelsCount","totalPixelsCount","opaquePixelsCount","isLight","isTransparent","isLarge","analyzeImage","src","location","Image","onload","onerror","objectURLs","getFilteredImageDataURL","svg","slice","bytes","Uint8Array","charCodeAt","Blob","objectURL","createObjectURL","cleanImageProcessingCache","revokeObjectURL","getModifiableCSSDeclaration","variablesStore","ignoreImageSelectors","isCancelled","important","Boolean","getPropertyPriority","sourceValue","modifier","ignoredImgSelectors","getModifierForVariable","varName","getVariableModifier","getModifierForVarDependant","getVariableDependantModifier","unparsableColors","rgb_1","parseColorWithCache","getColorModifier","getBgImageModifier","index_2","colorMatches_1","modifiers_2","prefixIndex","matchIndex","matchEnd","tryParseColor","modifyShadowColor","modify","getShadowModifier","getModifiedUserAgentStyle","isIFrame","lines","colorTrack","colorIcons","colorThumb","colorThumbHover","colorThumbActive","colorCorner","hsl_1","lighten","lighter","darken","darker","getModifiedScrollbarStyle","modifiedSelectionColor","getSelectionColor","backgroundColorSelection","foregroundColorSelection","selection","getModifiedSelectionStyle","getModifiedFallbackStyle","strict","colorParseCache","gradientRegex","imageDetailsCache","awaitingForImageLoading","_this","gradients","urls","getIndices","valueIndex","matches_1","sort","getBgImageValue_1","imageDetails","modifiers_1","index_1","matchStart","prefixStart","urlValue","selectorText","selectors","ruleSelectors","_loop_1","ignoredSelector","state_1","shouldIgnoreImage","parentStyleSheet","baseURL","ownerNode","baseURI","absoluteValue","awaiters_1","getURLModifier_1","gradient","content","colorStopRegex","parts","part","space","lastIndexOf","colorStopMatch","getGradientModifier_1","results","all","asyncResults","cleanModificationCache","VariablesStore","varTypes","rulesQueue","definedVars","varRefs","unknownColorVars","unknownBgVars","undefinedVars","initialVarTypes","changedTypeVars","typeChangeSubscriptions","unstableVarValues","splice","isVarType","typeNum","addRulesForMatching","matchVariablesAndDependants","collectRootVariables","collectVariables","collectVarDependants","collectRootVarDependants","refs","resolveVariableType","VAR_TYPE_BGCOLOR","findVarRef","ref","VAR_TYPE_TEXTCOLOR","itarateVarRefs","options","getDeclarations","declarations","addModifiedValue","varNameWrapper","colorModifier","modifiedValue","isVarDependant","isConstructedColorVar","insertVarValues","replaceCSSVariablesNames","fallback","wrapBgColorVariableName","tryModifyBgColor","wrapTextColorVariableName","tryModifyTextColor","wrapBorderColorVariableName","tryModifyBorderColor","wrapBgImgVariableName","bgModifier","onTypeChange","decs","subscribeForVarTypeChange","removeListeners","unsubscribeFromVariableTypeChanges","isBg_1","isText_1","unknownVars","modified","firstUnknownVar","values","newValue","colorTypeMatch","iterateVariables","inspectVariable","documentElement","isVariable","initialType","newType","iterateVarDependants","inspectVerDependant","iterateVarDeps","isBgColor","varDeps","iterateVarDependencies","stack","refs_1","refs_1_1","found","putRootVars","styleElement","e_2","sheet","deleteRule","cssLines","declarations_1","declarations_1_1","e_2_1","insertRule","getVariableRange","searchStart","searchStartIndex","depth","firstOpenIndex","openIndex","closingIndex","end","getParenthesesRange","replaceVariablesMatches","replacer","ranges","getVariablesMatches","matchesCount","inputLength","replacements","getVariableNameAndFallback","name","commaIndex","nemeReplacer","fallbackReplacer","newName","source","varValues","containsUnresolvedVar","replaced","varValue","inserted","overrides","customProp","cssProp","dataAttr","overridesList","INLINE_STYLE_ATTRS","INLINE_STYLE_SELECTOR","attr","getInlineOverrideStyle","treeObservers","attrObservers","deepWatchForInlineStyles","elementStyleDidChange","shadowRootDiscovered","discoveredNodes","WeakSet","discoverNodes","Document","querySelectorAll","getInlineStyleElements","el","treeObserver","added","attemptCount","handleAttributeMutations","attributeName","target","attrObserver","attributeCache","attributes","attributeFilter","inlineStyleCache","filterProps","getInlineStyleCacheKey","getAttribute","overrideInlineStyle","element","ignoreInlineSelectors","unsetProps","keys","ingnoredSelector","shouldIgnoreInlineStyle","removeAttribute","hasAttribute","setCustomProp","SVGElement","isBg","SVGTextElement","getBoundingClientRect","SVGLineElement","fill","targetCSSProp","modifierCSSProp","cssVal","mod","setProperty","setAttribute","srcMetaThemeColor","changeMetaThemeColor","meta","themeCacheKeys","asyncQueue","tasks","runTasks","task","shift","createAsyncTasksQueue","createStyleSheetModifier","renderId","rulesTextCache","rulesModCache","varTypeChangeCleaners","prevFilterKey","modifySheet","sourceCSSRules","ignoreImageAnalysis","force","prepareSheet","isAsyncCancelled","rulesChanged","notFoundCacheKeys","themeKey","getThemeKey","themeChanged","modRules","textDiffersFromPrev","modDecs","modRule","parentRule","selector","asyncDeclarations","varDeclarations","asyncDeclarationCounter","varDeclarationCounter","rootReadyGroup","isGroup","groupRefs","getGroup","readyStyleRule","readyDeclarations","handleAsyncDeclaration","asyncKey","asyncDeclaration","currentRenderId","asyncValue","setRule","rebuildAsyncRule","handleVarDeclarations","varDecs","varKey","initialIndex","oldDecs","tempDec","readyDec","newDecs","readyVarDecs","rebuildVarRule","iterateReadyRules","styleIterator","mediaText","createTarget","ruleText","dec","shouldManageStyle","HTMLStyleElement","SVGStyleElement","HTMLLinkElement","rel","disabled","classList","contains","getManageableStyles","deep","host","syncStyleSet","corsStyleSet","canOptimizeUsingProxy$1","manageStyle","update","loadingStart","loadingEnd","prevStyles","nextElementSibling","corsCopy","syncStyle","corsCopyPositionWatcher","syncStylePositionWatcher","cancelAsyncOperations","isOverrideEmpty","sheetModifier","observerOptions","characterData","containsCSSImport","textContent","getRulesSync","safeGetSheetRules","insertStyle","isLoadingRules","wasLoadingError","getRulesAsync","cssBasePath","accessError","fullCSSText","getRulesOrError","message","linkLoading","loadText","replaceCSSImports","srcElement","cors","createCORSCopy","forceRenderStyle","watchForSheetChanges","onSheetChange","rulesChangeKey","getRulesChangeKey","stopWatchingForSheetChangesUsingRAF","checkForUpdate","rulesCheckFrameId","areSheetChangesPending","handleSheetChanges","queueMicrotask","stopWatchingForSheetChanges","pause","moveCount","details","catch","render","prepareOverridesSheet","createElementNS","title","buildOverrides","destroy","watch","link","cleanUp","onLoad","onError","basePath","importMatches","importMatches_1","importMatches_1_1","importURL","absoluteURL","importedCSS","$css","pathValue","replaceCSSRelativeURLsWithAbsolute","replaceCSSFontFace","observedRoots","elementsDefinitionCallback","observers","undefinedGroups","collectUndefinedElements","tag","tagName","customElements","whenDefined","canOptimizeUsingProxy","resolvers","dispatchEvent","CustomEvent","detail","checkIfDefined_1","elements","customElementsWhenDefined","handleIsDefined","watchForStyleChanges","currentStyles","stopWatchingForStyleChanges","prevStyleSiblings","nextStyleSiblings","saveStylePosition","previousElementSibling","handleStyleOperations","operations","createdStyles","removedStyles","movedStyles","created","removed","moved","updated","handleMinorTreeMutations","subscribeForShadowRootChanges","handleHugeTreeMutations","styles","updatedStyles","hosts","newStyles","adoptedStyleOverrides","overrideList","createAdoptedStyleSheetOverride","adoptedStyleSheets","override","newSheets","sheetIndex","existingIndex","injectSheet","adoptedStyleSheet","injectProxy","addRuleDescriptor","getOwnPropertyDescriptor","insertRuleDescriptor","deleteRuleDescriptor","removeRuleDescriptor","shouldWrapDocStyleSheets","hostname","documentStyleSheetsDescriptor","addUndefinedResolver","defineProperty","updateSheetEvent","Event","returnValue","filtered","setPrototypeOf","StyleSheetList","INSTANCE_ID","crypto","getRandomValues","number","styleManagers","adoptedStyleManagers","fixes","isIFrame$1","ignoredImageAnalysisSelectors","ignoredInlineSelectors","createOrUpdateStyle","className","head","nodePositionWatchers","setupNodePositionWatcher","alias","createStaticStyleOverrides","fallbackStyle","userAgentStyle","textStyle","invertStyle","isArray","invert","inlineStyle","overrideStyle","css","replaceCSSTemplates","appendChild","variableStyle","selectionColors","schemeBackgroundColor","schemeTextColor","rootVarsStyle","proxyScript","createOrUpdateScript","shadowRootsWithOverrides","createShadowStaticStyleOverrides","$cssText","m0","cleanFallbackStyle","loadingStylesCounter","loadingStyles","createManager","loadingStyleId","manager","didDocumentShowUp","removeManager","throttledRenderAllStyles","cancelRendering","onDOMReady","documentVisibilityListener","hidden","stopWatchingForDocumentVisibility","createThemeAndWatchForUpdates","runDynamicStyle","newManagers","inlineStyleElements","toArray","handleAdoptedStyleSheets","createDynamicStyleOverrides","stylesToRemove","stylesToManage","stylesToRestore","alreadyWatching","loop","HTMLMetaElement","newManger","stopWatchingForUpdates","watcher","isAnotherDarkReaderInstanceActive","metaElement","createOrUpdateDynamicTheme","filterConfig","dynamicThemeFixes","iframe","ignoreInlineStyle","headObserver_1","removeDynamicTheme","restoreMetaThemeColor","blobRegex","replaceBlobs","promises","promise","collectCSS","addStaticCSS","comment","staticStyle","modifiedCSS","formattedCSS","trimLeft","getIndent","repeat","emptyRuleRegexp","test","formatted","line","formatCSS","isDarkReaderEnabled","self","top","warn","enable","themeOptions","disable","darkScheme","matchMedia","store","handleColorScheme","setFetchMethod","auto","removeListener","exportGeneratedCSS","isEnabled","factory"],"mappings":"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","file":"76792b88-b25384b13e37dc9e3371.js","sourcesContent":["require(\"core-js/modules/es.typed-array.sort.js\");\n\nrequire(\"core-js/modules/es.array.sort.js\");\n\n/**\n * Dark Reader v4.9.33\n * https://darkreader.org/\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.DarkReader = {}));\n})(this, function (exports) {\n  'use strict';\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation.\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n  purpose with or without fee is hereby granted.\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n  PERFORMANCE OF THIS SOFTWARE.\r\n  ***************************************************************************** */\n\n  var _assign = function __assign() {\n    _assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return _assign.apply(this, arguments);\n  };\n\n  function __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  }\n\n  function __generator(thisArg, body) {\n    var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n        f,\n        y,\n        t,\n        g;\n    return g = {\n      next: verb(0),\n      \"throw\": verb(1),\n      \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n      return this;\n    }), g;\n\n    function verb(n) {\n      return function (v) {\n        return step([n, v]);\n      };\n    }\n\n    function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n\n      while (_) {\n        try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n\n          switch (op[0]) {\n            case 0:\n            case 1:\n              t = op;\n              break;\n\n            case 4:\n              _.label++;\n              return {\n                value: op[1],\n                done: false\n              };\n\n            case 5:\n              _.label++;\n              y = op[1];\n              op = [0];\n              continue;\n\n            case 7:\n              op = _.ops.pop();\n\n              _.trys.pop();\n\n              continue;\n\n            default:\n              if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                _ = 0;\n                continue;\n              }\n\n              if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                _.label = op[1];\n                break;\n              }\n\n              if (op[0] === 6 && _.label < t[1]) {\n                _.label = t[1];\n                t = op;\n                break;\n              }\n\n              if (t && _.label < t[2]) {\n                _.label = t[2];\n\n                _.ops.push(op);\n\n                break;\n              }\n\n              if (t[2]) _.ops.pop();\n\n              _.trys.pop();\n\n              continue;\n          }\n\n          op = body.call(thisArg, _);\n        } catch (e) {\n          op = [6, e];\n          y = 0;\n        } finally {\n          f = t = 0;\n        }\n      }\n\n      if (op[0] & 5) throw op[1];\n      return {\n        value: op[0] ? op[1] : void 0,\n        done: true\n      };\n    }\n  }\n\n  function __values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator,\n        m = s && o[s],\n        i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n      next: function next() {\n        if (o && i >= o.length) o = void 0;\n        return {\n          value: o && o[i++],\n          done: !o\n        };\n      }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n  }\n\n  function __read(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o),\n        r,\n        ar = [],\n        e;\n\n    try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n        ar.push(r.value);\n      }\n    } catch (error) {\n      e = {\n        error: error\n      };\n    } finally {\n      try {\n        if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      } finally {\n        if (e) throw e.error;\n      }\n    }\n\n    return ar;\n  }\n\n  function __spreadArray(to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n      to[j] = from[i];\n    }\n\n    return to;\n  }\n\n  var userAgent = typeof navigator === 'undefined' ? 'some useragent' : navigator.userAgent.toLowerCase();\n  var platform = typeof navigator === 'undefined' ? 'some platform' : navigator.platform.toLowerCase();\n  var isChromium = userAgent.includes('chrome') || userAgent.includes('chromium');\n  var isThunderbird = userAgent.includes('thunderbird');\n  var isFirefox = userAgent.includes('firefox') || isThunderbird;\n  userAgent.includes('vivaldi');\n  userAgent.includes('yabrowser');\n  userAgent.includes('opr') || userAgent.includes('opera');\n  userAgent.includes('edg');\n  var isSafari = userAgent.includes('safari') && !isChromium;\n  var isWindows = platform.startsWith('win');\n  var isMacOS = platform.startsWith('mac');\n  userAgent.includes('mobile');\n  var isShadowDomSupported = typeof ShadowRoot === 'function';\n  var isMatchMediaChangeEventListenerSupported = typeof MediaQueryList === 'function' && typeof MediaQueryList.prototype.addEventListener === 'function';\n\n  (function () {\n    var m = userAgent.match(/chrom[e|ium]\\/([^ ]+)/);\n\n    if (m && m[1]) {\n      return m[1];\n    } else {\n      return '';\n    }\n  })();\n\n  var isDefinedSelectorSupported = function () {\n    try {\n      document.querySelector(':defined');\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }();\n\n  (function () {\n    try {\n      new CSSStyleSheet();\n      return true;\n    } catch (err) {\n      return false;\n    }\n  })();\n\n  function getOKResponse(url, mimeType) {\n    return __awaiter(this, void 0, void 0, function () {\n      var response;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, fetch(url, {\n              cache: 'force-cache',\n              credentials: 'omit'\n            })];\n\n          case 1:\n            response = _a.sent();\n\n            if (isFirefox && mimeType === 'text/css' && url.startsWith('moz-extension://') && url.endsWith('.css')) {\n              return [2, response];\n            }\n\n            if (mimeType && !response.headers.get('Content-Type').startsWith(mimeType)) {\n              throw new Error(\"Mime type mismatch when loading \" + url);\n            }\n\n            if (!response.ok) {\n              throw new Error(\"Unable to load \" + url + \" \" + response.status + \" \" + response.statusText);\n            }\n\n            return [2, response];\n        }\n      });\n    });\n  }\n\n  function loadAsDataURL(url, mimeType) {\n    return __awaiter(this, void 0, void 0, function () {\n      var response;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, getOKResponse(url, mimeType)];\n\n          case 1:\n            response = _a.sent();\n            return [4, readResponseAsDataURL(response)];\n\n          case 2:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function readResponseAsDataURL(response) {\n    return __awaiter(this, void 0, void 0, function () {\n      var blob, dataURL;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, response.blob()];\n\n          case 1:\n            blob = _a.sent();\n            return [4, new Promise(function (resolve) {\n              var reader = new FileReader();\n\n              reader.onloadend = function () {\n                return resolve(reader.result);\n              };\n\n              reader.readAsDataURL(blob);\n            })];\n\n          case 2:\n            dataURL = _a.sent();\n            return [2, dataURL];\n        }\n      });\n    });\n  }\n\n  var throwCORSError = function throwCORSError(url) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, Promise.reject(new Error(['Embedded Dark Reader cannot access a cross-origin resource', url, 'Overview your URLs and CORS policies or use', '`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.', 'See if using `DarkReader.setFetchMethod(window.fetch)`', 'before `DarkReader.enable()` works.'].join(' ')))];\n      });\n    });\n  };\n\n  var fetcher = throwCORSError;\n\n  function setFetchMethod$1(fetch) {\n    if (fetch) {\n      fetcher = fetch;\n    } else {\n      fetcher = throwCORSError;\n    }\n  }\n\n  function callFetchMethod(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, fetcher(url)];\n\n          case 1:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  if (!window.chrome) {\n    window.chrome = {};\n  }\n\n  if (!chrome.runtime) {\n    chrome.runtime = {};\n  }\n\n  var messageListeners = new Set();\n\n  function sendMessage() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var id_1, _a, url, responseType, response, text_1, err_1;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!(args[0] && args[0].type === 'fetch')) return [3, 8];\n            id_1 = args[0].id;\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 7,, 8]);\n\n            _a = args[0].data, url = _a.url, responseType = _a.responseType;\n            return [4, callFetchMethod(url)];\n\n          case 2:\n            response = _b.sent();\n            if (!(responseType === 'data-url')) return [3, 4];\n            return [4, readResponseAsDataURL(response)];\n\n          case 3:\n            text_1 = _b.sent();\n            return [3, 6];\n\n          case 4:\n            return [4, response.text()];\n\n          case 5:\n            text_1 = _b.sent();\n            _b.label = 6;\n\n          case 6:\n            messageListeners.forEach(function (cb) {\n              return cb({\n                type: 'fetch-response',\n                data: text_1,\n                error: null,\n                id: id_1\n              });\n            });\n            return [3, 8];\n\n          case 7:\n            err_1 = _b.sent();\n            console.error(err_1);\n            messageListeners.forEach(function (cb) {\n              return cb({\n                type: 'fetch-response',\n                data: null,\n                err: err_1,\n                id: id_1\n              });\n            });\n            return [3, 8];\n\n          case 8:\n            return [2];\n        }\n      });\n    });\n  }\n\n  function addMessageListener(callback) {\n    messageListeners.add(callback);\n  }\n\n  if (typeof chrome.runtime.sendMessage === 'function') {\n    var nativeSendMessage_1 = chrome.runtime.sendMessage;\n\n    chrome.runtime.sendMessage = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      sendMessage.apply(void 0, __spreadArray([], __read(args)));\n      nativeSendMessage_1.apply(chrome.runtime, args);\n    };\n  } else {\n    chrome.runtime.sendMessage = sendMessage;\n  }\n\n  if (!chrome.runtime.onMessage) {\n    chrome.runtime.onMessage = {};\n  }\n\n  if (typeof chrome.runtime.onMessage.addListener === 'function') {\n    var nativeAddListener_1 = chrome.runtime.onMessage.addListener;\n\n    chrome.runtime.onMessage.addListener = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      addMessageListener.apply(void 0, __spreadArray([], __read(args)));\n      nativeAddListener_1.apply(chrome.runtime.onMessage, args);\n    };\n  } else {\n    chrome.runtime.onMessage.addListener = addMessageListener;\n  }\n\n  var ThemeEngines = {\n    cssFilter: 'cssFilter',\n    svgFilter: 'svgFilter',\n    staticTheme: 'staticTheme',\n    dynamicTheme: 'dynamicTheme'\n  };\n  var DEFAULT_COLORS = {\n    darkScheme: {\n      background: '#181a1b',\n      text: '#e8e6e3'\n    },\n    lightScheme: {\n      background: '#dcdad7',\n      text: '#181a1b'\n    }\n  };\n  var DEFAULT_THEME = {\n    mode: 1,\n    brightness: 100,\n    contrast: 100,\n    grayscale: 0,\n    sepia: 0,\n    useFont: false,\n    fontFamily: isMacOS ? 'Helvetica Neue' : isWindows ? 'Segoe UI' : 'Open Sans',\n    textStroke: 0,\n    engine: ThemeEngines.dynamicTheme,\n    stylesheet: '',\n    darkSchemeBackgroundColor: DEFAULT_COLORS.darkScheme.background,\n    darkSchemeTextColor: DEFAULT_COLORS.darkScheme.text,\n    lightSchemeBackgroundColor: DEFAULT_COLORS.lightScheme.background,\n    lightSchemeTextColor: DEFAULT_COLORS.lightScheme.text,\n    scrollbarColor: isMacOS ? '' : 'auto',\n    selectionColor: 'auto',\n    styleSystemControls: true\n  };\n\n  function isArrayLike(items) {\n    return items.length != null;\n  }\n\n  function forEach(items, iterator) {\n    var e_1, _a;\n\n    if (isArrayLike(items)) {\n      for (var i = 0, len = items.length; i < len; i++) {\n        iterator(items[i]);\n      }\n    } else {\n      try {\n        for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n          var item = items_1_1.value;\n          iterator(item);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n  }\n\n  function push(array, addition) {\n    forEach(addition, function (a) {\n      return array.push(a);\n    });\n  }\n\n  function toArray(items) {\n    var results = [];\n\n    for (var i = 0, len = items.length; i < len; i++) {\n      results.push(items[i]);\n    }\n\n    return results;\n  }\n\n  function logInfo() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n  }\n\n  function logWarn() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n  }\n\n  function throttle(callback) {\n    var pending = false;\n    var frameId = null;\n    var lastArgs;\n\n    var throttled = function throttled() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      lastArgs = args;\n\n      if (frameId) {\n        pending = true;\n      } else {\n        callback.apply(void 0, __spreadArray([], __read(lastArgs)));\n        frameId = requestAnimationFrame(function () {\n          frameId = null;\n\n          if (pending) {\n            callback.apply(void 0, __spreadArray([], __read(lastArgs)));\n            pending = false;\n          }\n        });\n      }\n    };\n\n    var cancel = function cancel() {\n      cancelAnimationFrame(frameId);\n      pending = false;\n      frameId = null;\n    };\n\n    return Object.assign(throttled, {\n      cancel: cancel\n    });\n  }\n\n  function createAsyncTasksQueue() {\n    var tasks = [];\n    var frameId = null;\n\n    function runTasks() {\n      var task;\n\n      while (task = tasks.shift()) {\n        task();\n      }\n\n      frameId = null;\n    }\n\n    function add(task) {\n      tasks.push(task);\n\n      if (!frameId) {\n        frameId = requestAnimationFrame(runTasks);\n      }\n    }\n\n    function cancel() {\n      tasks.splice(0);\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n\n    return {\n      add: add,\n      cancel: cancel\n    };\n  }\n\n  function getDuration(time) {\n    var duration = 0;\n\n    if (time.seconds) {\n      duration += time.seconds * 1000;\n    }\n\n    if (time.minutes) {\n      duration += time.minutes * 60 * 1000;\n    }\n\n    if (time.hours) {\n      duration += time.hours * 60 * 60 * 1000;\n    }\n\n    if (time.days) {\n      duration += time.days * 24 * 60 * 60 * 1000;\n    }\n\n    return duration;\n  }\n\n  function removeNode(node) {\n    node && node.parentNode && node.parentNode.removeChild(node);\n  }\n\n  function watchForNodePosition(node, mode, onRestore) {\n    if (onRestore === void 0) {\n      onRestore = Function.prototype;\n    }\n\n    var MAX_ATTEMPTS_COUNT = 10;\n    var RETRY_TIMEOUT = getDuration({\n      seconds: 2\n    });\n    var ATTEMPTS_INTERVAL = getDuration({\n      seconds: 10\n    });\n    var prevSibling = node.previousSibling;\n    var parent = node.parentNode;\n\n    if (!parent) {\n      throw new Error('Unable to watch for node position: parent element not found');\n    }\n\n    if (mode === 'prev-sibling' && !prevSibling) {\n      throw new Error('Unable to watch for node position: there is no previous sibling');\n    }\n\n    var attempts = 0;\n    var start = null;\n    var timeoutId = null;\n    var restore = throttle(function () {\n      if (timeoutId) {\n        return;\n      }\n\n      attempts++;\n      var now = Date.now();\n\n      if (start == null) {\n        start = now;\n      } else if (attempts >= MAX_ATTEMPTS_COUNT) {\n        if (now - start < ATTEMPTS_INTERVAL) {\n          logWarn(\"Node position watcher paused: retry in \" + RETRY_TIMEOUT + \"ms\", node, prevSibling);\n          timeoutId = setTimeout(function () {\n            start = null;\n            attempts = 0;\n            timeoutId = null;\n            restore();\n          }, RETRY_TIMEOUT);\n          return;\n        }\n\n        start = now;\n        attempts = 1;\n      }\n\n      if (mode === 'parent') {\n        if (prevSibling && prevSibling.parentNode !== parent) {\n          logWarn('Unable to restore node position: sibling parent changed', node, prevSibling, parent);\n          stop();\n          return;\n        }\n      }\n\n      if (mode === 'prev-sibling') {\n        if (prevSibling.parentNode == null) {\n          logWarn('Unable to restore node position: sibling was removed', node, prevSibling, parent);\n          stop();\n          return;\n        }\n\n        if (prevSibling.parentNode !== parent) {\n          logWarn('Style was moved to another parent', node, prevSibling, parent);\n          updateParent(prevSibling.parentNode);\n        }\n      }\n\n      logWarn('Restoring node position', node, prevSibling, parent);\n      parent.insertBefore(node, prevSibling ? prevSibling.nextSibling : parent.firstChild);\n      observer.takeRecords();\n      onRestore && onRestore();\n    });\n    var observer = new MutationObserver(function () {\n      if (mode === 'parent' && node.parentNode !== parent || mode === 'prev-sibling' && node.previousSibling !== prevSibling) {\n        restore();\n      }\n    });\n\n    var run = function run() {\n      observer.observe(parent, {\n        childList: true\n      });\n    };\n\n    var stop = function stop() {\n      clearTimeout(timeoutId);\n      observer.disconnect();\n      restore.cancel();\n    };\n\n    var skip = function skip() {\n      observer.takeRecords();\n    };\n\n    var updateParent = function updateParent(parentNode) {\n      parent = parentNode;\n      stop();\n      run();\n    };\n\n    run();\n    return {\n      run: run,\n      stop: stop,\n      skip: skip\n    };\n  }\n\n  function iterateShadowHosts(root, iterator) {\n    if (root == null) {\n      return;\n    }\n\n    var walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n      acceptNode: function acceptNode(node) {\n        return node.shadowRoot == null ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n      }\n    });\n\n    for (var node = root.shadowRoot ? walker.currentNode : walker.nextNode(); node != null; node = walker.nextNode()) {\n      iterator(node);\n      iterateShadowHosts(node.shadowRoot, iterator);\n    }\n  }\n\n  function isDOMReady() {\n    return document.readyState === 'complete' || document.readyState === 'interactive';\n  }\n\n  var readyStateListeners = new Set();\n\n  function addDOMReadyListener(listener) {\n    readyStateListeners.add(listener);\n  }\n\n  function removeDOMReadyListener(listener) {\n    readyStateListeners.delete(listener);\n  }\n\n  if (!isDOMReady()) {\n    var onReadyStateChange_1 = function onReadyStateChange_1() {\n      if (isDOMReady()) {\n        document.removeEventListener('readystatechange', onReadyStateChange_1);\n        readyStateListeners.forEach(function (listener) {\n          return listener();\n        });\n        readyStateListeners.clear();\n      }\n    };\n\n    document.addEventListener('readystatechange', onReadyStateChange_1);\n  }\n\n  var HUGE_MUTATIONS_COUNT = 1000;\n\n  function isHugeMutation(mutations) {\n    if (mutations.length > HUGE_MUTATIONS_COUNT) {\n      return true;\n    }\n\n    var addedNodesCount = 0;\n\n    for (var i = 0; i < mutations.length; i++) {\n      addedNodesCount += mutations[i].addedNodes.length;\n\n      if (addedNodesCount > HUGE_MUTATIONS_COUNT) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function getElementsTreeOperations(mutations) {\n    var additions = new Set();\n    var deletions = new Set();\n    var moves = new Set();\n    mutations.forEach(function (m) {\n      forEach(m.addedNodes, function (n) {\n        if (n instanceof Element && n.isConnected) {\n          additions.add(n);\n        }\n      });\n      forEach(m.removedNodes, function (n) {\n        if (n instanceof Element) {\n          if (n.isConnected) {\n            moves.add(n);\n          } else {\n            deletions.add(n);\n          }\n        }\n      });\n    });\n    moves.forEach(function (n) {\n      return additions.delete(n);\n    });\n    var duplicateAdditions = [];\n    var duplicateDeletions = [];\n    additions.forEach(function (node) {\n      if (additions.has(node.parentElement)) {\n        duplicateAdditions.push(node);\n      }\n    });\n    deletions.forEach(function (node) {\n      if (deletions.has(node.parentElement)) {\n        duplicateDeletions.push(node);\n      }\n    });\n    duplicateAdditions.forEach(function (node) {\n      return additions.delete(node);\n    });\n    duplicateDeletions.forEach(function (node) {\n      return deletions.delete(node);\n    });\n    return {\n      additions: additions,\n      moves: moves,\n      deletions: deletions\n    };\n  }\n\n  var optimizedTreeObservers = new Map();\n  var optimizedTreeCallbacks = new WeakMap();\n\n  function createOptimizedTreeObserver(root, callbacks) {\n    var observer;\n    var observerCallbacks;\n    var domReadyListener;\n\n    if (optimizedTreeObservers.has(root)) {\n      observer = optimizedTreeObservers.get(root);\n      observerCallbacks = optimizedTreeCallbacks.get(observer);\n    } else {\n      var hadHugeMutationsBefore_1 = false;\n      var subscribedForReadyState_1 = false;\n      observer = new MutationObserver(function (mutations) {\n        if (isHugeMutation(mutations)) {\n          if (!hadHugeMutationsBefore_1 || isDOMReady()) {\n            observerCallbacks.forEach(function (_a) {\n              var onHugeMutations = _a.onHugeMutations;\n              return onHugeMutations(root);\n            });\n          } else {\n            if (!subscribedForReadyState_1) {\n              domReadyListener = function domReadyListener() {\n                return observerCallbacks.forEach(function (_a) {\n                  var onHugeMutations = _a.onHugeMutations;\n                  return onHugeMutations(root);\n                });\n              };\n\n              addDOMReadyListener(domReadyListener);\n              subscribedForReadyState_1 = true;\n            }\n          }\n\n          hadHugeMutationsBefore_1 = true;\n        } else {\n          var elementsOperations_1 = getElementsTreeOperations(mutations);\n          observerCallbacks.forEach(function (_a) {\n            var onMinorMutations = _a.onMinorMutations;\n            return onMinorMutations(elementsOperations_1);\n          });\n        }\n      });\n      observer.observe(root, {\n        childList: true,\n        subtree: true\n      });\n      optimizedTreeObservers.set(root, observer);\n      observerCallbacks = new Set();\n      optimizedTreeCallbacks.set(observer, observerCallbacks);\n    }\n\n    observerCallbacks.add(callbacks);\n    return {\n      disconnect: function disconnect() {\n        observerCallbacks.delete(callbacks);\n\n        if (domReadyListener) {\n          removeDOMReadyListener(domReadyListener);\n        }\n\n        if (observerCallbacks.size === 0) {\n          observer.disconnect();\n          optimizedTreeCallbacks.delete(observer);\n          optimizedTreeObservers.delete(root);\n        }\n      }\n    };\n  }\n\n  var anchor;\n  var parsedURLCache = new Map();\n\n  function fixBaseURL($url) {\n    if (!anchor) {\n      anchor = document.createElement('a');\n    }\n\n    anchor.href = $url;\n    return anchor.href;\n  }\n\n  function parseURL($url, $base) {\n    if ($base === void 0) {\n      $base = null;\n    }\n\n    var key = \"\" + $url + ($base ? ';' + $base : '');\n\n    if (parsedURLCache.has(key)) {\n      return parsedURLCache.get(key);\n    }\n\n    if ($base) {\n      var parsedURL_1 = new URL($url, fixBaseURL($base));\n      parsedURLCache.set(key, parsedURL_1);\n      return parsedURL_1;\n    }\n\n    var parsedURL = new URL(fixBaseURL($url));\n    parsedURLCache.set($url, parsedURL);\n    return parsedURL;\n  }\n\n  function getAbsoluteURL($base, $relative) {\n    if ($relative.match(/^data\\\\?\\:/)) {\n      return $relative;\n    }\n\n    var b = parseURL($base);\n    var a = parseURL($relative, b.href);\n    return a.href;\n  }\n\n  function iterateCSSRules(rules, iterate) {\n    forEach(rules, function (rule) {\n      if (rule instanceof CSSMediaRule) {\n        var media = Array.from(rule.media);\n        var isScreenOrAll = media.some(function (m) {\n          return m.startsWith('screen') || m.startsWith('all');\n        });\n        var isPrintOrSpeech = media.some(function (m) {\n          return m.startsWith('print') || m.startsWith('speech');\n        });\n\n        if (isScreenOrAll || !isPrintOrSpeech) {\n          iterateCSSRules(rule.cssRules, iterate);\n        }\n      } else if (rule instanceof CSSStyleRule) {\n        iterate(rule);\n      } else if (rule instanceof CSSImportRule) {\n        try {\n          iterateCSSRules(rule.styleSheet.cssRules, iterate);\n        } catch (err) {\n          logWarn(err);\n        }\n      } else if (rule instanceof CSSSupportsRule) {\n        if (CSS.supports(rule.conditionText)) {\n          iterateCSSRules(rule.cssRules, iterate);\n        }\n      } else {\n        logWarn(\"CSSRule type not supported\", rule);\n      }\n    });\n  }\n\n  var shorthandVarDependantProperties = ['background', 'border', 'border-color', 'border-bottom', 'border-left', 'border-right', 'border-top', 'outline', 'outline-color'];\n  var shorthandVarDepPropRegexps = isSafari ? shorthandVarDependantProperties.map(function (prop) {\n    var regexp = new RegExp(prop + \":\\\\s*(.*?)\\\\s*;\");\n    return [prop, regexp];\n  }) : null;\n\n  function iterateCSSDeclarations(style, iterate) {\n    forEach(style, function (property) {\n      var value = style.getPropertyValue(property).trim();\n\n      if (!value) {\n        return;\n      }\n\n      iterate(property, value);\n    });\n\n    if (isSafari && style.cssText.includes('var(')) {\n      shorthandVarDepPropRegexps.forEach(function (_a) {\n        var _b = __read(_a, 2),\n            prop = _b[0],\n            regexp = _b[1];\n\n        var match = style.cssText.match(regexp);\n\n        if (match && match[1]) {\n          var val = match[1].trim();\n          iterate(prop, val);\n        }\n      });\n    } else {\n      shorthandVarDependantProperties.forEach(function (prop) {\n        var val = style.getPropertyValue(prop);\n\n        if (val && val.includes('var(')) {\n          iterate(prop, val);\n        }\n      });\n    }\n  }\n\n  var cssURLRegex = /url\\((('.+?')|(\".+?\")|([^\\)]*?))\\)/g;\n  var cssImportRegex = /@import\\s*(url\\()?(('.+?')|(\".+?\")|([^\\)]*?))\\)?;?/g;\n\n  function getCSSURLValue(cssURL) {\n    return cssURL.replace(/^url\\((.*)\\)$/, '$1').replace(/^\"(.*)\"$/, '$1').replace(/^'(.*)'$/, '$1');\n  }\n\n  function getCSSBaseBath(url) {\n    var cssURL = parseURL(url);\n    return \"\" + cssURL.origin + cssURL.pathname.replace(/\\?.*$/, '').replace(/(\\/)([^\\/]+)$/i, '$1');\n  }\n\n  function replaceCSSRelativeURLsWithAbsolute($css, cssBasePath) {\n    return $css.replace(cssURLRegex, function (match) {\n      var pathValue = getCSSURLValue(match);\n      return \"url(\\\"\" + getAbsoluteURL(cssBasePath, pathValue) + \"\\\")\";\n    });\n  }\n\n  var cssCommentsRegex = /\\/\\*[\\s\\S]*?\\*\\//g;\n\n  function removeCSSComments($css) {\n    return $css.replace(cssCommentsRegex, '');\n  }\n\n  var fontFaceRegex = /@font-face\\s*{[^}]*}/g;\n\n  function replaceCSSFontFace($css) {\n    return $css.replace(fontFaceRegex, '');\n  }\n\n  function hslToRGB(_a) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        _b = _a.a,\n        a = _b === void 0 ? 1 : _b;\n\n    if (s === 0) {\n      var _c = __read([l, l, l].map(function (x) {\n        return Math.round(x * 255);\n      }), 3),\n          r_1 = _c[0],\n          b_1 = _c[1],\n          g_1 = _c[2];\n\n      return {\n        r: r_1,\n        g: g_1,\n        b: b_1,\n        a: a\n      };\n    }\n\n    var c = (1 - Math.abs(2 * l - 1)) * s;\n    var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n    var m = l - c / 2;\n\n    var _d = __read((h < 60 ? [c, x, 0] : h < 120 ? [x, c, 0] : h < 180 ? [0, c, x] : h < 240 ? [0, x, c] : h < 300 ? [x, 0, c] : [c, 0, x]).map(function (n) {\n      return Math.round((n + m) * 255);\n    }), 3),\n        r = _d[0],\n        g = _d[1],\n        b = _d[2];\n\n    return {\n      r: r,\n      g: g,\n      b: b,\n      a: a\n    };\n  }\n\n  function rgbToHSL(_a) {\n    var r255 = _a.r,\n        g255 = _a.g,\n        b255 = _a.b,\n        _b = _a.a,\n        a = _b === void 0 ? 1 : _b;\n    var r = r255 / 255;\n    var g = g255 / 255;\n    var b = b255 / 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var c = max - min;\n    var l = (max + min) / 2;\n\n    if (c === 0) {\n      return {\n        h: 0,\n        s: 0,\n        l: l,\n        a: a\n      };\n    }\n\n    var h = (max === r ? (g - b) / c % 6 : max === g ? (b - r) / c + 2 : (r - g) / c + 4) * 60;\n\n    if (h < 0) {\n      h += 360;\n    }\n\n    var s = c / (1 - Math.abs(2 * l - 1));\n    return {\n      h: h,\n      s: s,\n      l: l,\n      a: a\n    };\n  }\n\n  function toFixed(n, digits) {\n    if (digits === void 0) {\n      digits = 0;\n    }\n\n    var fixed = n.toFixed(digits);\n\n    if (digits === 0) {\n      return fixed;\n    }\n\n    var dot = fixed.indexOf('.');\n\n    if (dot >= 0) {\n      var zerosMatch = fixed.match(/0+$/);\n\n      if (zerosMatch) {\n        if (zerosMatch.index === dot + 1) {\n          return fixed.substring(0, dot);\n        }\n\n        return fixed.substring(0, zerosMatch.index);\n      }\n    }\n\n    return fixed;\n  }\n\n  function rgbToString(rgb) {\n    var r = rgb.r,\n        g = rgb.g,\n        b = rgb.b,\n        a = rgb.a;\n\n    if (a != null && a < 1) {\n      return \"rgba(\" + toFixed(r) + \", \" + toFixed(g) + \", \" + toFixed(b) + \", \" + toFixed(a, 2) + \")\";\n    }\n\n    return \"rgb(\" + toFixed(r) + \", \" + toFixed(g) + \", \" + toFixed(b) + \")\";\n  }\n\n  function rgbToHexString(_a) {\n    var r = _a.r,\n        g = _a.g,\n        b = _a.b,\n        a = _a.a;\n    return \"#\" + (a != null && a < 1 ? [r, g, b, Math.round(a * 255)] : [r, g, b]).map(function (x) {\n      return \"\" + (x < 16 ? '0' : '') + x.toString(16);\n    }).join('');\n  }\n\n  function hslToString(hsl) {\n    var h = hsl.h,\n        s = hsl.s,\n        l = hsl.l,\n        a = hsl.a;\n\n    if (a != null && a < 1) {\n      return \"hsla(\" + toFixed(h) + \", \" + toFixed(s * 100) + \"%, \" + toFixed(l * 100) + \"%, \" + toFixed(a, 2) + \")\";\n    }\n\n    return \"hsl(\" + toFixed(h) + \", \" + toFixed(s * 100) + \"%, \" + toFixed(l * 100) + \"%)\";\n  }\n\n  var rgbMatch = /^rgba?\\([^\\(\\)]+\\)$/;\n  var hslMatch = /^hsla?\\([^\\(\\)]+\\)$/;\n  var hexMatch = /^#[0-9a-f]+$/i;\n\n  function parse($color) {\n    var c = $color.trim().toLowerCase();\n\n    if (c.match(rgbMatch)) {\n      return parseRGB(c);\n    }\n\n    if (c.match(hslMatch)) {\n      return parseHSL(c);\n    }\n\n    if (c.match(hexMatch)) {\n      return parseHex(c);\n    }\n\n    if (knownColors.has(c)) {\n      return getColorByName(c);\n    }\n\n    if (systemColors.has(c)) {\n      return getSystemColor(c);\n    }\n\n    if ($color === 'transparent') {\n      return {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 0\n      };\n    }\n\n    throw new Error(\"Unable to parse \" + $color);\n  }\n\n  function getNumbersFromString(str, splitter, range, units) {\n    var raw = str.split(splitter).filter(function (x) {\n      return x;\n    });\n    var unitsList = Object.entries(units);\n    var numbers = raw.map(function (r) {\n      return r.trim();\n    }).map(function (r, i) {\n      var n;\n      var unit = unitsList.find(function (_a) {\n        var _b = __read(_a, 1),\n            u = _b[0];\n\n        return r.endsWith(u);\n      });\n\n      if (unit) {\n        n = parseFloat(r.substring(0, r.length - unit[0].length)) / unit[1] * range[i];\n      } else {\n        n = parseFloat(r);\n      }\n\n      if (range[i] > 1) {\n        return Math.round(n);\n      }\n\n      return n;\n    });\n    return numbers;\n  }\n\n  var rgbSplitter = /rgba?|\\(|\\)|\\/|,|\\s/ig;\n  var rgbRange = [255, 255, 255, 1];\n  var rgbUnits = {\n    '%': 100\n  };\n\n  function parseRGB($rgb) {\n    var _a = __read(getNumbersFromString($rgb, rgbSplitter, rgbRange, rgbUnits), 4),\n        r = _a[0],\n        g = _a[1],\n        b = _a[2],\n        _b = _a[3],\n        a = _b === void 0 ? 1 : _b;\n\n    return {\n      r: r,\n      g: g,\n      b: b,\n      a: a\n    };\n  }\n\n  var hslSplitter = /hsla?|\\(|\\)|\\/|,|\\s/ig;\n  var hslRange = [360, 1, 1, 1];\n  var hslUnits = {\n    '%': 100,\n    'deg': 360,\n    'rad': 2 * Math.PI,\n    'turn': 1\n  };\n\n  function parseHSL($hsl) {\n    var _a = __read(getNumbersFromString($hsl, hslSplitter, hslRange, hslUnits), 4),\n        h = _a[0],\n        s = _a[1],\n        l = _a[2],\n        _b = _a[3],\n        a = _b === void 0 ? 1 : _b;\n\n    return hslToRGB({\n      h: h,\n      s: s,\n      l: l,\n      a: a\n    });\n  }\n\n  function parseHex($hex) {\n    var h = $hex.substring(1);\n\n    switch (h.length) {\n      case 3:\n      case 4:\n        {\n          var _a = __read([0, 1, 2].map(function (i) {\n            return parseInt(\"\" + h[i] + h[i], 16);\n          }), 3),\n              r = _a[0],\n              g = _a[1],\n              b = _a[2];\n\n          var a = h.length === 3 ? 1 : parseInt(\"\" + h[3] + h[3], 16) / 255;\n          return {\n            r: r,\n            g: g,\n            b: b,\n            a: a\n          };\n        }\n\n      case 6:\n      case 8:\n        {\n          var _b = __read([0, 2, 4].map(function (i) {\n            return parseInt(h.substring(i, i + 2), 16);\n          }), 3),\n              r = _b[0],\n              g = _b[1],\n              b = _b[2];\n\n          var a = h.length === 6 ? 1 : parseInt(h.substring(6, 8), 16) / 255;\n          return {\n            r: r,\n            g: g,\n            b: b,\n            a: a\n          };\n        }\n    }\n\n    throw new Error(\"Unable to parse \" + $hex);\n  }\n\n  function getColorByName($color) {\n    var n = knownColors.get($color);\n    return {\n      r: n >> 16 & 255,\n      g: n >> 8 & 255,\n      b: n >> 0 & 255,\n      a: 1\n    };\n  }\n\n  function getSystemColor($color) {\n    var n = systemColors.get($color);\n    return {\n      r: n >> 16 & 255,\n      g: n >> 8 & 255,\n      b: n >> 0 & 255,\n      a: 1\n    };\n  }\n\n  var knownColors = new Map(Object.entries({\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgrey: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    grey: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgrey: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n  }));\n  var systemColors = new Map(Object.entries({\n    ActiveBorder: 0x3b99fc,\n    ActiveCaption: 0x000000,\n    AppWorkspace: 0xaaaaaa,\n    Background: 0x6363ce,\n    ButtonFace: 0xffffff,\n    ButtonHighlight: 0xe9e9e9,\n    ButtonShadow: 0x9fa09f,\n    ButtonText: 0x000000,\n    CaptionText: 0x000000,\n    GrayText: 0x7f7f7f,\n    Highlight: 0xb2d7ff,\n    HighlightText: 0x000000,\n    InactiveBorder: 0xffffff,\n    InactiveCaption: 0xffffff,\n    InactiveCaptionText: 0x000000,\n    InfoBackground: 0xfbfcc5,\n    InfoText: 0x000000,\n    Menu: 0xf6f6f6,\n    MenuText: 0xffffff,\n    Scrollbar: 0xaaaaaa,\n    ThreeDDarkShadow: 0x000000,\n    ThreeDFace: 0xc0c0c0,\n    ThreeDHighlight: 0xffffff,\n    ThreeDLightShadow: 0xffffff,\n    ThreeDShadow: 0x000000,\n    Window: 0xececec,\n    WindowFrame: 0xaaaaaa,\n    WindowText: 0x000000,\n    '-webkit-focus-ring-color': 0xe59700\n  }).map(function (_a) {\n    var _b = __read(_a, 2),\n        key = _b[0],\n        value = _b[1];\n\n    return [key.toLowerCase(), value];\n  }));\n\n  function scale(x, inLow, inHigh, outLow, outHigh) {\n    return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n  }\n\n  function clamp(x, min, max) {\n    return Math.min(max, Math.max(min, x));\n  }\n\n  function multiplyMatrices(m1, m2) {\n    var result = [];\n\n    for (var i = 0, len = m1.length; i < len; i++) {\n      result[i] = [];\n\n      for (var j = 0, len2 = m2[0].length; j < len2; j++) {\n        var sum = 0;\n\n        for (var k = 0, len3 = m1[0].length; k < len3; k++) {\n          sum += m1[i][k] * m2[k][j];\n        }\n\n        result[i][j] = sum;\n      }\n    }\n\n    return result;\n  }\n\n  function getMatches(regex, input, group) {\n    if (group === void 0) {\n      group = 0;\n    }\n\n    var matches = [];\n    var m;\n\n    while (m = regex.exec(input)) {\n      matches.push(m[group]);\n    }\n\n    return matches;\n  }\n\n  function formatCSS(text) {\n    function trimLeft(text) {\n      return text.replace(/^\\s+/, '');\n    }\n\n    function getIndent(depth) {\n      if (depth === 0) {\n        return '';\n      }\n\n      return ' '.repeat(4 * depth);\n    }\n\n    var emptyRuleRegexp = /[^{}]+{\\s*}/g;\n\n    while (emptyRuleRegexp.test(text)) {\n      text = text.replace(emptyRuleRegexp, '');\n    }\n\n    var css = text.replace(/\\s{2,}/g, ' ').replace(/\\{/g, '{\\n').replace(/\\}/g, '\\n}\\n').replace(/\\;(?![^\\(|\\\"]*(\\)|\\\"))/g, ';\\n').replace(/\\,(?![^\\(|\\\"]*(\\)|\\\"))/g, ',\\n').replace(/\\n\\s*\\n/g, '\\n').split('\\n');\n    var depth = 0;\n    var formatted = [];\n\n    for (var x = 0, len = css.length; x < len; x++) {\n      var line = css[x] + '\\n';\n\n      if (line.match(/\\{/)) {\n        formatted.push(getIndent(depth++) + trimLeft(line));\n      } else if (line.match(/\\}/)) {\n        formatted.push(getIndent(--depth) + trimLeft(line));\n      } else {\n        formatted.push(getIndent(depth) + trimLeft(line));\n      }\n    }\n\n    return formatted.join('').trim();\n  }\n\n  function getParenthesesRange(input, searchStartIndex) {\n    if (searchStartIndex === void 0) {\n      searchStartIndex = 0;\n    }\n\n    var length = input.length;\n    var depth = 0;\n    var firstOpenIndex = -1;\n\n    for (var i = searchStartIndex; i < length; i++) {\n      if (depth === 0) {\n        var openIndex = input.indexOf('(', i);\n\n        if (openIndex < 0) {\n          break;\n        }\n\n        firstOpenIndex = openIndex;\n        depth++;\n        i = openIndex;\n      } else {\n        var closingIndex = input.indexOf(')', i);\n\n        if (closingIndex < 0) {\n          break;\n        }\n\n        var openIndex = input.indexOf('(', i);\n\n        if (openIndex < 0 || closingIndex < openIndex) {\n          depth--;\n\n          if (depth === 0) {\n            return {\n              start: firstOpenIndex,\n              end: closingIndex + 1\n            };\n          }\n\n          i = closingIndex;\n        } else {\n          depth++;\n          i = openIndex;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  function createFilterMatrix(config) {\n    var m = Matrix.identity();\n\n    if (config.sepia !== 0) {\n      m = multiplyMatrices(m, Matrix.sepia(config.sepia / 100));\n    }\n\n    if (config.grayscale !== 0) {\n      m = multiplyMatrices(m, Matrix.grayscale(config.grayscale / 100));\n    }\n\n    if (config.contrast !== 100) {\n      m = multiplyMatrices(m, Matrix.contrast(config.contrast / 100));\n    }\n\n    if (config.brightness !== 100) {\n      m = multiplyMatrices(m, Matrix.brightness(config.brightness / 100));\n    }\n\n    if (config.mode === 1) {\n      m = multiplyMatrices(m, Matrix.invertNHue());\n    }\n\n    return m;\n  }\n\n  function applyColorMatrix(_a, matrix) {\n    var _b = __read(_a, 3),\n        r = _b[0],\n        g = _b[1],\n        b = _b[2];\n\n    var rgb = [[r / 255], [g / 255], [b / 255], [1], [1]];\n    var result = multiplyMatrices(matrix, rgb);\n    return [0, 1, 2].map(function (i) {\n      return clamp(Math.round(result[i][0] * 255), 0, 255);\n    });\n  }\n\n  var Matrix = {\n    identity: function identity() {\n      return [[1, 0, 0, 0, 0], [0, 1, 0, 0, 0], [0, 0, 1, 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    invertNHue: function invertNHue() {\n      return [[0.333, -0.667, -0.667, 0, 1], [-0.667, 0.333, -0.667, 0, 1], [-0.667, -0.667, 0.333, 0, 1], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    brightness: function brightness(v) {\n      return [[v, 0, 0, 0, 0], [0, v, 0, 0, 0], [0, 0, v, 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    contrast: function contrast(v) {\n      var t = (1 - v) / 2;\n      return [[v, 0, 0, 0, t], [0, v, 0, 0, t], [0, 0, v, 0, t], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    sepia: function sepia(v) {\n      return [[0.393 + 0.607 * (1 - v), 0.769 - 0.769 * (1 - v), 0.189 - 0.189 * (1 - v), 0, 0], [0.349 - 0.349 * (1 - v), 0.686 + 0.314 * (1 - v), 0.168 - 0.168 * (1 - v), 0, 0], [0.272 - 0.272 * (1 - v), 0.534 - 0.534 * (1 - v), 0.131 + 0.869 * (1 - v), 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    grayscale: function grayscale(v) {\n      return [[0.2126 + 0.7874 * (1 - v), 0.7152 - 0.7152 * (1 - v), 0.0722 - 0.0722 * (1 - v), 0, 0], [0.2126 - 0.2126 * (1 - v), 0.7152 + 0.2848 * (1 - v), 0.0722 - 0.0722 * (1 - v), 0, 0], [0.2126 - 0.2126 * (1 - v), 0.7152 - 0.7152 * (1 - v), 0.0722 + 0.9278 * (1 - v), 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    }\n  };\n\n  function getBgPole(theme) {\n    var isDarkScheme = theme.mode === 1;\n    var prop = isDarkScheme ? 'darkSchemeBackgroundColor' : 'lightSchemeBackgroundColor';\n    return theme[prop];\n  }\n\n  function getFgPole(theme) {\n    var isDarkScheme = theme.mode === 1;\n    var prop = isDarkScheme ? 'darkSchemeTextColor' : 'lightSchemeTextColor';\n    return theme[prop];\n  }\n\n  var colorModificationCache = new Map();\n  var colorParseCache$1 = new Map();\n\n  function parseToHSLWithCache(color) {\n    if (colorParseCache$1.has(color)) {\n      return colorParseCache$1.get(color);\n    }\n\n    var rgb = parse(color);\n    var hsl = rgbToHSL(rgb);\n    colorParseCache$1.set(color, hsl);\n    return hsl;\n  }\n\n  function clearColorModificationCache() {\n    colorModificationCache.clear();\n    colorParseCache$1.clear();\n  }\n\n  var rgbCacheKeys = ['r', 'g', 'b', 'a'];\n  var themeCacheKeys$1 = ['mode', 'brightness', 'contrast', 'grayscale', 'sepia', 'darkSchemeBackgroundColor', 'darkSchemeTextColor', 'lightSchemeBackgroundColor', 'lightSchemeTextColor'];\n\n  function getCacheId(rgb, theme) {\n    return rgbCacheKeys.map(function (k) {\n      return rgb[k];\n    }).concat(themeCacheKeys$1.map(function (k) {\n      return theme[k];\n    })).join(';');\n  }\n\n  function modifyColorWithCache(rgb, theme, modifyHSL, poleColor, anotherPoleColor) {\n    var fnCache;\n\n    if (colorModificationCache.has(modifyHSL)) {\n      fnCache = colorModificationCache.get(modifyHSL);\n    } else {\n      fnCache = new Map();\n      colorModificationCache.set(modifyHSL, fnCache);\n    }\n\n    var id = getCacheId(rgb, theme);\n\n    if (fnCache.has(id)) {\n      return fnCache.get(id);\n    }\n\n    var hsl = rgbToHSL(rgb);\n    var pole = poleColor == null ? null : parseToHSLWithCache(poleColor);\n    var anotherPole = anotherPoleColor == null ? null : parseToHSLWithCache(anotherPoleColor);\n    var modified = modifyHSL(hsl, pole, anotherPole);\n\n    var _a = hslToRGB(modified),\n        r = _a.r,\n        g = _a.g,\n        b = _a.b,\n        a = _a.a;\n\n    var matrix = createFilterMatrix(theme);\n\n    var _b = __read(applyColorMatrix([r, g, b], matrix), 3),\n        rf = _b[0],\n        gf = _b[1],\n        bf = _b[2];\n\n    var color = a === 1 ? rgbToHexString({\n      r: rf,\n      g: gf,\n      b: bf\n    }) : rgbToString({\n      r: rf,\n      g: gf,\n      b: bf,\n      a: a\n    });\n    fnCache.set(id, color);\n    return color;\n  }\n\n  function noopHSL(hsl) {\n    return hsl;\n  }\n\n  function modifyColor(rgb, theme) {\n    return modifyColorWithCache(rgb, theme, noopHSL);\n  }\n\n  function modifyLightSchemeColor(rgb, theme) {\n    var poleBg = getBgPole(theme);\n    var poleFg = getFgPole(theme);\n    return modifyColorWithCache(rgb, theme, modifyLightModeHSL, poleFg, poleBg);\n  }\n\n  function modifyLightModeHSL(_a, poleFg, poleBg) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isNeutral;\n\n    if (isDark) {\n      isNeutral = l < 0.2 || s < 0.12;\n    } else {\n      var isBlue = h > 200 && h < 280;\n      isNeutral = s < 0.24 || l > 0.8 && isBlue;\n    }\n\n    var hx = h;\n    var sx = l;\n\n    if (isNeutral) {\n      if (isDark) {\n        hx = poleFg.h;\n        sx = poleFg.s;\n      } else {\n        hx = poleBg.h;\n        sx = poleBg.s;\n      }\n    }\n\n    var lx = scale(l, 0, 1, poleFg.l, poleBg.l);\n    return {\n      h: hx,\n      s: sx,\n      l: lx,\n      a: a\n    };\n  }\n\n  var MAX_BG_LIGHTNESS = 0.4;\n\n  function modifyBgHSL(_a, pole) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isBlue = h > 200 && h < 280;\n    var isNeutral = s < 0.12 || l > 0.8 && isBlue;\n\n    if (isDark) {\n      var lx_1 = scale(l, 0, 0.5, 0, MAX_BG_LIGHTNESS);\n\n      if (isNeutral) {\n        var hx_1 = pole.h;\n        var sx = pole.s;\n        return {\n          h: hx_1,\n          s: sx,\n          l: lx_1,\n          a: a\n        };\n      }\n\n      return {\n        h: h,\n        s: s,\n        l: lx_1,\n        a: a\n      };\n    }\n\n    var lx = scale(l, 0.5, 1, MAX_BG_LIGHTNESS, pole.l);\n\n    if (isNeutral) {\n      var hx_2 = pole.h;\n      var sx = pole.s;\n      return {\n        h: hx_2,\n        s: sx,\n        l: lx,\n        a: a\n      };\n    }\n\n    var hx = h;\n    var isYellow = h > 60 && h < 180;\n\n    if (isYellow) {\n      var isCloserToGreen = h > 120;\n\n      if (isCloserToGreen) {\n        hx = scale(h, 120, 180, 135, 180);\n      } else {\n        hx = scale(h, 60, 120, 60, 105);\n      }\n    }\n\n    return {\n      h: hx,\n      s: s,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyBackgroundColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var pole = getBgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyBgHSL, pole);\n  }\n\n  var MIN_FG_LIGHTNESS = 0.55;\n\n  function modifyBlueFgHue(hue) {\n    return scale(hue, 205, 245, 205, 220);\n  }\n\n  function modifyFgHSL(_a, pole) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isLight = l > 0.5;\n    var isNeutral = l < 0.2 || s < 0.24;\n    var isBlue = !isNeutral && h > 205 && h < 245;\n\n    if (isLight) {\n      var lx_2 = scale(l, 0.5, 1, MIN_FG_LIGHTNESS, pole.l);\n\n      if (isNeutral) {\n        var hx_3 = pole.h;\n        var sx = pole.s;\n        return {\n          h: hx_3,\n          s: sx,\n          l: lx_2,\n          a: a\n        };\n      }\n\n      var hx_4 = h;\n\n      if (isBlue) {\n        hx_4 = modifyBlueFgHue(h);\n      }\n\n      return {\n        h: hx_4,\n        s: s,\n        l: lx_2,\n        a: a\n      };\n    }\n\n    if (isNeutral) {\n      var hx_5 = pole.h;\n      var sx = pole.s;\n      var lx_3 = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n      return {\n        h: hx_5,\n        s: sx,\n        l: lx_3,\n        a: a\n      };\n    }\n\n    var hx = h;\n    var lx;\n\n    if (isBlue) {\n      hx = modifyBlueFgHue(h);\n      lx = scale(l, 0, 0.5, pole.l, Math.min(1, MIN_FG_LIGHTNESS + 0.05));\n    } else {\n      lx = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n    }\n\n    return {\n      h: hx,\n      s: s,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyForegroundColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var pole = getFgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyFgHSL, pole);\n  }\n\n  function modifyBorderHSL(_a, poleFg, poleBg) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isNeutral = l < 0.2 || s < 0.24;\n    var hx = h;\n    var sx = s;\n\n    if (isNeutral) {\n      if (isDark) {\n        hx = poleFg.h;\n        sx = poleFg.s;\n      } else {\n        hx = poleBg.h;\n        sx = poleBg.s;\n      }\n    }\n\n    var lx = scale(l, 0, 1, 0.5, 0.2);\n    return {\n      h: hx,\n      s: sx,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyBorderColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var poleFg = getFgPole(theme);\n    var poleBg = getBgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyBorderHSL, poleFg, poleBg);\n  }\n\n  function modifyShadowColor(rgb, filter) {\n    return modifyBackgroundColor(rgb, filter);\n  }\n\n  function modifyGradientColor(rgb, filter) {\n    return modifyBackgroundColor(rgb, filter);\n  }\n\n  function createTextStyle(config) {\n    var lines = [];\n    lines.push('*:not(pre, .far, .fa, .glyphicon, [class*=\"vjs-\"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*=\"mu-\"], .glyphicon, .icon) {');\n\n    if (config.useFont && config.fontFamily) {\n      lines.push(\"  font-family: \" + config.fontFamily + \" !important;\");\n    }\n\n    if (config.textStroke > 0) {\n      lines.push(\"  -webkit-text-stroke: \" + config.textStroke + \"px !important;\");\n      lines.push(\"  text-stroke: \" + config.textStroke + \"px !important;\");\n    }\n\n    lines.push('}');\n    return lines.join('\\n');\n  }\n\n  var FilterMode;\n\n  (function (FilterMode) {\n    FilterMode[FilterMode[\"light\"] = 0] = \"light\";\n    FilterMode[FilterMode[\"dark\"] = 1] = \"dark\";\n  })(FilterMode || (FilterMode = {}));\n\n  function getCSSFilterValue(config) {\n    var filters = [];\n\n    if (config.mode === FilterMode.dark) {\n      filters.push('invert(100%) hue-rotate(180deg)');\n    }\n\n    if (config.brightness !== 100) {\n      filters.push(\"brightness(\" + config.brightness + \"%)\");\n    }\n\n    if (config.contrast !== 100) {\n      filters.push(\"contrast(\" + config.contrast + \"%)\");\n    }\n\n    if (config.grayscale !== 0) {\n      filters.push(\"grayscale(\" + config.grayscale + \"%)\");\n    }\n\n    if (config.sepia !== 0) {\n      filters.push(\"sepia(\" + config.sepia + \"%)\");\n    }\n\n    if (filters.length === 0) {\n      return null;\n    }\n\n    return filters.join(' ');\n  }\n\n  function toSVGMatrix(matrix) {\n    return matrix.slice(0, 4).map(function (m) {\n      return m.map(function (m) {\n        return m.toFixed(3);\n      }).join(' ');\n    }).join(' ');\n  }\n\n  function getSVGFilterMatrixValue(config) {\n    return toSVGMatrix(createFilterMatrix(config));\n  }\n\n  var counter = 0;\n  var resolvers$1 = new Map();\n  var rejectors = new Map();\n\n  function bgFetch(request) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var id = ++counter;\n          resolvers$1.set(id, resolve);\n          rejectors.set(id, reject);\n          chrome.runtime.sendMessage({\n            type: 'fetch',\n            data: request,\n            id: id\n          });\n        })];\n      });\n    });\n  }\n\n  chrome.runtime.onMessage.addListener(function (_a) {\n    var type = _a.type,\n        data = _a.data,\n        error = _a.error,\n        id = _a.id;\n\n    if (type === 'fetch-response') {\n      var resolve = resolvers$1.get(id);\n      var reject = rejectors.get(id);\n      resolvers$1.delete(id);\n      rejectors.delete(id);\n\n      if (error) {\n        reject && reject(error);\n      } else {\n        resolve && resolve(data);\n      }\n    }\n  });\n\n  function getImageDetails(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      var dataURL, image, info;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!url.startsWith('data:')) return [3, 1];\n            dataURL = url;\n            return [3, 3];\n\n          case 1:\n            return [4, getImageDataURL(url)];\n\n          case 2:\n            dataURL = _a.sent();\n            _a.label = 3;\n\n          case 3:\n            return [4, urlToImage(dataURL)];\n\n          case 4:\n            image = _a.sent();\n            info = analyzeImage(image);\n            return [2, _assign({\n              src: url,\n              dataURL: dataURL,\n              width: image.naturalWidth,\n              height: image.naturalHeight\n            }, info)];\n        }\n      });\n    });\n  }\n\n  function getImageDataURL(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      var parsedURL;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            parsedURL = new URL(url);\n            if (!(parsedURL.origin === location.origin)) return [3, 2];\n            return [4, loadAsDataURL(url)];\n\n          case 1:\n            return [2, _a.sent()];\n\n          case 2:\n            return [4, bgFetch({\n              url: url,\n              responseType: 'data-url'\n            })];\n\n          case 3:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function urlToImage(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var image = new Image();\n\n          image.onload = function () {\n            return resolve(image);\n          };\n\n          image.onerror = function () {\n            return reject(\"Unable to load image \" + url);\n          };\n\n          image.src = url;\n        })];\n      });\n    });\n  }\n\n  var MAX_ANALIZE_PIXELS_COUNT = 32 * 32;\n  var canvas;\n  var context;\n\n  function createCanvas() {\n    var maxWidth = MAX_ANALIZE_PIXELS_COUNT;\n    var maxHeight = MAX_ANALIZE_PIXELS_COUNT;\n    canvas = document.createElement('canvas');\n    canvas.width = maxWidth;\n    canvas.height = maxHeight;\n    context = canvas.getContext('2d');\n    context.imageSmoothingEnabled = false;\n  }\n\n  function removeCanvas() {\n    canvas = null;\n    context = null;\n  }\n\n  function analyzeImage(image) {\n    if (!canvas) {\n      createCanvas();\n    }\n\n    var naturalWidth = image.naturalWidth,\n        naturalHeight = image.naturalHeight;\n\n    if (naturalHeight === 0 || naturalWidth === 0) {\n      logWarn(\"logWarn(Image is empty \" + image.currentSrc + \")\");\n      return null;\n    }\n\n    var naturalPixelsCount = naturalWidth * naturalHeight;\n    var k = Math.min(1, Math.sqrt(MAX_ANALIZE_PIXELS_COUNT / naturalPixelsCount));\n    var width = Math.ceil(naturalWidth * k);\n    var height = Math.ceil(naturalHeight * k);\n    context.clearRect(0, 0, width, height);\n    context.drawImage(image, 0, 0, naturalWidth, naturalHeight, 0, 0, width, height);\n    var imageData = context.getImageData(0, 0, width, height);\n    var d = imageData.data;\n    var TRANSPARENT_ALPHA_THRESHOLD = 0.05;\n    var DARK_LIGHTNESS_THRESHOLD = 0.4;\n    var LIGHT_LIGHTNESS_THRESHOLD = 0.7;\n    var transparentPixelsCount = 0;\n    var darkPixelsCount = 0;\n    var lightPixelsCount = 0;\n    var i, x, y;\n    var r, g, b, a;\n    var l;\n\n    for (y = 0; y < height; y++) {\n      for (x = 0; x < width; x++) {\n        i = 4 * (y * width + x);\n        r = d[i + 0] / 255;\n        g = d[i + 1] / 255;\n        b = d[i + 2] / 255;\n        a = d[i + 3] / 255;\n\n        if (a < TRANSPARENT_ALPHA_THRESHOLD) {\n          transparentPixelsCount++;\n        } else {\n          l = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n\n          if (l < DARK_LIGHTNESS_THRESHOLD) {\n            darkPixelsCount++;\n          }\n\n          if (l > LIGHT_LIGHTNESS_THRESHOLD) {\n            lightPixelsCount++;\n          }\n        }\n      }\n    }\n\n    var totalPixelsCount = width * height;\n    var opaquePixelsCount = totalPixelsCount - transparentPixelsCount;\n    var DARK_IMAGE_THRESHOLD = 0.7;\n    var LIGHT_IMAGE_THRESHOLD = 0.7;\n    var TRANSPARENT_IMAGE_THRESHOLD = 0.1;\n    var LARGE_IMAGE_PIXELS_COUNT = 800 * 600;\n    return {\n      isDark: darkPixelsCount / opaquePixelsCount >= DARK_IMAGE_THRESHOLD,\n      isLight: lightPixelsCount / opaquePixelsCount >= LIGHT_IMAGE_THRESHOLD,\n      isTransparent: transparentPixelsCount / totalPixelsCount >= TRANSPARENT_IMAGE_THRESHOLD,\n      isLarge: naturalPixelsCount >= LARGE_IMAGE_PIXELS_COUNT\n    };\n  }\n\n  var objectURLs = new Set();\n\n  function getFilteredImageDataURL(_a, filter) {\n    var dataURL = _a.dataURL,\n        width = _a.width,\n        height = _a.height;\n    var matrix = getSVGFilterMatrixValue(filter);\n    var svg = [\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\">\", '<defs>', '<filter id=\"darkreader-image-filter\">', \"<feColorMatrix type=\\\"matrix\\\" values=\\\"\" + matrix + \"\\\" />\", '</filter>', '</defs>', \"<image width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\" filter=\\\"url(#darkreader-image-filter)\\\" xlink:href=\\\"\" + dataURL + \"\\\" />\", '</svg>'].join('');\n    var bytes = new Uint8Array(svg.length);\n\n    for (var i = 0; i < svg.length; i++) {\n      bytes[i] = svg.charCodeAt(i);\n    }\n\n    var blob = new Blob([bytes], {\n      type: 'image/svg+xml'\n    });\n    var objectURL = URL.createObjectURL(blob);\n    objectURLs.add(objectURL);\n    return objectURL;\n  }\n\n  function cleanImageProcessingCache() {\n    removeCanvas();\n    objectURLs.forEach(function (u) {\n      return URL.revokeObjectURL(u);\n    });\n    objectURLs.clear();\n  }\n\n  function getModifiableCSSDeclaration(property, value, rule, variablesStore, ignoreImageSelectors, isCancelled) {\n    var important = Boolean(rule && rule.style && rule.style.getPropertyPriority(property));\n    var sourceValue = value;\n\n    if (property.startsWith('--')) {\n      var modifier = getVariableModifier(variablesStore, property, value, rule, ignoreImageSelectors, isCancelled);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    } else if (value.includes('var(')) {\n      var modifier = getVariableDependantModifier(variablesStore, property, value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    } else if (property.includes('color') && property !== '-webkit-print-color-adjust' || property === 'fill' || property === 'stroke' || property === 'stop-color') {\n      var modifier = getColorModifier(property, value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    } else if (property === 'background-image' || property === 'list-style-image') {\n      var modifier = getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    } else if (property.includes('shadow')) {\n      var modifier = getShadowModifier(value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    }\n\n    return null;\n  }\n\n  function getModifiedUserAgentStyle(theme, isIFrame, styleSystemControls) {\n    var lines = [];\n\n    if (!isIFrame) {\n      lines.push('html {');\n      lines.push(\"    background-color: \" + modifyBackgroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, theme) + \" !important;\");\n      lines.push('}');\n    }\n\n    lines.push(\"\" + (isIFrame ? '' : 'html, body, ') + (styleSystemControls ? 'input, textarea, select, button' : '') + \" {\");\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 255,\n      g: 255,\n      b: 255\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push(\"html, body, \" + (styleSystemControls ? 'input, textarea, select, button' : '') + \" {\");\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 76,\n      g: 76,\n      b: 76\n    }, theme) + \";\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('a {');\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 64,\n      b: 255\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('table {');\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 128,\n      g: 128,\n      b: 128\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('::placeholder {');\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 169,\n      g: 169,\n      b: 169\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('input:-webkit-autofill,');\n    lines.push('textarea:-webkit-autofill,');\n    lines.push('select:-webkit-autofill {');\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 250,\n      g: 255,\n      b: 189\n    }, theme) + \" !important;\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, theme) + \" !important;\");\n    lines.push('}');\n\n    if (theme.scrollbarColor) {\n      lines.push(getModifiedScrollbarStyle(theme));\n    }\n\n    if (theme.selectionColor) {\n      lines.push(getModifiedSelectionStyle(theme));\n    }\n\n    return lines.join('\\n');\n  }\n\n  function getSelectionColor(theme) {\n    var backgroundColorSelection;\n    var foregroundColorSelection;\n\n    if (theme.selectionColor === 'auto') {\n      backgroundColorSelection = modifyBackgroundColor({\n        r: 0,\n        g: 96,\n        b: 212\n      }, _assign(_assign({}, theme), {\n        grayscale: 0\n      }));\n      foregroundColorSelection = modifyForegroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, _assign(_assign({}, theme), {\n        grayscale: 0\n      }));\n    } else {\n      var rgb = parse(theme.selectionColor);\n      var hsl = rgbToHSL(rgb);\n      backgroundColorSelection = theme.selectionColor;\n\n      if (hsl.l < 0.5) {\n        foregroundColorSelection = '#FFF';\n      } else {\n        foregroundColorSelection = '#000';\n      }\n    }\n\n    return {\n      backgroundColorSelection: backgroundColorSelection,\n      foregroundColorSelection: foregroundColorSelection\n    };\n  }\n\n  function getModifiedSelectionStyle(theme) {\n    var lines = [];\n    var modifiedSelectionColor = getSelectionColor(theme);\n    var backgroundColorSelection = modifiedSelectionColor.backgroundColorSelection;\n    var foregroundColorSelection = modifiedSelectionColor.foregroundColorSelection;\n    ['::selection', '::-moz-selection'].forEach(function (selection) {\n      lines.push(selection + \" {\");\n      lines.push(\"    background-color: \" + backgroundColorSelection + \" !important;\");\n      lines.push(\"    color: \" + foregroundColorSelection + \" !important;\");\n      lines.push('}');\n    });\n    return lines.join('\\n');\n  }\n\n  function getModifiedScrollbarStyle(theme) {\n    var lines = [];\n    var colorTrack;\n    var colorIcons;\n    var colorThumb;\n    var colorThumbHover;\n    var colorThumbActive;\n    var colorCorner;\n\n    if (theme.scrollbarColor === 'auto') {\n      colorTrack = modifyBackgroundColor({\n        r: 241,\n        g: 241,\n        b: 241\n      }, theme);\n      colorIcons = modifyForegroundColor({\n        r: 96,\n        g: 96,\n        b: 96\n      }, theme);\n      colorThumb = modifyBackgroundColor({\n        r: 176,\n        g: 176,\n        b: 176\n      }, theme);\n      colorThumbHover = modifyBackgroundColor({\n        r: 144,\n        g: 144,\n        b: 144\n      }, theme);\n      colorThumbActive = modifyBackgroundColor({\n        r: 96,\n        g: 96,\n        b: 96\n      }, theme);\n      colorCorner = modifyBackgroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, theme);\n    } else {\n      var rgb = parse(theme.scrollbarColor);\n      var hsl_1 = rgbToHSL(rgb);\n      var isLight = hsl_1.l > 0.5;\n\n      var lighten = function lighten(lighter) {\n        return _assign(_assign({}, hsl_1), {\n          l: clamp(hsl_1.l + lighter, 0, 1)\n        });\n      };\n\n      var darken = function darken(darker) {\n        return _assign(_assign({}, hsl_1), {\n          l: clamp(hsl_1.l - darker, 0, 1)\n        });\n      };\n\n      colorTrack = hslToString(darken(0.4));\n      colorIcons = hslToString(isLight ? darken(0.4) : lighten(0.4));\n      colorThumb = hslToString(hsl_1);\n      colorThumbHover = hslToString(lighten(0.1));\n      colorThumbActive = hslToString(lighten(0.2));\n    }\n\n    lines.push('::-webkit-scrollbar {');\n    lines.push(\"    background-color: \" + colorTrack + \";\");\n    lines.push(\"    color: \" + colorIcons + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb {');\n    lines.push(\"    background-color: \" + colorThumb + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb:hover {');\n    lines.push(\"    background-color: \" + colorThumbHover + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb:active {');\n    lines.push(\"    background-color: \" + colorThumbActive + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-corner {');\n    lines.push(\"    background-color: \" + colorCorner + \";\");\n    lines.push('}');\n\n    if (isFirefox) {\n      lines.push('* {');\n      lines.push(\"    scrollbar-color: \" + colorThumb + \" \" + colorTrack + \";\");\n      lines.push('}');\n    }\n\n    return lines.join('\\n');\n  }\n\n  function getModifiedFallbackStyle(filter, _a) {\n    var strict = _a.strict;\n    var lines = [];\n    lines.push(\"html, body, \" + (strict ? 'body :not(iframe)' : 'body > :not(iframe)') + \" {\");\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 255,\n      g: 255,\n      b: 255\n    }, filter) + \" !important;\");\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 64,\n      g: 64,\n      b: 64\n    }, filter) + \" !important;\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, filter) + \" !important;\");\n    lines.push('}');\n    return lines.join('\\n');\n  }\n\n  var unparsableColors = new Set(['inherit', 'transparent', 'initial', 'currentcolor', 'none', 'unset']);\n  var colorParseCache = new Map();\n\n  function parseColorWithCache($color) {\n    $color = $color.trim();\n\n    if (colorParseCache.has($color)) {\n      return colorParseCache.get($color);\n    }\n\n    var color = parse($color);\n    colorParseCache.set($color, color);\n    return color;\n  }\n\n  function tryParseColor($color) {\n    try {\n      return parseColorWithCache($color);\n    } catch (err) {\n      return null;\n    }\n  }\n\n  function getColorModifier(prop, value) {\n    if (unparsableColors.has(value.toLowerCase())) {\n      return value;\n    }\n\n    try {\n      var rgb_1 = parseColorWithCache(value);\n\n      if (prop.includes('background')) {\n        return function (filter) {\n          return modifyBackgroundColor(rgb_1, filter);\n        };\n      }\n\n      if (prop.includes('border') || prop.includes('outline')) {\n        return function (filter) {\n          return modifyBorderColor(rgb_1, filter);\n        };\n      }\n\n      return function (filter) {\n        return modifyForegroundColor(rgb_1, filter);\n      };\n    } catch (err) {\n      logWarn('Color parse error', err);\n      return null;\n    }\n  }\n\n  var gradientRegex = /[\\-a-z]+gradient\\(([^\\(\\)]*(\\(([^\\(\\)]*(\\(.*?\\)))*[^\\(\\)]*\\))){0,15}[^\\(\\)]*\\)/g;\n  var imageDetailsCache = new Map();\n  var awaitingForImageLoading = new Map();\n\n  function shouldIgnoreImage(selectorText, selectors) {\n    if (!selectorText || selectors.length === 0) {\n      return false;\n    }\n\n    if (selectors.some(function (s) {\n      return s === '*';\n    })) {\n      return true;\n    }\n\n    var ruleSelectors = selectorText.split(/,\\s*/g);\n\n    var _loop_1 = function _loop_1(i) {\n      var ignoredSelector = selectors[i];\n\n      if (ruleSelectors.some(function (s) {\n        return s === ignoredSelector;\n      })) {\n        return {\n          value: true\n        };\n      }\n    };\n\n    for (var i = 0; i < selectors.length; i++) {\n      var state_1 = _loop_1(i);\n\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n\n    return false;\n  }\n\n  function getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled) {\n    var _this = this;\n\n    try {\n      var gradients = getMatches(gradientRegex, value);\n      var urls = getMatches(cssURLRegex, value);\n\n      if (urls.length === 0 && gradients.length === 0) {\n        return value;\n      }\n\n      var getIndices = function getIndices(matches) {\n        var index = 0;\n        return matches.map(function (match) {\n          var valueIndex = value.indexOf(match, index);\n          index = valueIndex + match.length;\n          return {\n            match: match,\n            index: valueIndex\n          };\n        });\n      };\n\n      var matches_1 = getIndices(urls).map(function (i) {\n        return _assign({\n          type: 'url'\n        }, i);\n      }).concat(getIndices(gradients).map(function (i) {\n        return _assign({\n          type: 'gradient'\n        }, i);\n      })).sort(function (a, b) {\n        return a.index - b.index;\n      });\n\n      var getGradientModifier_1 = function getGradientModifier_1(gradient) {\n        var match = gradient.match(/^(.*-gradient)\\((.*)\\)$/);\n        var type = match[1];\n        var content = match[2];\n        var partsRegex = /([^\\(\\),]+(\\([^\\(\\)]*(\\([^\\(\\)]*\\)*[^\\(\\)]*)?\\))?[^\\(\\),]*),?/g;\n        var colorStopRegex = /^(from|color-stop|to)\\(([^\\(\\)]*?,\\s*)?(.*?)\\)$/;\n        var parts = getMatches(partsRegex, content, 1).map(function (part) {\n          part = part.trim();\n          var rgb = tryParseColor(part);\n\n          if (rgb) {\n            return function (filter) {\n              return modifyGradientColor(rgb, filter);\n            };\n          }\n\n          var space = part.lastIndexOf(' ');\n          rgb = tryParseColor(part.substring(0, space));\n\n          if (rgb) {\n            return function (filter) {\n              return modifyGradientColor(rgb, filter) + \" \" + part.substring(space + 1);\n            };\n          }\n\n          var colorStopMatch = part.match(colorStopRegex);\n\n          if (colorStopMatch) {\n            rgb = tryParseColor(colorStopMatch[3]);\n\n            if (rgb) {\n              return function (filter) {\n                return colorStopMatch[1] + \"(\" + (colorStopMatch[2] ? colorStopMatch[2] + \", \" : '') + modifyGradientColor(rgb, filter) + \")\";\n              };\n            }\n          }\n\n          return function () {\n            return part;\n          };\n        });\n        return function (filter) {\n          return type + \"(\" + parts.map(function (modify) {\n            return modify(filter);\n          }).join(', ') + \")\";\n        };\n      };\n\n      var getURLModifier_1 = function getURLModifier_1(urlValue) {\n        var _a;\n\n        if (shouldIgnoreImage(rule.selectorText, ignoreImageSelectors)) {\n          return null;\n        }\n\n        var url = getCSSURLValue(urlValue);\n        var parentStyleSheet = rule.parentStyleSheet;\n        var baseURL = parentStyleSheet.href ? getCSSBaseBath(parentStyleSheet.href) : ((_a = parentStyleSheet.ownerNode) === null || _a === void 0 ? void 0 : _a.baseURI) || location.origin;\n        url = getAbsoluteURL(baseURL, url);\n        var absoluteValue = \"url(\\\"\" + url + \"\\\")\";\n        return function (filter) {\n          return __awaiter(_this, void 0, void 0, function () {\n            var imageDetails, awaiters_1, err_1, bgImageValue;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  if (!imageDetailsCache.has(url)) return [3, 1];\n                  imageDetails = imageDetailsCache.get(url);\n                  return [3, 7];\n\n                case 1:\n                  _a.trys.push([1, 6,, 7]);\n\n                  if (!awaitingForImageLoading.has(url)) return [3, 3];\n                  awaiters_1 = awaitingForImageLoading.get(url);\n                  return [4, new Promise(function (resolve) {\n                    return awaiters_1.push(resolve);\n                  })];\n\n                case 2:\n                  imageDetails = _a.sent();\n\n                  if (!imageDetails) {\n                    return [2, null];\n                  }\n\n                  return [3, 5];\n\n                case 3:\n                  awaitingForImageLoading.set(url, []);\n                  return [4, getImageDetails(url)];\n\n                case 4:\n                  imageDetails = _a.sent();\n                  imageDetailsCache.set(url, imageDetails);\n                  awaitingForImageLoading.get(url).forEach(function (resolve) {\n                    return resolve(imageDetails);\n                  });\n                  awaitingForImageLoading.delete(url);\n                  _a.label = 5;\n\n                case 5:\n                  if (isCancelled()) {\n                    return [2, null];\n                  }\n\n                  return [3, 7];\n\n                case 6:\n                  err_1 = _a.sent();\n                  logWarn(err_1);\n\n                  if (awaitingForImageLoading.has(url)) {\n                    awaitingForImageLoading.get(url).forEach(function (resolve) {\n                      return resolve(null);\n                    });\n                    awaitingForImageLoading.delete(url);\n                  }\n\n                  return [2, absoluteValue];\n\n                case 7:\n                  bgImageValue = getBgImageValue_1(imageDetails, filter) || absoluteValue;\n                  return [2, bgImageValue];\n              }\n            });\n          });\n        };\n      };\n\n      var getBgImageValue_1 = function getBgImageValue_1(imageDetails, filter) {\n        var isDark = imageDetails.isDark,\n            isLight = imageDetails.isLight,\n            isTransparent = imageDetails.isTransparent,\n            isLarge = imageDetails.isLarge,\n            width = imageDetails.width;\n        var result;\n\n        if (isDark && isTransparent && filter.mode === 1 && !isLarge && width > 2) {\n          logInfo(\"Inverting dark image \" + imageDetails.src);\n          var inverted = getFilteredImageDataURL(imageDetails, _assign(_assign({}, filter), {\n            sepia: clamp(filter.sepia + 10, 0, 100)\n          }));\n          result = \"url(\\\"\" + inverted + \"\\\")\";\n        } else if (isLight && !isTransparent && filter.mode === 1) {\n          if (isLarge) {\n            result = 'none';\n          } else {\n            logInfo(\"Dimming light image \" + imageDetails.src);\n            var dimmed = getFilteredImageDataURL(imageDetails, filter);\n            result = \"url(\\\"\" + dimmed + \"\\\")\";\n          }\n        } else if (filter.mode === 0 && isLight && !isLarge) {\n          logInfo(\"Applying filter to image \" + imageDetails.src);\n          var filtered = getFilteredImageDataURL(imageDetails, _assign(_assign({}, filter), {\n            brightness: clamp(filter.brightness - 10, 5, 200),\n            sepia: clamp(filter.sepia + 10, 0, 100)\n          }));\n          result = \"url(\\\"\" + filtered + \"\\\")\";\n        } else {\n          result = null;\n        }\n\n        return result;\n      };\n\n      var modifiers_1 = [];\n      var index_1 = 0;\n      matches_1.forEach(function (_a, i) {\n        var match = _a.match,\n            type = _a.type,\n            matchStart = _a.index;\n        var prefixStart = index_1;\n        var matchEnd = matchStart + match.length;\n        index_1 = matchEnd;\n        modifiers_1.push(function () {\n          return value.substring(prefixStart, matchStart);\n        });\n        modifiers_1.push(type === 'url' ? getURLModifier_1(match) : getGradientModifier_1(match));\n\n        if (i === matches_1.length - 1) {\n          modifiers_1.push(function () {\n            return value.substring(matchEnd);\n          });\n        }\n      });\n      return function (filter) {\n        var results = modifiers_1.filter(Boolean).map(function (modify) {\n          return modify(filter);\n        });\n\n        if (results.some(function (r) {\n          return r instanceof Promise;\n        })) {\n          return Promise.all(results).then(function (asyncResults) {\n            return asyncResults.join('');\n          });\n        }\n\n        return results.join('');\n      };\n    } catch (err) {\n      logWarn(\"Unable to parse gradient \" + value, err);\n      return null;\n    }\n  }\n\n  function getShadowModifier(value) {\n    try {\n      var index_2 = 0;\n      var colorMatches_1 = getMatches(/(^|\\s)([a-z]+\\(.+?\\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/ig, value, 2);\n      var modifiers_2 = colorMatches_1.map(function (match, i) {\n        var prefixIndex = index_2;\n        var matchIndex = value.indexOf(match, index_2);\n        var matchEnd = matchIndex + match.length;\n        index_2 = matchEnd;\n        var rgb = tryParseColor(match);\n\n        if (!rgb) {\n          return function () {\n            return value.substring(prefixIndex, matchEnd);\n          };\n        }\n\n        return function (filter) {\n          return \"\" + value.substring(prefixIndex, matchIndex) + modifyShadowColor(rgb, filter) + (i === colorMatches_1.length - 1 ? value.substring(matchEnd) : '');\n        };\n      });\n      return function (filter) {\n        return modifiers_2.map(function (modify) {\n          return modify(filter);\n        }).join('');\n      };\n    } catch (err) {\n      logWarn(\"Unable to parse shadow \" + value, err);\n      return null;\n    }\n  }\n\n  function getVariableModifier(variablesStore, prop, value, rule, ignoredImgSelectors, isCancelled) {\n    return variablesStore.getModifierForVariable({\n      varName: prop,\n      sourceValue: value,\n      rule: rule,\n      ignoredImgSelectors: ignoredImgSelectors,\n      isCancelled: isCancelled\n    });\n  }\n\n  function getVariableDependantModifier(variablesStore, prop, value) {\n    return variablesStore.getModifierForVarDependant(prop, value);\n  }\n\n  function cleanModificationCache() {\n    colorParseCache.clear();\n    clearColorModificationCache();\n    imageDetailsCache.clear();\n    cleanImageProcessingCache();\n    awaitingForImageLoading.clear();\n  }\n\n  var VAR_TYPE_BGCOLOR = 1 << 0;\n  var VAR_TYPE_TEXTCOLOR = 1 << 1;\n  var VAR_TYPE_BORDERCOLOR = 1 << 2;\n  var VAR_TYPE_BGIMG = 1 << 3;\n\n  var VariablesStore = function () {\n    function VariablesStore() {\n      this.varTypes = new Map();\n      this.rulesQueue = [];\n      this.definedVars = new Set();\n      this.varRefs = new Map();\n      this.unknownColorVars = new Set();\n      this.unknownBgVars = new Set();\n      this.undefinedVars = new Set();\n      this.initialVarTypes = new Map();\n      this.changedTypeVars = new Set();\n      this.typeChangeSubscriptions = new Map();\n      this.unstableVarValues = new Map();\n    }\n\n    VariablesStore.prototype.clear = function () {\n      this.varTypes.clear();\n      this.rulesQueue.splice(0);\n      this.definedVars.clear();\n      this.varRefs.clear();\n      this.unknownColorVars.clear();\n      this.unknownBgVars.clear();\n      this.undefinedVars.clear();\n      this.initialVarTypes.clear();\n      this.changedTypeVars.clear();\n      this.typeChangeSubscriptions.clear();\n      this.unstableVarValues.clear();\n    };\n\n    VariablesStore.prototype.isVarType = function (varName, typeNum) {\n      return this.varTypes.has(varName) && (this.varTypes.get(varName) & typeNum) > 0;\n    };\n\n    VariablesStore.prototype.addRulesForMatching = function (rules) {\n      this.rulesQueue.push(rules);\n    };\n\n    VariablesStore.prototype.matchVariablesAndDependants = function () {\n      var _this = this;\n\n      this.changedTypeVars.clear();\n      this.initialVarTypes = new Map(this.varTypes);\n      this.collectRootVariables();\n      this.rulesQueue.forEach(function (rules) {\n        return _this.collectVariables(rules);\n      });\n      this.rulesQueue.forEach(function (rules) {\n        return _this.collectVarDependants(rules);\n      });\n      this.rulesQueue.splice(0);\n      this.collectRootVarDependants();\n      this.varRefs.forEach(function (refs, v) {\n        refs.forEach(function (r) {\n          if (_this.varTypes.has(v)) {\n            _this.resolveVariableType(r, _this.varTypes.get(v));\n          }\n        });\n      });\n      this.unknownColorVars.forEach(function (v) {\n        if (_this.unknownBgVars.has(v)) {\n          _this.unknownColorVars.delete(v);\n\n          _this.unknownBgVars.delete(v);\n\n          _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n        } else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR)) {\n          _this.unknownColorVars.delete(v);\n        } else {\n          _this.undefinedVars.add(v);\n        }\n      });\n      this.unknownBgVars.forEach(function (v) {\n        var hasColor = _this.findVarRef(v, function (ref) {\n          return _this.unknownColorVars.has(ref) || _this.isVarType(ref, VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR);\n        }) != null;\n\n        if (hasColor) {\n          _this.itarateVarRefs(v, function (ref) {\n            _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n          });\n        } else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n          _this.unknownBgVars.delete(v);\n        } else {\n          _this.undefinedVars.add(v);\n        }\n      });\n      this.changedTypeVars.forEach(function (varName) {\n        if (_this.typeChangeSubscriptions.has(varName)) {\n          _this.typeChangeSubscriptions.get(varName).forEach(function (callback) {\n            callback();\n          });\n        }\n      });\n      this.changedTypeVars.clear();\n    };\n\n    VariablesStore.prototype.getModifierForVariable = function (options) {\n      var _this = this;\n\n      return function (theme) {\n        var varName = options.varName,\n            sourceValue = options.sourceValue,\n            rule = options.rule,\n            ignoredImgSelectors = options.ignoredImgSelectors,\n            isCancelled = options.isCancelled;\n\n        var getDeclarations = function getDeclarations() {\n          var declarations = [];\n\n          var addModifiedValue = function addModifiedValue(typeNum, varNameWrapper, colorModifier) {\n            if (!_this.isVarType(varName, typeNum)) {\n              return;\n            }\n\n            var property = varNameWrapper(varName);\n            var modifiedValue;\n\n            if (isVarDependant(sourceValue)) {\n              if (isConstructedColorVar(sourceValue)) {\n                var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n                if (!value) {\n                  value = typeNum === VAR_TYPE_BGCOLOR ? '#ffffff' : '#000000';\n                }\n\n                modifiedValue = colorModifier(value, theme);\n              } else {\n                modifiedValue = replaceCSSVariablesNames(sourceValue, function (v) {\n                  return varNameWrapper(v);\n                }, function (fallback) {\n                  return colorModifier(fallback, theme);\n                });\n              }\n            } else {\n              modifiedValue = colorModifier(sourceValue, theme);\n            }\n\n            declarations.push({\n              property: property,\n              value: modifiedValue\n            });\n          };\n\n          addModifiedValue(VAR_TYPE_BGCOLOR, wrapBgColorVariableName, tryModifyBgColor);\n          addModifiedValue(VAR_TYPE_TEXTCOLOR, wrapTextColorVariableName, tryModifyTextColor);\n          addModifiedValue(VAR_TYPE_BORDERCOLOR, wrapBorderColorVariableName, tryModifyBorderColor);\n\n          if (_this.isVarType(varName, VAR_TYPE_BGIMG)) {\n            var property = wrapBgImgVariableName(varName);\n            var modifiedValue = sourceValue;\n\n            if (isVarDependant(sourceValue)) {\n              modifiedValue = replaceCSSVariablesNames(sourceValue, function (v) {\n                return wrapBgColorVariableName(v);\n              }, function (fallback) {\n                return tryModifyBgColor(fallback, theme);\n              });\n            }\n\n            var bgModifier = getBgImageModifier(modifiedValue, rule, ignoredImgSelectors, isCancelled);\n            modifiedValue = typeof bgModifier === 'function' ? bgModifier(theme) : bgModifier;\n            declarations.push({\n              property: property,\n              value: modifiedValue\n            });\n          }\n\n          return declarations;\n        };\n\n        var callbacks = new Set();\n\n        var addListener = function addListener(onTypeChange) {\n          var callback = function callback() {\n            var decs = getDeclarations();\n            onTypeChange(decs);\n          };\n\n          callbacks.add(callback);\n\n          _this.subscribeForVarTypeChange(varName, callback);\n        };\n\n        var removeListeners = function removeListeners() {\n          callbacks.forEach(function (callback) {\n            _this.unsubscribeFromVariableTypeChanges(varName, callback);\n          });\n        };\n\n        return {\n          declarations: getDeclarations(),\n          onTypeChange: {\n            addListener: addListener,\n            removeListeners: removeListeners\n          }\n        };\n      };\n    };\n\n    VariablesStore.prototype.getModifierForVarDependant = function (property, sourceValue) {\n      var _this = this;\n\n      if (sourceValue.match(/^\\s*(rgb|hsl)a?\\(/)) {\n        var isBg_1 = property.startsWith('background');\n        var isText_1 = property === 'color';\n        return function (theme) {\n          var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n          if (!value) {\n            value = isBg_1 ? '#ffffff' : '#000000';\n          }\n\n          var modifier = isBg_1 ? tryModifyBgColor : isText_1 ? tryModifyTextColor : tryModifyBorderColor;\n          return modifier(value, theme);\n        };\n      }\n\n      if (property === 'background-color') {\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapBgColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyBgColor(fallback, theme);\n          });\n        };\n      }\n\n      if (property === 'color') {\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapTextColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyTextColor(fallback, theme);\n          });\n        };\n      }\n\n      if (property === 'background' || property === 'background-image' || property === 'box-shadow') {\n        return function (theme) {\n          var unknownVars = new Set();\n\n          var modify = function modify() {\n            return replaceCSSVariablesNames(sourceValue, function (v) {\n              if (_this.isVarType(v, VAR_TYPE_BGCOLOR)) {\n                return wrapBgColorVariableName(v);\n              }\n\n              if (_this.isVarType(v, VAR_TYPE_BGIMG)) {\n                return wrapBgImgVariableName(v);\n              }\n\n              unknownVars.add(v);\n              return v;\n            }, function (fallback) {\n              return tryModifyBgColor(fallback, theme);\n            });\n          };\n\n          var modified = modify();\n\n          if (unknownVars.size > 0) {\n            return new Promise(function (resolve) {\n              var firstUnknownVar = unknownVars.values().next().value;\n\n              var callback = function callback() {\n                _this.unsubscribeFromVariableTypeChanges(firstUnknownVar, callback);\n\n                var newValue = modify();\n                resolve(newValue);\n              };\n\n              _this.subscribeForVarTypeChange(firstUnknownVar, callback);\n            });\n          }\n\n          return modified;\n        };\n      }\n\n      if (property.startsWith('border') || property.startsWith('outline')) {\n        if (sourceValue.endsWith(')')) {\n          var colorTypeMatch = sourceValue.match(/((rgb|hsl)a?)\\(/);\n\n          if (colorTypeMatch) {\n            var index_1 = colorTypeMatch.index;\n            return function (theme) {\n              var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n              if (!value) {\n                return sourceValue;\n              }\n\n              var beginning = sourceValue.substring(0, index_1);\n              var color = sourceValue.substring(index_1, sourceValue.length);\n              var inserted = insertVarValues(color, _this.unstableVarValues);\n              var modified = tryModifyBorderColor(inserted, theme);\n              return \"\" + beginning + modified;\n            };\n          }\n        }\n\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapBorderColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyTextColor(fallback, theme);\n          });\n        };\n      }\n\n      return null;\n    };\n\n    VariablesStore.prototype.subscribeForVarTypeChange = function (varName, callback) {\n      if (!this.typeChangeSubscriptions.has(varName)) {\n        this.typeChangeSubscriptions.set(varName, new Set());\n      }\n\n      this.typeChangeSubscriptions.get(varName).add(callback);\n    };\n\n    VariablesStore.prototype.unsubscribeFromVariableTypeChanges = function (varName, callback) {\n      if (this.typeChangeSubscriptions.has(varName)) {\n        this.typeChangeSubscriptions.get(varName).delete(callback);\n      }\n    };\n\n    VariablesStore.prototype.collectVariables = function (rules) {\n      var _this = this;\n\n      iterateVariables(rules, function (varName, value) {\n        _this.inspectVariable(varName, value);\n      });\n    };\n\n    VariablesStore.prototype.collectRootVariables = function () {\n      var _this = this;\n\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVariable(property)) {\n          _this.inspectVariable(property, value);\n        }\n      });\n    };\n\n    VariablesStore.prototype.inspectVariable = function (varName, value) {\n      this.unstableVarValues.set(varName, value);\n\n      if (isVarDependant(value) && isConstructedColorVar(value)) {\n        this.unknownColorVars.add(varName);\n        this.definedVars.add(varName);\n      }\n\n      if (this.definedVars.has(varName)) {\n        return;\n      }\n\n      this.definedVars.add(varName);\n      var color = tryParseColor(value);\n\n      if (color) {\n        this.unknownColorVars.add(varName);\n      } else if (value.includes('url(') || value.includes('linear-gradient(') || value.includes('radial-gradient(')) {\n        this.resolveVariableType(varName, VAR_TYPE_BGIMG);\n      }\n    };\n\n    VariablesStore.prototype.resolveVariableType = function (varName, typeNum) {\n      var initialType = this.initialVarTypes.get(varName) || 0;\n      var currentType = this.varTypes.get(varName) || 0;\n      var newType = currentType | typeNum;\n      this.varTypes.set(varName, newType);\n\n      if (newType !== initialType || this.undefinedVars.has(varName)) {\n        this.changedTypeVars.add(varName);\n        this.undefinedVars.delete(varName);\n      }\n\n      this.unknownColorVars.delete(varName);\n      this.unknownBgVars.delete(varName);\n    };\n\n    VariablesStore.prototype.collectVarDependants = function (rules) {\n      var _this = this;\n\n      iterateVarDependants(rules, function (property, value) {\n        _this.inspectVerDependant(property, value);\n      });\n    };\n\n    VariablesStore.prototype.collectRootVarDependants = function () {\n      var _this = this;\n\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVarDependant(value)) {\n          _this.inspectVerDependant(property, value);\n        }\n      });\n    };\n\n    VariablesStore.prototype.inspectVerDependant = function (property, value) {\n      var _this = this;\n\n      if (isVariable(property)) {\n        this.iterateVarDeps(value, function (ref) {\n          if (!_this.varRefs.has(property)) {\n            _this.varRefs.set(property, new Set());\n          }\n\n          _this.varRefs.get(property).add(ref);\n        });\n      } else if (property === 'background-color' || property === 'box-shadow') {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n        });\n      } else if (property === 'color') {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_TEXTCOLOR);\n        });\n      } else if (property.startsWith('border') || property.startsWith('outline')) {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_BORDERCOLOR);\n        });\n      } else if (property === 'background' || property === 'background-image') {\n        this.iterateVarDeps(value, function (v) {\n          if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n            return;\n          }\n\n          var isBgColor = _this.findVarRef(v, function (ref) {\n            return _this.unknownColorVars.has(ref) || _this.isVarType(ref, VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR);\n          }) != null;\n\n          _this.itarateVarRefs(v, function (ref) {\n            if (isBgColor) {\n              _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n            } else {\n              _this.unknownBgVars.add(ref);\n            }\n          });\n        });\n      }\n    };\n\n    VariablesStore.prototype.iterateVarDeps = function (value, iterator) {\n      var varDeps = new Set();\n      iterateVarDependencies(value, function (v) {\n        return varDeps.add(v);\n      });\n      varDeps.forEach(function (v) {\n        return iterator(v);\n      });\n    };\n\n    VariablesStore.prototype.findVarRef = function (varName, iterator, stack) {\n      var e_1, _a;\n\n      if (stack === void 0) {\n        stack = new Set();\n      }\n\n      if (stack.has(varName)) {\n        return null;\n      }\n\n      stack.add(varName);\n      var result = iterator(varName);\n\n      if (result) {\n        return varName;\n      }\n\n      var refs = this.varRefs.get(varName);\n\n      if (!refs || refs.size === 0) {\n        return null;\n      }\n\n      try {\n        for (var refs_1 = __values(refs), refs_1_1 = refs_1.next(); !refs_1_1.done; refs_1_1 = refs_1.next()) {\n          var ref = refs_1_1.value;\n          var found = this.findVarRef(ref, iterator, stack);\n\n          if (found) {\n            return found;\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (refs_1_1 && !refs_1_1.done && (_a = refs_1.return)) _a.call(refs_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      return null;\n    };\n\n    VariablesStore.prototype.itarateVarRefs = function (varName, iterator) {\n      this.findVarRef(varName, function (ref) {\n        iterator(ref);\n        return false;\n      });\n    };\n\n    VariablesStore.prototype.putRootVars = function (styleElement, theme) {\n      var e_2, _a;\n\n      var _this = this;\n\n      var sheet = styleElement.sheet;\n\n      if (sheet.cssRules.length > 0) {\n        sheet.deleteRule(0);\n      }\n\n      var declarations = new Map();\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVariable(property)) {\n          if (_this.isVarType(property, VAR_TYPE_BGCOLOR)) {\n            declarations.set(wrapBgColorVariableName(property), tryModifyBgColor(value, theme));\n          }\n\n          if (_this.isVarType(property, VAR_TYPE_TEXTCOLOR)) {\n            declarations.set(wrapTextColorVariableName(property), tryModifyTextColor(value, theme));\n          }\n\n          if (_this.isVarType(property, VAR_TYPE_BORDERCOLOR)) {\n            declarations.set(wrapBorderColorVariableName(property), tryModifyBorderColor(value, theme));\n          }\n        }\n      });\n      var cssLines = [];\n      cssLines.push(':root {');\n\n      try {\n        for (var declarations_1 = __values(declarations), declarations_1_1 = declarations_1.next(); !declarations_1_1.done; declarations_1_1 = declarations_1.next()) {\n          var _b = __read(declarations_1_1.value, 2),\n              property = _b[0],\n              value = _b[1];\n\n          cssLines.push(\"    \" + property + \": \" + value + \";\");\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (declarations_1_1 && !declarations_1_1.done && (_a = declarations_1.return)) _a.call(declarations_1);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      cssLines.push('}');\n      var cssText = cssLines.join('\\n');\n      sheet.insertRule(cssText);\n    };\n\n    return VariablesStore;\n  }();\n\n  var variablesStore = new VariablesStore();\n\n  function getVariableRange(input, searchStart) {\n    if (searchStart === void 0) {\n      searchStart = 0;\n    }\n\n    var start = input.indexOf('var(', searchStart);\n\n    if (start >= 0) {\n      var range = getParenthesesRange(input, start + 3);\n\n      if (range) {\n        return {\n          start: start,\n          end: range.end\n        };\n      }\n\n      return null;\n    }\n  }\n\n  function getVariablesMatches(input) {\n    var ranges = [];\n    var i = 0;\n    var range;\n\n    while (range = getVariableRange(input, i)) {\n      var start = range.start,\n          end = range.end;\n      ranges.push({\n        start: start,\n        end: end,\n        value: input.substring(start, end)\n      });\n      i = range.end + 1;\n    }\n\n    return ranges;\n  }\n\n  function replaceVariablesMatches(input, replacer) {\n    var matches = getVariablesMatches(input);\n    var matchesCount = matches.length;\n\n    if (matchesCount === 0) {\n      return input;\n    }\n\n    var inputLength = input.length;\n    var replacements = matches.map(function (m) {\n      return replacer(m.value);\n    });\n    var parts = [];\n    parts.push(input.substring(0, matches[0].start));\n\n    for (var i = 0; i < matchesCount; i++) {\n      parts.push(replacements[i]);\n      var start = matches[i].end;\n      var end = i < matchesCount - 1 ? matches[i + 1].start : inputLength;\n      parts.push(input.substring(start, end));\n    }\n\n    return parts.join('');\n  }\n\n  function getVariableNameAndFallback(match) {\n    var commaIndex = match.indexOf(',');\n    var name;\n    var fallback;\n\n    if (commaIndex >= 0) {\n      name = match.substring(4, commaIndex).trim();\n      fallback = match.substring(commaIndex + 1, match.length - 1).trim();\n    } else {\n      name = match.substring(4, match.length - 1);\n      fallback = '';\n    }\n\n    return {\n      name: name,\n      fallback: fallback\n    };\n  }\n\n  function replaceCSSVariablesNames(value, nemeReplacer, fallbackReplacer) {\n    var matchReplacer = function matchReplacer(match) {\n      var _a = getVariableNameAndFallback(match),\n          name = _a.name,\n          fallback = _a.fallback;\n\n      var newName = nemeReplacer(name);\n\n      if (!fallback) {\n        return \"var(\" + newName + \")\";\n      }\n\n      var newFallback;\n\n      if (isVarDependant(fallback)) {\n        newFallback = replaceCSSVariablesNames(fallback, nemeReplacer, fallbackReplacer);\n      } else if (fallbackReplacer) {\n        newFallback = fallbackReplacer(fallback);\n      } else {\n        newFallback = fallback;\n      }\n\n      return \"var(\" + newName + \", \" + newFallback + \")\";\n    };\n\n    return replaceVariablesMatches(value, matchReplacer);\n  }\n\n  function iterateVariables(rules, iterator) {\n    iterateCSSRules(rules, function (rule) {\n      rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n        if (property.startsWith('--')) {\n          iterator(property, value);\n        }\n      });\n    });\n  }\n\n  function iterateVarDependants(rules, iterator) {\n    iterateCSSRules(rules, function (rule) {\n      rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n        if (isVarDependant(value)) {\n          iterator(property, value);\n        }\n      });\n    });\n  }\n\n  function iterateVarDependencies(value, iterator) {\n    replaceCSSVariablesNames(value, function (varName) {\n      iterator(varName);\n      return varName;\n    });\n  }\n\n  function wrapBgColorVariableName(name) {\n    return \"--darkreader-bg\" + name;\n  }\n\n  function wrapTextColorVariableName(name) {\n    return \"--darkreader-text\" + name;\n  }\n\n  function wrapBorderColorVariableName(name) {\n    return \"--darkreader-border\" + name;\n  }\n\n  function wrapBgImgVariableName(name) {\n    return \"--darkreader-bgimg\" + name;\n  }\n\n  function isVariable(property) {\n    return property.startsWith('--');\n  }\n\n  function isVarDependant(value) {\n    return value.includes('var(');\n  }\n\n  function isConstructedColorVar(value) {\n    return value.match(/^\\s*(rgb|hsl)a?\\(/);\n  }\n\n  function tryModifyBgColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyBackgroundColor(rgb, theme) : color;\n  }\n\n  function tryModifyTextColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyForegroundColor(rgb, theme) : color;\n  }\n\n  function tryModifyBorderColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyBorderColor(rgb, theme) : color;\n  }\n\n  function insertVarValues(source, varValues, stack) {\n    if (stack === void 0) {\n      stack = new Set();\n    }\n\n    var containsUnresolvedVar = false;\n\n    var matchReplacer = function matchReplacer(match) {\n      var _a = getVariableNameAndFallback(match),\n          name = _a.name,\n          fallback = _a.fallback;\n\n      if (stack.has(name)) {\n        containsUnresolvedVar = true;\n        return null;\n      }\n\n      stack.add(name);\n      var varValue = varValues.get(name) || fallback;\n      var inserted = null;\n\n      if (varValue) {\n        if (isVarDependant(varValue)) {\n          inserted = insertVarValues(varValue, varValues, stack);\n        } else {\n          inserted = varValue;\n        }\n      }\n\n      if (!inserted) {\n        containsUnresolvedVar = true;\n        return null;\n      }\n\n      return inserted;\n    };\n\n    var replaced = replaceVariablesMatches(source, matchReplacer);\n\n    if (containsUnresolvedVar) {\n      return null;\n    }\n\n    return replaced;\n  }\n\n  var overrides = {\n    'background-color': {\n      customProp: '--darkreader-inline-bgcolor',\n      cssProp: 'background-color',\n      dataAttr: 'data-darkreader-inline-bgcolor'\n    },\n    'background-image': {\n      customProp: '--darkreader-inline-bgimage',\n      cssProp: 'background-image',\n      dataAttr: 'data-darkreader-inline-bgimage'\n    },\n    'border-color': {\n      customProp: '--darkreader-inline-border',\n      cssProp: 'border-color',\n      dataAttr: 'data-darkreader-inline-border'\n    },\n    'border-bottom-color': {\n      customProp: '--darkreader-inline-border-bottom',\n      cssProp: 'border-bottom-color',\n      dataAttr: 'data-darkreader-inline-border-bottom'\n    },\n    'border-left-color': {\n      customProp: '--darkreader-inline-border-left',\n      cssProp: 'border-left-color',\n      dataAttr: 'data-darkreader-inline-border-left'\n    },\n    'border-right-color': {\n      customProp: '--darkreader-inline-border-right',\n      cssProp: 'border-right-color',\n      dataAttr: 'data-darkreader-inline-border-right'\n    },\n    'border-top-color': {\n      customProp: '--darkreader-inline-border-top',\n      cssProp: 'border-top-color',\n      dataAttr: 'data-darkreader-inline-border-top'\n    },\n    'box-shadow': {\n      customProp: '--darkreader-inline-boxshadow',\n      cssProp: 'box-shadow',\n      dataAttr: 'data-darkreader-inline-boxshadow'\n    },\n    'color': {\n      customProp: '--darkreader-inline-color',\n      cssProp: 'color',\n      dataAttr: 'data-darkreader-inline-color'\n    },\n    'fill': {\n      customProp: '--darkreader-inline-fill',\n      cssProp: 'fill',\n      dataAttr: 'data-darkreader-inline-fill'\n    },\n    'stroke': {\n      customProp: '--darkreader-inline-stroke',\n      cssProp: 'stroke',\n      dataAttr: 'data-darkreader-inline-stroke'\n    },\n    'outline-color': {\n      customProp: '--darkreader-inline-outline',\n      cssProp: 'outline-color',\n      dataAttr: 'data-darkreader-inline-outline'\n    },\n    'stop-color': {\n      customProp: '--darkreader-inline-stopcolor',\n      cssProp: 'stop-color',\n      dataAttr: 'data-darkreader-inline-stopcolor'\n    }\n  };\n  var overridesList = Object.values(overrides);\n  var INLINE_STYLE_ATTRS = ['style', 'fill', 'stop-color', 'stroke', 'bgcolor', 'color'];\n  var INLINE_STYLE_SELECTOR = INLINE_STYLE_ATTRS.map(function (attr) {\n    return \"[\" + attr + \"]\";\n  }).join(', ');\n\n  function getInlineOverrideStyle() {\n    return overridesList.map(function (_a) {\n      var dataAttr = _a.dataAttr,\n          customProp = _a.customProp,\n          cssProp = _a.cssProp;\n      return [\"[\" + dataAttr + \"] {\", \"  \" + cssProp + \": var(\" + customProp + \") !important;\", '}'].join('\\n');\n    }).join('\\n');\n  }\n\n  function getInlineStyleElements(root) {\n    var results = [];\n\n    if (root instanceof Element && root.matches(INLINE_STYLE_SELECTOR)) {\n      results.push(root);\n    }\n\n    if (root instanceof Element || isShadowDomSupported && root instanceof ShadowRoot || root instanceof Document) {\n      push(results, root.querySelectorAll(INLINE_STYLE_SELECTOR));\n    }\n\n    return results;\n  }\n\n  var treeObservers = new Map();\n  var attrObservers = new Map();\n\n  function watchForInlineStyles(elementStyleDidChange, shadowRootDiscovered) {\n    deepWatchForInlineStyles(document, elementStyleDidChange, shadowRootDiscovered);\n    iterateShadowHosts(document.documentElement, function (host) {\n      deepWatchForInlineStyles(host.shadowRoot, elementStyleDidChange, shadowRootDiscovered);\n    });\n  }\n\n  function deepWatchForInlineStyles(root, elementStyleDidChange, shadowRootDiscovered) {\n    if (treeObservers.has(root)) {\n      treeObservers.get(root).disconnect();\n      attrObservers.get(root).disconnect();\n    }\n\n    var discoveredNodes = new WeakSet();\n\n    function discoverNodes(node) {\n      getInlineStyleElements(node).forEach(function (el) {\n        if (discoveredNodes.has(el)) {\n          return;\n        }\n\n        discoveredNodes.add(el);\n        elementStyleDidChange(el);\n      });\n      iterateShadowHosts(node, function (n) {\n        if (discoveredNodes.has(node)) {\n          return;\n        }\n\n        discoveredNodes.add(node);\n        shadowRootDiscovered(n.shadowRoot);\n        deepWatchForInlineStyles(n.shadowRoot, elementStyleDidChange, shadowRootDiscovered);\n      });\n    }\n\n    var treeObserver = createOptimizedTreeObserver(root, {\n      onMinorMutations: function onMinorMutations(_a) {\n        var additions = _a.additions;\n        additions.forEach(function (added) {\n          return discoverNodes(added);\n        });\n      },\n      onHugeMutations: function onHugeMutations() {\n        discoverNodes(root);\n      }\n    });\n    treeObservers.set(root, treeObserver);\n    var attemptCount = 0;\n    var start = null;\n    var ATTEMPTS_INTERVAL = getDuration({\n      seconds: 10\n    });\n    var RETRY_TIMEOUT = getDuration({\n      seconds: 2\n    });\n    var MAX_ATTEMPTS_COUNT = 50;\n    var cache = [];\n    var timeoutId = null;\n    var handleAttributeMutations = throttle(function (mutations) {\n      mutations.forEach(function (m) {\n        if (INLINE_STYLE_ATTRS.includes(m.attributeName)) {\n          elementStyleDidChange(m.target);\n        }\n      });\n    });\n    var attrObserver = new MutationObserver(function (mutations) {\n      if (timeoutId) {\n        cache.push.apply(cache, __spreadArray([], __read(mutations)));\n        return;\n      }\n\n      attemptCount++;\n      var now = Date.now();\n\n      if (start == null) {\n        start = now;\n      } else if (attemptCount >= MAX_ATTEMPTS_COUNT) {\n        if (now - start < ATTEMPTS_INTERVAL) {\n          timeoutId = setTimeout(function () {\n            start = null;\n            attemptCount = 0;\n            timeoutId = null;\n            var attributeCache = cache;\n            cache = [];\n            handleAttributeMutations(attributeCache);\n          }, RETRY_TIMEOUT);\n          cache.push.apply(cache, __spreadArray([], __read(mutations)));\n          return;\n        }\n\n        start = now;\n        attemptCount = 1;\n      }\n\n      handleAttributeMutations(mutations);\n    });\n    attrObserver.observe(root, {\n      attributes: true,\n      attributeFilter: INLINE_STYLE_ATTRS.concat(overridesList.map(function (_a) {\n        var dataAttr = _a.dataAttr;\n        return dataAttr;\n      })),\n      subtree: true\n    });\n    attrObservers.set(root, attrObserver);\n  }\n\n  function stopWatchingForInlineStyles() {\n    treeObservers.forEach(function (o) {\n      return o.disconnect();\n    });\n    attrObservers.forEach(function (o) {\n      return o.disconnect();\n    });\n    treeObservers.clear();\n    attrObservers.clear();\n  }\n\n  var inlineStyleCache = new WeakMap();\n  var filterProps = ['brightness', 'contrast', 'grayscale', 'sepia', 'mode'];\n\n  function getInlineStyleCacheKey(el, theme) {\n    return INLINE_STYLE_ATTRS.map(function (attr) {\n      return attr + \"=\\\"\" + el.getAttribute(attr) + \"\\\"\";\n    }).concat(filterProps.map(function (prop) {\n      return prop + \"=\\\"\" + theme[prop] + \"\\\"\";\n    })).join(' ');\n  }\n\n  function shouldIgnoreInlineStyle(element, selectors) {\n    for (var i = 0, len = selectors.length; i < len; i++) {\n      var ingnoredSelector = selectors[i];\n\n      if (element.matches(ingnoredSelector)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function overrideInlineStyle(element, theme, ignoreInlineSelectors, ignoreImageSelectors) {\n    var cacheKey = getInlineStyleCacheKey(element, theme);\n\n    if (cacheKey === inlineStyleCache.get(element)) {\n      return;\n    }\n\n    var unsetProps = new Set(Object.keys(overrides));\n\n    function setCustomProp(targetCSSProp, modifierCSSProp, cssVal) {\n      var _a = overrides[targetCSSProp],\n          customProp = _a.customProp,\n          dataAttr = _a.dataAttr;\n      var mod = getModifiableCSSDeclaration(modifierCSSProp, cssVal, null, variablesStore, ignoreImageSelectors, null);\n\n      if (!mod) {\n        return;\n      }\n\n      var value = mod.value;\n\n      if (typeof value === 'function') {\n        value = value(theme);\n      }\n\n      element.style.setProperty(customProp, value);\n\n      if (!element.hasAttribute(dataAttr)) {\n        element.setAttribute(dataAttr, '');\n      }\n\n      unsetProps.delete(targetCSSProp);\n    }\n\n    if (ignoreInlineSelectors.length > 0) {\n      if (shouldIgnoreInlineStyle(element, ignoreInlineSelectors)) {\n        unsetProps.forEach(function (cssProp) {\n          element.removeAttribute(overrides[cssProp].dataAttr);\n        });\n        return;\n      }\n    }\n\n    if (element.hasAttribute('bgcolor')) {\n      var value = element.getAttribute('bgcolor');\n\n      if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {\n        value = \"#\" + value;\n      }\n\n      setCustomProp('background-color', 'background-color', value);\n    }\n\n    if (element.hasAttribute('color')) {\n      var value = element.getAttribute('color');\n\n      if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {\n        value = \"#\" + value;\n      }\n\n      setCustomProp('color', 'color', value);\n    }\n\n    if (element instanceof SVGElement) {\n      if (element.hasAttribute('fill')) {\n        var SMALL_SVG_LIMIT = 32;\n        var value = element.getAttribute('fill');\n        var isBg = false;\n\n        if (!(element instanceof SVGTextElement)) {\n          var _a = element.getBoundingClientRect(),\n              width = _a.width,\n              height = _a.height;\n\n          isBg = width > SMALL_SVG_LIMIT || height > SMALL_SVG_LIMIT;\n        }\n\n        setCustomProp('fill', isBg ? 'background-color' : 'color', value);\n      }\n\n      if (element.hasAttribute('stop-color')) {\n        setCustomProp('stop-color', 'background-color', element.getAttribute('stop-color'));\n      }\n    }\n\n    if (element.hasAttribute('stroke')) {\n      var value = element.getAttribute('stroke');\n      setCustomProp('stroke', element instanceof SVGLineElement || element instanceof SVGTextElement ? 'border-color' : 'color', value);\n    }\n\n    element.style && iterateCSSDeclarations(element.style, function (property, value) {\n      if (property === 'background-image' && value.includes('url')) {\n        return;\n      }\n\n      if (overrides.hasOwnProperty(property)) {\n        setCustomProp(property, property, value);\n      }\n    });\n\n    if (element.style && element instanceof SVGTextElement && element.style.fill) {\n      setCustomProp('fill', 'color', element.style.getPropertyValue('fill'));\n    }\n\n    forEach(unsetProps, function (cssProp) {\n      element.removeAttribute(overrides[cssProp].dataAttr);\n    });\n    inlineStyleCache.set(element, getInlineStyleCacheKey(element, theme));\n  }\n\n  var metaThemeColorName = 'theme-color';\n  var metaThemeColorSelector = \"meta[name=\\\"\" + metaThemeColorName + \"\\\"]\";\n  var srcMetaThemeColor = null;\n  var observer = null;\n\n  function changeMetaThemeColor(meta, theme) {\n    srcMetaThemeColor = srcMetaThemeColor || meta.content;\n\n    try {\n      var color = parse(srcMetaThemeColor);\n      meta.content = modifyBackgroundColor(color, theme);\n    } catch (err) {\n      logWarn(err);\n    }\n  }\n\n  function changeMetaThemeColorWhenAvailable(theme) {\n    var meta = document.querySelector(metaThemeColorSelector);\n\n    if (meta) {\n      changeMetaThemeColor(meta, theme);\n    } else {\n      if (observer) {\n        observer.disconnect();\n      }\n\n      observer = new MutationObserver(function (mutations) {\n        loop: for (var i = 0; i < mutations.length; i++) {\n          var addedNodes = mutations[i].addedNodes;\n\n          for (var j = 0; j < addedNodes.length; j++) {\n            var node = addedNodes[j];\n\n            if (node instanceof HTMLMetaElement && node.name === metaThemeColorName) {\n              observer.disconnect();\n              observer = null;\n              changeMetaThemeColor(node, theme);\n              break loop;\n            }\n          }\n        }\n      });\n      observer.observe(document.head, {\n        childList: true\n      });\n    }\n  }\n\n  function restoreMetaThemeColor() {\n    if (observer) {\n      observer.disconnect();\n      observer = null;\n    }\n\n    var meta = document.querySelector(metaThemeColorSelector);\n\n    if (meta && srcMetaThemeColor) {\n      meta.content = srcMetaThemeColor;\n    }\n  }\n\n  var themeCacheKeys = ['mode', 'brightness', 'contrast', 'grayscale', 'sepia', 'darkSchemeBackgroundColor', 'darkSchemeTextColor', 'lightSchemeBackgroundColor', 'lightSchemeTextColor'];\n\n  function getThemeKey(theme) {\n    return themeCacheKeys.map(function (p) {\n      return p + \":\" + theme[p];\n    }).join(';');\n  }\n\n  var asyncQueue = createAsyncTasksQueue();\n\n  function createStyleSheetModifier() {\n    var renderId = 0;\n    var rulesTextCache = new Map();\n    var rulesModCache = new Map();\n    var varTypeChangeCleaners = new Set();\n    var prevFilterKey = null;\n\n    function modifySheet(options) {\n      var rules = options.sourceCSSRules;\n      var theme = options.theme,\n          ignoreImageAnalysis = options.ignoreImageAnalysis,\n          force = options.force,\n          prepareSheet = options.prepareSheet,\n          isAsyncCancelled = options.isAsyncCancelled;\n      var rulesChanged = rulesModCache.size === 0;\n      var notFoundCacheKeys = new Set(rulesModCache.keys());\n      var themeKey = getThemeKey(theme);\n      var themeChanged = themeKey !== prevFilterKey;\n      var modRules = [];\n      iterateCSSRules(rules, function (rule) {\n        var cssText = rule.cssText;\n        var textDiffersFromPrev = false;\n        notFoundCacheKeys.delete(cssText);\n\n        if (!rulesTextCache.has(cssText)) {\n          rulesTextCache.set(cssText, cssText);\n          textDiffersFromPrev = true;\n        }\n\n        if (textDiffersFromPrev) {\n          rulesChanged = true;\n        } else {\n          modRules.push(rulesModCache.get(cssText));\n          return;\n        }\n\n        var modDecs = [];\n        rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n          var mod = getModifiableCSSDeclaration(property, value, rule, variablesStore, ignoreImageAnalysis, isAsyncCancelled);\n\n          if (mod) {\n            modDecs.push(mod);\n          }\n        });\n        var modRule = null;\n\n        if (modDecs.length > 0) {\n          var parentRule = rule.parentRule;\n          modRule = {\n            selector: rule.selectorText,\n            declarations: modDecs,\n            parentRule: parentRule\n          };\n          modRules.push(modRule);\n        }\n\n        rulesModCache.set(cssText, modRule);\n      });\n      notFoundCacheKeys.forEach(function (key) {\n        rulesTextCache.delete(key);\n        rulesModCache.delete(key);\n      });\n      prevFilterKey = themeKey;\n\n      if (!force && !rulesChanged && !themeChanged) {\n        return;\n      }\n\n      renderId++;\n\n      function setRule(target, index, rule) {\n        var selector = rule.selector,\n            declarations = rule.declarations;\n\n        var getDeclarationText = function getDeclarationText(dec) {\n          var property = dec.property,\n              value = dec.value,\n              important = dec.important,\n              sourceValue = dec.sourceValue;\n          return property + \": \" + (value == null ? sourceValue : value) + (important ? ' !important' : '') + \";\";\n        };\n\n        var ruleText = selector + \" { \" + declarations.map(getDeclarationText).join(' ') + \" }\";\n        target.insertRule(ruleText, index);\n      }\n\n      var asyncDeclarations = new Map();\n      var varDeclarations = new Map();\n      var asyncDeclarationCounter = 0;\n      var varDeclarationCounter = 0;\n      var rootReadyGroup = {\n        rule: null,\n        rules: [],\n        isGroup: true\n      };\n      var groupRefs = new WeakMap();\n\n      function getGroup(rule) {\n        if (rule == null) {\n          return rootReadyGroup;\n        }\n\n        if (groupRefs.has(rule)) {\n          return groupRefs.get(rule);\n        }\n\n        var group = {\n          rule: rule,\n          rules: [],\n          isGroup: true\n        };\n        groupRefs.set(rule, group);\n        var parentGroup = getGroup(rule.parentRule);\n        parentGroup.rules.push(group);\n        return group;\n      }\n\n      varTypeChangeCleaners.forEach(function (clear) {\n        return clear();\n      });\n      varTypeChangeCleaners.clear();\n      modRules.filter(function (r) {\n        return r;\n      }).forEach(function (_a) {\n        var selector = _a.selector,\n            declarations = _a.declarations,\n            parentRule = _a.parentRule;\n        var group = getGroup(parentRule);\n        var readyStyleRule = {\n          selector: selector,\n          declarations: [],\n          isGroup: false\n        };\n        var readyDeclarations = readyStyleRule.declarations;\n        group.rules.push(readyStyleRule);\n\n        function handleAsyncDeclaration(property, modified, important, sourceValue) {\n          var asyncKey = ++asyncDeclarationCounter;\n          var asyncDeclaration = {\n            property: property,\n            value: null,\n            important: important,\n            asyncKey: asyncKey,\n            sourceValue: sourceValue\n          };\n          readyDeclarations.push(asyncDeclaration);\n          var currentRenderId = renderId;\n          modified.then(function (asyncValue) {\n            if (!asyncValue || isAsyncCancelled() || currentRenderId !== renderId) {\n              return;\n            }\n\n            asyncDeclaration.value = asyncValue;\n            asyncQueue.add(function () {\n              if (isAsyncCancelled() || currentRenderId !== renderId) {\n                return;\n              }\n\n              rebuildAsyncRule(asyncKey);\n            });\n          });\n        }\n\n        function handleVarDeclarations(property, modified, important, sourceValue) {\n          var _a = modified,\n              varDecs = _a.declarations,\n              onTypeChange = _a.onTypeChange;\n          var varKey = ++varDeclarationCounter;\n          var currentRenderId = renderId;\n          var initialIndex = readyDeclarations.length;\n          var oldDecs = [];\n\n          if (varDecs.length === 0) {\n            var tempDec = {\n              property: property,\n              value: sourceValue,\n              important: important,\n              sourceValue: sourceValue,\n              varKey: varKey\n            };\n            readyDeclarations.push(tempDec);\n            oldDecs = [tempDec];\n          }\n\n          varDecs.forEach(function (mod) {\n            if (mod.value instanceof Promise) {\n              handleAsyncDeclaration(mod.property, mod.value, important, sourceValue);\n            } else {\n              var readyDec = {\n                property: mod.property,\n                value: mod.value,\n                important: important,\n                sourceValue: sourceValue,\n                varKey: varKey\n              };\n              readyDeclarations.push(readyDec);\n              oldDecs.push(readyDec);\n            }\n          });\n          onTypeChange.addListener(function (newDecs) {\n            if (isAsyncCancelled() || currentRenderId !== renderId) {\n              return;\n            }\n\n            var readyVarDecs = newDecs.map(function (mod) {\n              return {\n                property: mod.property,\n                value: mod.value,\n                important: important,\n                sourceValue: sourceValue,\n                varKey: varKey\n              };\n            });\n            var index = readyDeclarations.indexOf(oldDecs[0], initialIndex);\n            readyDeclarations.splice.apply(readyDeclarations, __spreadArray([index, oldDecs.length], __read(readyVarDecs)));\n            oldDecs = readyVarDecs;\n            rebuildVarRule(varKey);\n          });\n          varTypeChangeCleaners.add(function () {\n            return onTypeChange.removeListeners();\n          });\n        }\n\n        declarations.forEach(function (_a) {\n          var property = _a.property,\n              value = _a.value,\n              important = _a.important,\n              sourceValue = _a.sourceValue;\n\n          if (typeof value === 'function') {\n            var modified = value(theme);\n\n            if (modified instanceof Promise) {\n              handleAsyncDeclaration(property, modified, important, sourceValue);\n            } else if (property.startsWith('--')) {\n              handleVarDeclarations(property, modified, important, sourceValue);\n            } else {\n              readyDeclarations.push({\n                property: property,\n                value: modified,\n                important: important,\n                sourceValue: sourceValue\n              });\n            }\n          } else {\n            readyDeclarations.push({\n              property: property,\n              value: value,\n              important: important,\n              sourceValue: sourceValue\n            });\n          }\n        });\n      });\n      var sheet = prepareSheet();\n\n      function buildStyleSheet() {\n        function createTarget(group, parent) {\n          var rule = group.rule;\n\n          if (rule instanceof CSSMediaRule) {\n            var media = rule.media;\n            var index = parent.cssRules.length;\n            parent.insertRule(\"@media \" + media.mediaText + \" {}\", index);\n            return parent.cssRules[index];\n          }\n\n          return parent;\n        }\n\n        function iterateReadyRules(group, target, styleIterator) {\n          group.rules.forEach(function (r) {\n            if (r.isGroup) {\n              var t = createTarget(r, target);\n              iterateReadyRules(r, t, styleIterator);\n            } else {\n              styleIterator(r, target);\n            }\n          });\n        }\n\n        iterateReadyRules(rootReadyGroup, sheet, function (rule, target) {\n          var index = target.cssRules.length;\n          rule.declarations.forEach(function (_a) {\n            var asyncKey = _a.asyncKey,\n                varKey = _a.varKey;\n\n            if (asyncKey != null) {\n              asyncDeclarations.set(asyncKey, {\n                rule: rule,\n                target: target,\n                index: index\n              });\n            }\n\n            if (varKey != null) {\n              varDeclarations.set(varKey, {\n                rule: rule,\n                target: target,\n                index: index\n              });\n            }\n          });\n          setRule(target, index, rule);\n        });\n      }\n\n      function rebuildAsyncRule(key) {\n        var _a = asyncDeclarations.get(key),\n            rule = _a.rule,\n            target = _a.target,\n            index = _a.index;\n\n        target.deleteRule(index);\n        setRule(target, index, rule);\n        asyncDeclarations.delete(key);\n      }\n\n      function rebuildVarRule(key) {\n        var _a = varDeclarations.get(key),\n            rule = _a.rule,\n            target = _a.target,\n            index = _a.index;\n\n        target.deleteRule(index);\n        setRule(target, index, rule);\n      }\n\n      buildStyleSheet();\n    }\n\n    return {\n      modifySheet: modifySheet\n    };\n  }\n\n  var STYLE_SELECTOR = 'style, link[rel*=\"stylesheet\" i]:not([disabled])';\n\n  function shouldManageStyle(element) {\n    return (element instanceof HTMLStyleElement || element instanceof SVGStyleElement || element instanceof HTMLLinkElement && element.rel && element.rel.toLowerCase().includes('stylesheet') && !element.disabled) && !element.classList.contains('darkreader') && element.media !== 'print' && !element.classList.contains('stylus');\n  }\n\n  function getManageableStyles(node, results, deep) {\n    if (results === void 0) {\n      results = [];\n    }\n\n    if (deep === void 0) {\n      deep = true;\n    }\n\n    if (shouldManageStyle(node)) {\n      results.push(node);\n    } else if (node instanceof Element || isShadowDomSupported && node instanceof ShadowRoot || node === document) {\n      forEach(node.querySelectorAll(STYLE_SELECTOR), function (style) {\n        return getManageableStyles(style, results, false);\n      });\n\n      if (deep) {\n        iterateShadowHosts(node, function (host) {\n          return getManageableStyles(host.shadowRoot, results, false);\n        });\n      }\n    }\n\n    return results;\n  }\n\n  var syncStyleSet = new WeakSet();\n  var corsStyleSet = new WeakSet();\n  var canOptimizeUsingProxy$1 = false;\n  document.addEventListener('__darkreader__inlineScriptsAllowed', function () {\n    canOptimizeUsingProxy$1 = true;\n  });\n\n  function manageStyle(element, _a) {\n    var update = _a.update,\n        loadingStart = _a.loadingStart,\n        loadingEnd = _a.loadingEnd;\n    var prevStyles = [];\n    var next = element;\n\n    while ((next = next.nextElementSibling) && next.matches('.darkreader')) {\n      prevStyles.push(next);\n    }\n\n    var corsCopy = prevStyles.find(function (el) {\n      return el.matches('.darkreader--cors') && !corsStyleSet.has(el);\n    }) || null;\n    var syncStyle = prevStyles.find(function (el) {\n      return el.matches('.darkreader--sync') && !syncStyleSet.has(el);\n    }) || null;\n    var corsCopyPositionWatcher = null;\n    var syncStylePositionWatcher = null;\n    var cancelAsyncOperations = false;\n    var isOverrideEmpty = true;\n    var sheetModifier = createStyleSheetModifier();\n    var observer = new MutationObserver(function () {\n      update();\n    });\n    var observerOptions = {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: true\n    };\n\n    function containsCSSImport() {\n      return element instanceof HTMLStyleElement && element.textContent.trim().match(cssImportRegex);\n    }\n\n    function getRulesSync() {\n      if (corsCopy) {\n        return corsCopy.sheet.cssRules;\n      }\n\n      if (containsCSSImport()) {\n        return null;\n      }\n\n      return safeGetSheetRules();\n    }\n\n    function insertStyle() {\n      if (corsCopy) {\n        if (element.nextSibling !== corsCopy) {\n          element.parentNode.insertBefore(corsCopy, element.nextSibling);\n        }\n\n        if (corsCopy.nextSibling !== syncStyle) {\n          element.parentNode.insertBefore(syncStyle, corsCopy.nextSibling);\n        }\n      } else if (element.nextSibling !== syncStyle) {\n        element.parentNode.insertBefore(syncStyle, element.nextSibling);\n      }\n    }\n\n    function createSyncStyle() {\n      syncStyle = element instanceof SVGStyleElement ? document.createElementNS('http://www.w3.org/2000/svg', 'style') : document.createElement('style');\n      syncStyle.classList.add('darkreader');\n      syncStyle.classList.add('darkreader--sync');\n      syncStyle.media = 'screen';\n\n      if (!isChromium && element.title) {\n        syncStyle.title = element.title;\n      }\n\n      syncStyleSet.add(syncStyle);\n    }\n\n    var isLoadingRules = false;\n    var wasLoadingError = false;\n\n    function getRulesAsync() {\n      return __awaiter(this, void 0, void 0, function () {\n        var cssText, cssBasePath, _a, cssRules, accessError, err_1, fullCSSText, err_2;\n\n        var _b;\n\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              if (!(element instanceof HTMLLinkElement)) return [3, 7];\n              _a = __read(getRulesOrError(), 2), cssRules = _a[0], accessError = _a[1];\n\n              if (accessError) {\n                logWarn(accessError);\n              }\n\n              if (!(!cssRules && !accessError && !isSafari || isSafari && !element.sheet || isStillLoadingError(accessError))) return [3, 5];\n              _c.label = 1;\n\n            case 1:\n              _c.trys.push([1, 3,, 4]);\n\n              return [4, linkLoading(element)];\n\n            case 2:\n              _c.sent();\n\n              return [3, 4];\n\n            case 3:\n              err_1 = _c.sent();\n              logWarn(err_1);\n              wasLoadingError = true;\n              return [3, 4];\n\n            case 4:\n              if (cancelAsyncOperations) {\n                return [2, null];\n              }\n\n              _b = __read(getRulesOrError(), 2), cssRules = _b[0], accessError = _b[1];\n\n              if (accessError) {\n                logWarn(accessError);\n              }\n\n              _c.label = 5;\n\n            case 5:\n              if (cssRules != null) {\n                return [2, cssRules];\n              }\n\n              return [4, loadText(element.href)];\n\n            case 6:\n              cssText = _c.sent();\n              cssBasePath = getCSSBaseBath(element.href);\n\n              if (cancelAsyncOperations) {\n                return [2, null];\n              }\n\n              return [3, 8];\n\n            case 7:\n              if (containsCSSImport()) {\n                cssText = element.textContent.trim();\n                cssBasePath = getCSSBaseBath(location.href);\n              } else {\n                return [2, null];\n              }\n\n              _c.label = 8;\n\n            case 8:\n              if (!cssText) return [3, 13];\n              _c.label = 9;\n\n            case 9:\n              _c.trys.push([9, 11,, 12]);\n\n              return [4, replaceCSSImports(cssText, cssBasePath)];\n\n            case 10:\n              fullCSSText = _c.sent();\n              corsCopy = createCORSCopy(element, fullCSSText);\n              return [3, 12];\n\n            case 11:\n              err_2 = _c.sent();\n              logWarn(err_2);\n              return [3, 12];\n\n            case 12:\n              if (corsCopy) {\n                corsCopyPositionWatcher = watchForNodePosition(corsCopy, 'prev-sibling');\n                return [2, corsCopy.sheet.cssRules];\n              }\n\n              _c.label = 13;\n\n            case 13:\n              return [2, null];\n          }\n        });\n      });\n    }\n\n    function details() {\n      var rules = getRulesSync();\n\n      if (!rules) {\n        if (isLoadingRules || wasLoadingError) {\n          return null;\n        }\n\n        isLoadingRules = true;\n        loadingStart();\n        getRulesAsync().then(function (results) {\n          isLoadingRules = false;\n          loadingEnd();\n\n          if (results) {\n            update();\n          }\n        }).catch(function (err) {\n          logWarn(err);\n          isLoadingRules = false;\n          loadingEnd();\n        });\n        return null;\n      }\n\n      return {\n        rules: rules\n      };\n    }\n\n    var forceRenderStyle = false;\n\n    function render(theme, ignoreImageAnalysis) {\n      var rules = getRulesSync();\n\n      if (!rules) {\n        return;\n      }\n\n      cancelAsyncOperations = false;\n\n      function prepareOverridesSheet() {\n        if (!syncStyle) {\n          createSyncStyle();\n        }\n\n        syncStylePositionWatcher && syncStylePositionWatcher.stop();\n        insertStyle();\n\n        if (syncStyle.sheet == null) {\n          syncStyle.textContent = '';\n        }\n\n        var sheet = syncStyle.sheet;\n\n        for (var i = sheet.cssRules.length - 1; i >= 0; i--) {\n          sheet.deleteRule(i);\n        }\n\n        if (syncStylePositionWatcher) {\n          syncStylePositionWatcher.run();\n        } else {\n          syncStylePositionWatcher = watchForNodePosition(syncStyle, 'prev-sibling', function () {\n            forceRenderStyle = true;\n            buildOverrides();\n          });\n        }\n\n        return syncStyle.sheet;\n      }\n\n      function buildOverrides() {\n        var force = forceRenderStyle;\n        forceRenderStyle = false;\n        sheetModifier.modifySheet({\n          prepareSheet: prepareOverridesSheet,\n          sourceCSSRules: rules,\n          theme: theme,\n          ignoreImageAnalysis: ignoreImageAnalysis,\n          force: force,\n          isAsyncCancelled: function isAsyncCancelled() {\n            return cancelAsyncOperations;\n          }\n        });\n        isOverrideEmpty = syncStyle.sheet.cssRules.length === 0;\n      }\n\n      buildOverrides();\n    }\n\n    function getRulesOrError() {\n      try {\n        if (element.sheet == null) {\n          return [null, null];\n        }\n\n        return [element.sheet.cssRules, null];\n      } catch (err) {\n        return [null, err];\n      }\n    }\n\n    function isStillLoadingError(error) {\n      return error && error.message && error.message.includes('loading');\n    }\n\n    function safeGetSheetRules() {\n      var _a = __read(getRulesOrError(), 2),\n          cssRules = _a[0],\n          err = _a[1];\n\n      if (err) {\n        logWarn(err);\n        return null;\n      }\n\n      return cssRules;\n    }\n\n    function watchForSheetChanges() {\n      watchForSheetChangesUsingProxy();\n\n      if (!isThunderbird && !(canOptimizeUsingProxy$1 && element.sheet)) {\n        watchForSheetChangesUsingRAF();\n      }\n    }\n\n    var rulesChangeKey = null;\n    var rulesCheckFrameId = null;\n\n    function getRulesChangeKey() {\n      var rules = safeGetSheetRules();\n      return rules ? rules.length : null;\n    }\n\n    function didRulesKeyChange() {\n      return getRulesChangeKey() !== rulesChangeKey;\n    }\n\n    function watchForSheetChangesUsingRAF() {\n      rulesChangeKey = getRulesChangeKey();\n      stopWatchingForSheetChangesUsingRAF();\n\n      var checkForUpdate = function checkForUpdate() {\n        if (didRulesKeyChange()) {\n          rulesChangeKey = getRulesChangeKey();\n          update();\n        }\n\n        if (canOptimizeUsingProxy$1 && element.sheet) {\n          stopWatchingForSheetChangesUsingRAF();\n          return;\n        }\n\n        rulesCheckFrameId = requestAnimationFrame(checkForUpdate);\n      };\n\n      checkForUpdate();\n    }\n\n    function stopWatchingForSheetChangesUsingRAF() {\n      cancelAnimationFrame(rulesCheckFrameId);\n    }\n\n    var areSheetChangesPending = false;\n\n    function onSheetChange() {\n      canOptimizeUsingProxy$1 = true;\n      stopWatchingForSheetChangesUsingRAF();\n\n      if (areSheetChangesPending) {\n        return;\n      }\n\n      function handleSheetChanges() {\n        areSheetChangesPending = false;\n\n        if (cancelAsyncOperations) {\n          return;\n        }\n\n        update();\n      }\n\n      areSheetChangesPending = true;\n\n      if (typeof queueMicrotask === 'function') {\n        queueMicrotask(handleSheetChanges);\n      } else {\n        requestAnimationFrame(handleSheetChanges);\n      }\n    }\n\n    function watchForSheetChangesUsingProxy() {\n      element.addEventListener('__darkreader__updateSheet', onSheetChange);\n    }\n\n    function stopWatchingForSheetChangesUsingProxy() {\n      element.removeEventListener('__darkreader__updateSheet', onSheetChange);\n    }\n\n    function stopWatchingForSheetChanges() {\n      stopWatchingForSheetChangesUsingProxy();\n      stopWatchingForSheetChangesUsingRAF();\n    }\n\n    function pause() {\n      observer.disconnect();\n      cancelAsyncOperations = true;\n      corsCopyPositionWatcher && corsCopyPositionWatcher.stop();\n      syncStylePositionWatcher && syncStylePositionWatcher.stop();\n      stopWatchingForSheetChanges();\n    }\n\n    function destroy() {\n      pause();\n      removeNode(corsCopy);\n      removeNode(syncStyle);\n    }\n\n    function watch() {\n      observer.observe(element, observerOptions);\n\n      if (element instanceof HTMLStyleElement) {\n        watchForSheetChanges();\n      }\n    }\n\n    var maxMoveCount = 10;\n    var moveCount = 0;\n\n    function restore() {\n      if (!syncStyle) {\n        return;\n      }\n\n      moveCount++;\n\n      if (moveCount > maxMoveCount) {\n        logWarn('Style sheet was moved multiple times', element);\n        return;\n      }\n\n      logWarn('Restore style', syncStyle, element);\n      insertStyle();\n      corsCopyPositionWatcher && corsCopyPositionWatcher.skip();\n      syncStylePositionWatcher && syncStylePositionWatcher.skip();\n\n      if (!isOverrideEmpty) {\n        forceRenderStyle = true;\n        update();\n      }\n    }\n\n    return {\n      details: details,\n      render: render,\n      pause: pause,\n      destroy: destroy,\n      watch: watch,\n      restore: restore\n    };\n  }\n\n  function linkLoading(link) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var cleanUp = function cleanUp() {\n            link.removeEventListener('load', onLoad);\n            link.removeEventListener('error', onError);\n          };\n\n          var onLoad = function onLoad() {\n            cleanUp();\n            resolve();\n          };\n\n          var onError = function onError() {\n            cleanUp();\n            reject(\"Link loading failed \" + link.href);\n          };\n\n          link.addEventListener('load', onLoad);\n          link.addEventListener('error', onError);\n        })];\n      });\n    });\n  }\n\n  function getCSSImportURL(importDeclaration) {\n    return getCSSURLValue(importDeclaration.substring(8).replace(/;$/, ''));\n  }\n\n  function loadText(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!url.startsWith('data:')) return [3, 3];\n            return [4, fetch(url)];\n\n          case 1:\n            return [4, _a.sent().text()];\n\n          case 2:\n            return [2, _a.sent()];\n\n          case 3:\n            return [4, bgFetch({\n              url: url,\n              responseType: 'text',\n              mimeType: 'text/css'\n            })];\n\n          case 4:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function replaceCSSImports(cssText, basePath, cache) {\n    if (cache === void 0) {\n      cache = new Map();\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var importMatches, importMatches_1, importMatches_1_1, match, importURL, absoluteURL, importedCSS, err_3, e_1_1;\n\n      var e_1, _a;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            cssText = removeCSSComments(cssText);\n            cssText = replaceCSSFontFace(cssText);\n            cssText = replaceCSSRelativeURLsWithAbsolute(cssText, basePath);\n            importMatches = getMatches(cssImportRegex, cssText);\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 10, 11, 12]);\n\n            importMatches_1 = __values(importMatches), importMatches_1_1 = importMatches_1.next();\n            _b.label = 2;\n\n          case 2:\n            if (!!importMatches_1_1.done) return [3, 9];\n            match = importMatches_1_1.value;\n            importURL = getCSSImportURL(match);\n            absoluteURL = getAbsoluteURL(basePath, importURL);\n            importedCSS = void 0;\n            if (!cache.has(absoluteURL)) return [3, 3];\n            importedCSS = cache.get(absoluteURL);\n            return [3, 7];\n\n          case 3:\n            _b.trys.push([3, 6,, 7]);\n\n            return [4, loadText(absoluteURL)];\n\n          case 4:\n            importedCSS = _b.sent();\n            cache.set(absoluteURL, importedCSS);\n            return [4, replaceCSSImports(importedCSS, getCSSBaseBath(absoluteURL), cache)];\n\n          case 5:\n            importedCSS = _b.sent();\n            return [3, 7];\n\n          case 6:\n            err_3 = _b.sent();\n            logWarn(err_3);\n            importedCSS = '';\n            return [3, 7];\n\n          case 7:\n            cssText = cssText.split(match).join(importedCSS);\n            _b.label = 8;\n\n          case 8:\n            importMatches_1_1 = importMatches_1.next();\n            return [3, 2];\n\n          case 9:\n            return [3, 12];\n\n          case 10:\n            e_1_1 = _b.sent();\n            e_1 = {\n              error: e_1_1\n            };\n            return [3, 12];\n\n          case 11:\n            try {\n              if (importMatches_1_1 && !importMatches_1_1.done && (_a = importMatches_1.return)) _a.call(importMatches_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n\n            return [7];\n\n          case 12:\n            cssText = cssText.trim();\n            return [2, cssText];\n        }\n      });\n    });\n  }\n\n  function createCORSCopy(srcElement, cssText) {\n    if (!cssText) {\n      return null;\n    }\n\n    var cors = document.createElement('style');\n    cors.classList.add('darkreader');\n    cors.classList.add('darkreader--cors');\n    cors.media = 'screen';\n    cors.textContent = cssText;\n    srcElement.parentNode.insertBefore(cors, srcElement.nextSibling);\n    cors.sheet.disabled = true;\n    corsStyleSet.add(cors);\n    return cors;\n  }\n\n  var observers = [];\n  var observedRoots;\n  var undefinedGroups = new Map();\n  var elementsDefinitionCallback;\n\n  function collectUndefinedElements(root) {\n    if (!isDefinedSelectorSupported) {\n      return;\n    }\n\n    forEach(root.querySelectorAll(':not(:defined)'), function (el) {\n      var tag = el.tagName.toLowerCase();\n\n      if (!undefinedGroups.has(tag)) {\n        undefinedGroups.set(tag, new Set());\n        customElementsWhenDefined(tag).then(function () {\n          if (elementsDefinitionCallback) {\n            var elements = undefinedGroups.get(tag);\n            undefinedGroups.delete(tag);\n            elementsDefinitionCallback(Array.from(elements));\n          }\n        });\n      }\n\n      undefinedGroups.get(tag).add(el);\n    });\n  }\n\n  var canOptimizeUsingProxy = false;\n  document.addEventListener('__darkreader__inlineScriptsAllowed', function () {\n    canOptimizeUsingProxy = true;\n  });\n  var resolvers = new Map();\n\n  function handleIsDefined(e) {\n    canOptimizeUsingProxy = true;\n\n    if (resolvers.has(e.detail.tag)) {\n      var resolve = resolvers.get(e.detail.tag);\n      resolve();\n    }\n  }\n\n  function customElementsWhenDefined(tag) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve) {\n          if (window.customElements && typeof customElements.whenDefined === 'function') {\n            customElements.whenDefined(tag).then(resolve);\n          } else if (canOptimizeUsingProxy) {\n            resolvers.set(tag, resolve);\n            document.dispatchEvent(new CustomEvent('__darkreader__addUndefinedResolver', {\n              detail: {\n                tag: tag\n              }\n            }));\n          } else {\n            var checkIfDefined_1 = function checkIfDefined_1() {\n              var elements = undefinedGroups.get(tag);\n\n              if (elements && elements.size > 0) {\n                if (elements.values().next().value.matches(':defined')) {\n                  resolve();\n                } else {\n                  requestAnimationFrame(checkIfDefined_1);\n                }\n              }\n            };\n\n            requestAnimationFrame(checkIfDefined_1);\n          }\n        })];\n      });\n    });\n  }\n\n  function watchWhenCustomElementsDefined(callback) {\n    elementsDefinitionCallback = callback;\n  }\n\n  function unsubscribeFromDefineCustomElements() {\n    elementsDefinitionCallback = null;\n    undefinedGroups.clear();\n    document.removeEventListener('__darkreader__isDefined', handleIsDefined);\n  }\n\n  function watchForStyleChanges(currentStyles, update, shadowRootDiscovered) {\n    stopWatchingForStyleChanges();\n    var prevStyles = new Set(currentStyles);\n    var prevStyleSiblings = new WeakMap();\n    var nextStyleSiblings = new WeakMap();\n\n    function saveStylePosition(style) {\n      prevStyleSiblings.set(style, style.previousElementSibling);\n      nextStyleSiblings.set(style, style.nextElementSibling);\n    }\n\n    function forgetStylePosition(style) {\n      prevStyleSiblings.delete(style);\n      nextStyleSiblings.delete(style);\n    }\n\n    function didStylePositionChange(style) {\n      return style.previousElementSibling !== prevStyleSiblings.get(style) || style.nextElementSibling !== nextStyleSiblings.get(style);\n    }\n\n    currentStyles.forEach(saveStylePosition);\n\n    function handleStyleOperations(operations) {\n      var createdStyles = operations.createdStyles,\n          removedStyles = operations.removedStyles,\n          movedStyles = operations.movedStyles;\n      createdStyles.forEach(function (s) {\n        return saveStylePosition(s);\n      });\n      movedStyles.forEach(function (s) {\n        return saveStylePosition(s);\n      });\n      removedStyles.forEach(function (s) {\n        return forgetStylePosition(s);\n      });\n      createdStyles.forEach(function (s) {\n        return prevStyles.add(s);\n      });\n      removedStyles.forEach(function (s) {\n        return prevStyles.delete(s);\n      });\n\n      if (createdStyles.size + removedStyles.size + movedStyles.size > 0) {\n        update({\n          created: Array.from(createdStyles),\n          removed: Array.from(removedStyles),\n          moved: Array.from(movedStyles),\n          updated: []\n        });\n      }\n    }\n\n    function handleMinorTreeMutations(_a) {\n      var additions = _a.additions,\n          moves = _a.moves,\n          deletions = _a.deletions;\n      var createdStyles = new Set();\n      var removedStyles = new Set();\n      var movedStyles = new Set();\n      additions.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return createdStyles.add(style);\n        });\n      });\n      deletions.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return removedStyles.add(style);\n        });\n      });\n      moves.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return movedStyles.add(style);\n        });\n      });\n      handleStyleOperations({\n        createdStyles: createdStyles,\n        removedStyles: removedStyles,\n        movedStyles: movedStyles\n      });\n      additions.forEach(function (n) {\n        iterateShadowHosts(n, subscribeForShadowRootChanges);\n        collectUndefinedElements(n);\n      });\n    }\n\n    function handleHugeTreeMutations(root) {\n      var styles = new Set(getManageableStyles(root));\n      var createdStyles = new Set();\n      var removedStyles = new Set();\n      var movedStyles = new Set();\n      styles.forEach(function (s) {\n        if (!prevStyles.has(s)) {\n          createdStyles.add(s);\n        }\n      });\n      prevStyles.forEach(function (s) {\n        if (!styles.has(s)) {\n          removedStyles.add(s);\n        }\n      });\n      styles.forEach(function (s) {\n        if (!createdStyles.has(s) && !removedStyles.has(s) && didStylePositionChange(s)) {\n          movedStyles.add(s);\n        }\n      });\n      handleStyleOperations({\n        createdStyles: createdStyles,\n        removedStyles: removedStyles,\n        movedStyles: movedStyles\n      });\n      iterateShadowHosts(root, subscribeForShadowRootChanges);\n      collectUndefinedElements(root);\n    }\n\n    function handleAttributeMutations(mutations) {\n      var updatedStyles = new Set();\n      var removedStyles = new Set();\n      mutations.forEach(function (m) {\n        var target = m.target;\n\n        if (target.isConnected) {\n          if (shouldManageStyle(target)) {\n            updatedStyles.add(target);\n          } else if (target instanceof HTMLLinkElement && target.disabled) {\n            removedStyles.add(target);\n          }\n        }\n      });\n\n      if (updatedStyles.size + removedStyles.size > 0) {\n        update({\n          updated: Array.from(updatedStyles),\n          created: [],\n          removed: Array.from(removedStyles),\n          moved: []\n        });\n      }\n    }\n\n    function observe(root) {\n      var treeObserver = createOptimizedTreeObserver(root, {\n        onMinorMutations: handleMinorTreeMutations,\n        onHugeMutations: handleHugeTreeMutations\n      });\n      var attrObserver = new MutationObserver(handleAttributeMutations);\n      attrObserver.observe(root, {\n        attributes: true,\n        attributeFilter: ['rel', 'disabled', 'media'],\n        subtree: true\n      });\n      observers.push(treeObserver, attrObserver);\n      observedRoots.add(root);\n    }\n\n    function subscribeForShadowRootChanges(node) {\n      var shadowRoot = node.shadowRoot;\n\n      if (shadowRoot == null || observedRoots.has(shadowRoot)) {\n        return;\n      }\n\n      observe(shadowRoot);\n      shadowRootDiscovered(shadowRoot);\n    }\n\n    observe(document);\n    iterateShadowHosts(document.documentElement, subscribeForShadowRootChanges);\n    watchWhenCustomElementsDefined(function (hosts) {\n      var newStyles = [];\n      hosts.forEach(function (host) {\n        return push(newStyles, getManageableStyles(host.shadowRoot));\n      });\n      update({\n        created: newStyles,\n        updated: [],\n        removed: [],\n        moved: []\n      });\n      hosts.forEach(function (host) {\n        var shadowRoot = host.shadowRoot;\n\n        if (shadowRoot == null) {\n          return;\n        }\n\n        subscribeForShadowRootChanges(host);\n        iterateShadowHosts(shadowRoot, subscribeForShadowRootChanges);\n        collectUndefinedElements(shadowRoot);\n      });\n    });\n    document.addEventListener('__darkreader__isDefined', handleIsDefined);\n    collectUndefinedElements(document);\n  }\n\n  function resetObservers() {\n    observers.forEach(function (o) {\n      return o.disconnect();\n    });\n    observers.splice(0, observers.length);\n    observedRoots = new WeakSet();\n  }\n\n  function stopWatchingForStyleChanges() {\n    resetObservers();\n    unsubscribeFromDefineCustomElements();\n  }\n\n  function hexify(number) {\n    return (number < 16 ? '0' : '') + number.toString(16);\n  }\n\n  function generateUID() {\n    return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function (x) {\n      return hexify(x);\n    }).join('');\n  }\n\n  var adoptedStyleOverrides = new WeakMap();\n  var overrideList = new WeakSet();\n\n  function createAdoptedStyleSheetOverride(node) {\n    var cancelAsyncOperations = false;\n\n    function injectSheet(sheet, override) {\n      var newSheets = __spreadArray([], __read(node.adoptedStyleSheets));\n\n      var sheetIndex = newSheets.indexOf(sheet);\n      var existingIndex = newSheets.indexOf(override);\n\n      if (sheetIndex === existingIndex - 1) {\n        return;\n      }\n\n      if (existingIndex >= 0) {\n        newSheets.splice(existingIndex, 1);\n      }\n\n      newSheets.splice(sheetIndex + 1, 0, override);\n      node.adoptedStyleSheets = newSheets;\n    }\n\n    function destroy() {\n      cancelAsyncOperations = true;\n\n      var newSheets = __spreadArray([], __read(node.adoptedStyleSheets));\n\n      node.adoptedStyleSheets.forEach(function (adoptedStyleSheet) {\n        if (overrideList.has(adoptedStyleSheet)) {\n          var existingIndex = newSheets.indexOf(adoptedStyleSheet);\n\n          if (existingIndex >= 0) {\n            newSheets.splice(existingIndex, 1);\n          }\n\n          adoptedStyleOverrides.delete(adoptedStyleSheet);\n          overrideList.delete(adoptedStyleSheet);\n        }\n      });\n      node.adoptedStyleSheets = newSheets;\n    }\n\n    function render(theme, ignoreImageAnalysis) {\n      node.adoptedStyleSheets.forEach(function (sheet) {\n        if (overrideList.has(sheet)) {\n          return;\n        }\n\n        var rules = sheet.rules;\n        var override = new CSSStyleSheet();\n\n        function prepareOverridesSheet() {\n          for (var i = override.cssRules.length - 1; i >= 0; i--) {\n            override.deleteRule(i);\n          }\n\n          injectSheet(sheet, override);\n          adoptedStyleOverrides.set(sheet, override);\n          overrideList.add(override);\n          return override;\n        }\n\n        var sheetModifier = createStyleSheetModifier();\n        sheetModifier.modifySheet({\n          prepareSheet: prepareOverridesSheet,\n          sourceCSSRules: rules,\n          theme: theme,\n          ignoreImageAnalysis: ignoreImageAnalysis,\n          force: false,\n          isAsyncCancelled: function isAsyncCancelled() {\n            return cancelAsyncOperations;\n          }\n        });\n      });\n    }\n\n    return {\n      render: render,\n      destroy: destroy\n    };\n  }\n\n  function injectProxy() {\n    document.dispatchEvent(new CustomEvent('__darkreader__inlineScriptsAllowed'));\n    var addRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'addRule');\n    var insertRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'insertRule');\n    var deleteRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'deleteRule');\n    var removeRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'removeRule');\n    var shouldWrapDocStyleSheets = location.hostname.endsWith('pushbullet.com') || location.hostname.endsWith('ilsole24ore.com') || location.hostname.endsWith('allegro.pl');\n    var documentStyleSheetsDescriptor = shouldWrapDocStyleSheets ? Object.getOwnPropertyDescriptor(Document.prototype, 'styleSheets') : null;\n\n    var cleanUp = function cleanUp() {\n      Object.defineProperty(CSSStyleSheet.prototype, 'addRule', addRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', insertRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', deleteRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', removeRuleDescriptor);\n      document.removeEventListener('__darkreader__cleanUp', cleanUp);\n      document.removeEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);\n\n      if (shouldWrapDocStyleSheets) {\n        Object.defineProperty(Document.prototype, 'styleSheets', documentStyleSheetsDescriptor);\n      }\n    };\n\n    var addUndefinedResolver = function addUndefinedResolver(e) {\n      customElements.whenDefined(e.detail.tag).then(function () {\n        document.dispatchEvent(new CustomEvent('__darkreader__isDefined', {\n          detail: {\n            tag: e.detail.tag\n          }\n        }));\n      });\n    };\n\n    document.addEventListener('__darkreader__cleanUp', cleanUp);\n    document.addEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);\n    var updateSheetEvent = new Event('__darkreader__updateSheet');\n\n    function proxyAddRule(selector, style, index) {\n      addRuleDescriptor.value.call(this, selector, style, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n\n      return -1;\n    }\n\n    function proxyInsertRule(rule, index) {\n      var returnValue = insertRuleDescriptor.value.call(this, rule, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n\n      return returnValue;\n    }\n\n    function proxyDeleteRule(index) {\n      deleteRuleDescriptor.value.call(this, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n    }\n\n    function proxyRemoveRule(index) {\n      removeRuleDescriptor.value.call(this, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n    }\n\n    function proxyDocumentStyleSheets() {\n      var docSheets = documentStyleSheetsDescriptor.get.call(this);\n\n      var filtered = __spreadArray([], __read(docSheets)).filter(function (styleSheet) {\n        return !styleSheet.ownerNode.classList.contains('darkreader');\n      });\n\n      return Object.setPrototypeOf(filtered, StyleSheetList.prototype);\n    }\n\n    Object.defineProperty(CSSStyleSheet.prototype, 'addRule', Object.assign({}, addRuleDescriptor, {\n      value: proxyAddRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', Object.assign({}, insertRuleDescriptor, {\n      value: proxyInsertRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', Object.assign({}, deleteRuleDescriptor, {\n      value: proxyDeleteRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', Object.assign({}, removeRuleDescriptor, {\n      value: proxyRemoveRule\n    }));\n\n    if (shouldWrapDocStyleSheets) {\n      Object.defineProperty(Document.prototype, 'styleSheets', Object.assign({}, documentStyleSheetsDescriptor, {\n        get: proxyDocumentStyleSheets\n      }));\n    }\n  }\n\n  var INSTANCE_ID = generateUID();\n  var styleManagers = new Map();\n  var adoptedStyleManagers = [];\n  var filter = null;\n  var fixes = null;\n  var isIFrame$1 = null;\n  var ignoredImageAnalysisSelectors = null;\n  var ignoredInlineSelectors = null;\n\n  function createOrUpdateStyle(className, root) {\n    if (root === void 0) {\n      root = document.head || document;\n    }\n\n    var element = root.querySelector(\".\" + className);\n\n    if (!element) {\n      element = document.createElement('style');\n      element.classList.add('darkreader');\n      element.classList.add(className);\n      element.media = 'screen';\n      element.textContent = '';\n    }\n\n    return element;\n  }\n\n  function createOrUpdateScript(className, root) {\n    if (root === void 0) {\n      root = document.head || document;\n    }\n\n    var element = root.querySelector(\".\" + className);\n\n    if (!element) {\n      element = document.createElement('script');\n      element.classList.add('darkreader');\n      element.classList.add(className);\n    }\n\n    return element;\n  }\n\n  var nodePositionWatchers = new Map();\n\n  function setupNodePositionWatcher(node, alias) {\n    nodePositionWatchers.has(alias) && nodePositionWatchers.get(alias).stop();\n    nodePositionWatchers.set(alias, watchForNodePosition(node, 'parent'));\n  }\n\n  function stopStylePositionWatchers() {\n    forEach(nodePositionWatchers.values(), function (watcher) {\n      return watcher.stop();\n    });\n    nodePositionWatchers.clear();\n  }\n\n  function createStaticStyleOverrides() {\n    var fallbackStyle = createOrUpdateStyle('darkreader--fallback', document);\n    fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n      strict: true\n    });\n    document.head.insertBefore(fallbackStyle, document.head.firstChild);\n    setupNodePositionWatcher(fallbackStyle, 'fallback');\n    var userAgentStyle = createOrUpdateStyle('darkreader--user-agent');\n    userAgentStyle.textContent = getModifiedUserAgentStyle(filter, isIFrame$1, filter.styleSystemControls);\n    document.head.insertBefore(userAgentStyle, fallbackStyle.nextSibling);\n    setupNodePositionWatcher(userAgentStyle, 'user-agent');\n    var textStyle = createOrUpdateStyle('darkreader--text');\n\n    if (filter.useFont || filter.textStroke > 0) {\n      textStyle.textContent = createTextStyle(filter);\n    } else {\n      textStyle.textContent = '';\n    }\n\n    document.head.insertBefore(textStyle, fallbackStyle.nextSibling);\n    setupNodePositionWatcher(textStyle, 'text');\n    var invertStyle = createOrUpdateStyle('darkreader--invert');\n\n    if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {\n      invertStyle.textContent = [fixes.invert.join(', ') + \" {\", \"    filter: \" + getCSSFilterValue(_assign(_assign({}, filter), {\n        contrast: filter.mode === 0 ? filter.contrast : clamp(filter.contrast - 10, 0, 100)\n      })) + \" !important;\", '}'].join('\\n');\n    } else {\n      invertStyle.textContent = '';\n    }\n\n    document.head.insertBefore(invertStyle, textStyle.nextSibling);\n    setupNodePositionWatcher(invertStyle, 'invert');\n    var inlineStyle = createOrUpdateStyle('darkreader--inline');\n    inlineStyle.textContent = getInlineOverrideStyle();\n    document.head.insertBefore(inlineStyle, invertStyle.nextSibling);\n    setupNodePositionWatcher(inlineStyle, 'inline');\n    var overrideStyle = createOrUpdateStyle('darkreader--override');\n    overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : '';\n    document.head.appendChild(overrideStyle);\n    setupNodePositionWatcher(overrideStyle, 'override');\n    var variableStyle = createOrUpdateStyle('darkreader--variables');\n    var selectionColors = getSelectionColor(filter);\n    var darkSchemeBackgroundColor = filter.darkSchemeBackgroundColor,\n        darkSchemeTextColor = filter.darkSchemeTextColor,\n        lightSchemeBackgroundColor = filter.lightSchemeBackgroundColor,\n        lightSchemeTextColor = filter.lightSchemeTextColor,\n        mode = filter.mode;\n    var schemeBackgroundColor = mode === 0 ? lightSchemeBackgroundColor : darkSchemeBackgroundColor;\n    var schemeTextColor = mode === 0 ? lightSchemeTextColor : darkSchemeTextColor;\n    schemeBackgroundColor = modifyBackgroundColor(parse(schemeBackgroundColor), filter);\n    schemeTextColor = modifyForegroundColor(parse(schemeTextColor), filter);\n    variableStyle.textContent = [\":root {\", \"   --darkreader-neutral-background: \" + schemeBackgroundColor + \";\", \"   --darkreader-neutral-text: \" + schemeTextColor + \";\", \"   --darkreader-selection-background: \" + selectionColors.backgroundColorSelection + \";\", \"   --darkreader-selection-text: \" + selectionColors.foregroundColorSelection + \";\", \"}\"].join('\\n');\n    document.head.insertBefore(variableStyle, inlineStyle.nextSibling);\n    setupNodePositionWatcher(variableStyle, 'variables');\n    var rootVarsStyle = createOrUpdateStyle('darkreader--root-vars');\n    document.head.insertBefore(rootVarsStyle, variableStyle.nextSibling);\n    var proxyScript = createOrUpdateScript('darkreader--proxy');\n    proxyScript.textContent = \"(\" + injectProxy + \")()\";\n    document.head.insertBefore(proxyScript, rootVarsStyle.nextSibling);\n  }\n\n  var shadowRootsWithOverrides = new Set();\n\n  function createShadowStaticStyleOverrides(root) {\n    var inlineStyle = createOrUpdateStyle('darkreader--inline', root);\n    inlineStyle.textContent = getInlineOverrideStyle();\n    root.insertBefore(inlineStyle, root.firstChild);\n    var overrideStyle = createOrUpdateStyle('darkreader--override', root);\n    overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : '';\n    root.insertBefore(overrideStyle, inlineStyle.nextSibling);\n    shadowRootsWithOverrides.add(root);\n  }\n\n  function replaceCSSTemplates($cssText) {\n    return $cssText.replace(/\\${(.+?)}/g, function (m0, $color) {\n      try {\n        var color = parseColorWithCache($color);\n        return modifyColor(color, filter);\n      } catch (err) {\n        logWarn(err);\n        return $color;\n      }\n    });\n  }\n\n  function cleanFallbackStyle() {\n    var fallback = document.querySelector('.darkreader--fallback');\n\n    if (fallback) {\n      fallback.textContent = '';\n    }\n  }\n\n  function createDynamicStyleOverrides() {\n    cancelRendering();\n    var allStyles = getManageableStyles(document);\n    var newManagers = allStyles.filter(function (style) {\n      return !styleManagers.has(style);\n    }).map(function (style) {\n      return createManager(style);\n    });\n    newManagers.map(function (manager) {\n      return manager.details();\n    }).filter(function (detail) {\n      return detail && detail.rules.length > 0;\n    }).forEach(function (detail) {\n      variablesStore.addRulesForMatching(detail.rules);\n    });\n    variablesStore.matchVariablesAndDependants();\n    variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n    styleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n\n    if (loadingStyles.size === 0) {\n      cleanFallbackStyle();\n    }\n\n    newManagers.forEach(function (manager) {\n      return manager.watch();\n    });\n    var inlineStyleElements = toArray(document.querySelectorAll(INLINE_STYLE_SELECTOR));\n    iterateShadowHosts(document.documentElement, function (host) {\n      createShadowStaticStyleOverrides(host.shadowRoot);\n      var elements = host.shadowRoot.querySelectorAll(INLINE_STYLE_SELECTOR);\n\n      if (elements.length > 0) {\n        push(inlineStyleElements, elements);\n      }\n    });\n    inlineStyleElements.forEach(function (el) {\n      return overrideInlineStyle(el, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n    });\n    handleAdoptedStyleSheets(document);\n  }\n\n  var loadingStylesCounter = 0;\n  var loadingStyles = new Set();\n\n  function createManager(element) {\n    var loadingStyleId = ++loadingStylesCounter;\n\n    function loadingStart() {\n      if (!isDOMReady() || !didDocumentShowUp) {\n        loadingStyles.add(loadingStyleId);\n        var fallbackStyle = document.querySelector('.darkreader--fallback');\n\n        if (!fallbackStyle.textContent) {\n          fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n            strict: false\n          });\n        }\n      }\n    }\n\n    function loadingEnd() {\n      loadingStyles.delete(loadingStyleId);\n\n      if (loadingStyles.size === 0 && isDOMReady()) {\n        cleanFallbackStyle();\n      }\n    }\n\n    function update() {\n      var details = manager.details();\n\n      if (!details) {\n        return;\n      }\n\n      variablesStore.addRulesForMatching(details.rules);\n      variablesStore.matchVariablesAndDependants();\n      manager.render(filter, ignoredImageAnalysisSelectors);\n    }\n\n    var manager = manageStyle(element, {\n      update: update,\n      loadingStart: loadingStart,\n      loadingEnd: loadingEnd\n    });\n    styleManagers.set(element, manager);\n    return manager;\n  }\n\n  function removeManager(element) {\n    var manager = styleManagers.get(element);\n\n    if (manager) {\n      manager.destroy();\n      styleManagers.delete(element);\n    }\n  }\n\n  var throttledRenderAllStyles = throttle(function (callback) {\n    styleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n    adoptedStyleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n    callback && callback();\n  });\n\n  var cancelRendering = function cancelRendering() {\n    throttledRenderAllStyles.cancel();\n  };\n\n  function onDOMReady() {\n    if (loadingStyles.size === 0) {\n      cleanFallbackStyle();\n    }\n  }\n\n  var documentVisibilityListener = null;\n  var didDocumentShowUp = !document.hidden;\n\n  function watchForDocumentVisibility(callback) {\n    var alreadyWatching = Boolean(documentVisibilityListener);\n\n    documentVisibilityListener = function documentVisibilityListener() {\n      if (!document.hidden) {\n        stopWatchingForDocumentVisibility();\n        callback();\n        didDocumentShowUp = true;\n      }\n    };\n\n    if (!alreadyWatching) {\n      document.addEventListener('visibilitychange', documentVisibilityListener);\n    }\n  }\n\n  function stopWatchingForDocumentVisibility() {\n    document.removeEventListener('visibilitychange', documentVisibilityListener);\n    documentVisibilityListener = null;\n  }\n\n  function createThemeAndWatchForUpdates() {\n    createStaticStyleOverrides();\n\n    function runDynamicStyle() {\n      createDynamicStyleOverrides();\n      watchForUpdates();\n    }\n\n    if (document.hidden) {\n      watchForDocumentVisibility(runDynamicStyle);\n    } else {\n      runDynamicStyle();\n    }\n\n    changeMetaThemeColorWhenAvailable(filter);\n  }\n\n  function handleAdoptedStyleSheets(node) {\n    if (Array.isArray(node.adoptedStyleSheets)) {\n      if (node.adoptedStyleSheets.length > 0) {\n        var newManger = createAdoptedStyleSheetOverride(node);\n        adoptedStyleManagers.push(newManger);\n        newManger.render(filter, ignoredImageAnalysisSelectors);\n      }\n    }\n  }\n\n  function watchForUpdates() {\n    var managedStyles = Array.from(styleManagers.keys());\n    watchForStyleChanges(managedStyles, function (_a) {\n      var created = _a.created,\n          updated = _a.updated,\n          removed = _a.removed,\n          moved = _a.moved;\n      var stylesToRemove = removed;\n      var stylesToManage = created.concat(updated).concat(moved).filter(function (style) {\n        return !styleManagers.has(style);\n      });\n      var stylesToRestore = moved.filter(function (style) {\n        return styleManagers.has(style);\n      });\n      stylesToRemove.forEach(function (style) {\n        return removeManager(style);\n      });\n      var newManagers = stylesToManage.map(function (style) {\n        return createManager(style);\n      });\n      newManagers.map(function (manager) {\n        return manager.details();\n      }).filter(function (detail) {\n        return detail && detail.rules.length > 0;\n      }).forEach(function (detail) {\n        variablesStore.addRulesForMatching(detail.rules);\n      });\n      variablesStore.matchVariablesAndDependants();\n      newManagers.forEach(function (manager) {\n        return manager.render(filter, ignoredImageAnalysisSelectors);\n      });\n      newManagers.forEach(function (manager) {\n        return manager.watch();\n      });\n      stylesToRestore.forEach(function (style) {\n        return styleManagers.get(style).restore();\n      });\n    }, function (shadowRoot) {\n      createShadowStaticStyleOverrides(shadowRoot);\n      handleAdoptedStyleSheets(shadowRoot);\n    });\n    watchForInlineStyles(function (element) {\n      overrideInlineStyle(element, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n\n      if (element === document.documentElement) {\n        var styleAttr = element.getAttribute('style');\n\n        if (styleAttr.includes('--')) {\n          variablesStore.matchVariablesAndDependants();\n          variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n        }\n      }\n    }, function (root) {\n      createShadowStaticStyleOverrides(root);\n      var inlineStyleElements = root.querySelectorAll(INLINE_STYLE_SELECTOR);\n\n      if (inlineStyleElements.length > 0) {\n        forEach(inlineStyleElements, function (el) {\n          return overrideInlineStyle(el, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n        });\n      }\n    });\n    addDOMReadyListener(onDOMReady);\n  }\n\n  function stopWatchingForUpdates() {\n    styleManagers.forEach(function (manager) {\n      return manager.pause();\n    });\n    stopStylePositionWatchers();\n    stopWatchingForStyleChanges();\n    stopWatchingForInlineStyles();\n    removeDOMReadyListener(onDOMReady);\n  }\n\n  function createDarkReaderInstanceMarker() {\n    var metaElement = document.createElement('meta');\n    metaElement.name = 'darkreader';\n    metaElement.content = INSTANCE_ID;\n    document.head.appendChild(metaElement);\n  }\n\n  function isAnotherDarkReaderInstanceActive() {\n    var meta = document.querySelector('meta[name=\"darkreader\"]');\n\n    if (meta) {\n      if (meta.content !== INSTANCE_ID) {\n        return true;\n      }\n\n      return false;\n    } else {\n      createDarkReaderInstanceMarker();\n      return false;\n    }\n  }\n\n  function createOrUpdateDynamicTheme(filterConfig, dynamicThemeFixes, iframe) {\n    filter = filterConfig;\n    fixes = dynamicThemeFixes;\n\n    if (fixes) {\n      ignoredImageAnalysisSelectors = Array.isArray(fixes.ignoreImageAnalysis) ? fixes.ignoreImageAnalysis : [];\n      ignoredInlineSelectors = Array.isArray(fixes.ignoreInlineStyle) ? fixes.ignoreInlineStyle : [];\n    } else {\n      ignoredImageAnalysisSelectors = [];\n      ignoredInlineSelectors = [];\n    }\n\n    isIFrame$1 = iframe;\n\n    if (document.head) {\n      if (isAnotherDarkReaderInstanceActive()) {\n        return;\n      }\n\n      document.documentElement.setAttribute('data-darkreader-mode', 'dynamic');\n      document.documentElement.setAttribute('data-darkreader-scheme', filter.mode ? 'dark' : 'dimmed');\n      createThemeAndWatchForUpdates();\n    } else {\n      if (!isFirefox) {\n        var fallbackStyle = createOrUpdateStyle('darkreader--fallback');\n        document.documentElement.appendChild(fallbackStyle);\n        fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n          strict: true\n        });\n      }\n\n      var headObserver_1 = new MutationObserver(function () {\n        if (document.head) {\n          headObserver_1.disconnect();\n\n          if (isAnotherDarkReaderInstanceActive()) {\n            removeDynamicTheme();\n            return;\n          }\n\n          createThemeAndWatchForUpdates();\n        }\n      });\n      headObserver_1.observe(document, {\n        childList: true,\n        subtree: true\n      });\n    }\n  }\n\n  function removeProxy() {\n    document.dispatchEvent(new CustomEvent('__darkreader__cleanUp'));\n    removeNode(document.head.querySelector('.darkreader--proxy'));\n  }\n\n  function removeDynamicTheme() {\n    document.documentElement.removeAttribute(\"data-darkreader-mode\");\n    document.documentElement.removeAttribute(\"data-darkreader-scheme\");\n    cleanDynamicThemeCache();\n    removeNode(document.querySelector('.darkreader--fallback'));\n\n    if (document.head) {\n      restoreMetaThemeColor();\n      removeNode(document.head.querySelector('.darkreader--user-agent'));\n      removeNode(document.head.querySelector('.darkreader--text'));\n      removeNode(document.head.querySelector('.darkreader--invert'));\n      removeNode(document.head.querySelector('.darkreader--inline'));\n      removeNode(document.head.querySelector('.darkreader--override'));\n      removeNode(document.head.querySelector('.darkreader--variables'));\n      removeNode(document.head.querySelector('.darkreader--root-vars'));\n      removeNode(document.head.querySelector('meta[name=\"darkreader\"]'));\n      removeProxy();\n    }\n\n    shadowRootsWithOverrides.forEach(function (root) {\n      removeNode(root.querySelector('.darkreader--inline'));\n      removeNode(root.querySelector('.darkreader--override'));\n    });\n    shadowRootsWithOverrides.clear();\n    forEach(styleManagers.keys(), function (el) {\n      return removeManager(el);\n    });\n    forEach(document.querySelectorAll('.darkreader'), removeNode);\n    adoptedStyleManagers.forEach(function (manager) {\n      manager.destroy();\n    });\n    adoptedStyleManagers.splice(0);\n  }\n\n  function cleanDynamicThemeCache() {\n    variablesStore.clear();\n    parsedURLCache.clear();\n    stopWatchingForDocumentVisibility();\n    cancelRendering();\n    stopWatchingForUpdates();\n    cleanModificationCache();\n  }\n\n  var blobRegex = /url\\(\\\"(blob\\:.*?)\\\"\\)/g;\n\n  function replaceBlobs(text) {\n    return __awaiter(this, void 0, void 0, function () {\n      var promises, data;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            promises = [];\n            getMatches(blobRegex, text, 1).forEach(function (url) {\n              var promise = loadAsDataURL(url);\n              promises.push(promise);\n            });\n            return [4, Promise.all(promises)];\n\n          case 1:\n            data = _a.sent();\n            return [2, text.replace(blobRegex, function () {\n              return \"url(\\\"\" + data.shift() + \"\\\")\";\n            })];\n        }\n      });\n    });\n  }\n\n  var banner = \"/*\\n                        _______\\n                       /       \\\\\\n                      .==.    .==.\\n                     ((  ))==((  ))\\n                    / \\\"==\\\"    \\\"==\\\"\\\\\\n                   /____|| || ||___\\\\\\n       ________     ____    ________  ___    ___\\n       |  ___  \\\\   /    \\\\   |  ___  \\\\ |  |  /  /\\n       |  |  \\\\  \\\\ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |_/  /\\n       |  |   )  /  /__\\\\  \\\\ |  |__/  /|  ___  \\\\\\n       |  |__/  /  ______  \\\\|  ____  \\\\|  |  \\\\  \\\\\\n_______|_______/__/ ____ \\\\__\\\\__|___\\\\__\\\\__|___\\\\__\\\\____\\n|  ___  \\\\ |  ____/ /    \\\\   |  ___  \\\\ |  ____|  ___  \\\\\\n|  |  \\\\  \\\\|  |___ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |___|  |  \\\\  \\\\\\n|  |__/  /|  ____/  /__\\\\  \\\\ |  |   )  |  ____|  |__/  /\\n|  ____  \\\\|  |__/  ______  \\\\|  |__/  /|  |___|  ____  \\\\\\n|__|   \\\\__\\\\____/__/      \\\\__\\\\_______/ |______|__|   \\\\__\\\\\\n                https://darkreader.org\\n*/\";\n\n  function collectCSS() {\n    return __awaiter(this, void 0, void 0, function () {\n      function addStaticCSS(selector, comment) {\n        var staticStyle = document.querySelector(selector);\n\n        if (staticStyle && staticStyle.textContent) {\n          css.push(\"/* \" + comment + \" */\");\n          css.push(staticStyle.textContent);\n          css.push('');\n        }\n      }\n\n      var css, modifiedCSS, formattedCSS, _a, _b;\n\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            css = [banner];\n            addStaticCSS('.darkreader--fallback', 'Fallback Style');\n            addStaticCSS('.darkreader--user-agent', 'User-Agent Style');\n            addStaticCSS('.darkreader--text', 'Text Style');\n            addStaticCSS('.darkreader--invert', 'Invert Style');\n            addStaticCSS('.darkreader--variables', 'Variables Style');\n            modifiedCSS = [];\n            document.querySelectorAll('.darkreader--sync').forEach(function (element) {\n              forEach(element.sheet.cssRules, function (rule) {\n                rule && rule.cssText && modifiedCSS.push(rule.cssText);\n              });\n            });\n            if (!(modifiedCSS.length != 0)) return [3, 2];\n            formattedCSS = formatCSS(modifiedCSS.join('\\n'));\n            css.push('/* Modified CSS */');\n            _b = (_a = css).push;\n            return [4, replaceBlobs(formattedCSS)];\n\n          case 1:\n            _b.apply(_a, [_c.sent()]);\n\n            css.push('');\n            _c.label = 2;\n\n          case 2:\n            addStaticCSS('.darkreader--override', 'Override Style');\n            return [2, css.join('\\n')];\n        }\n      });\n    });\n  }\n\n  var isDarkReaderEnabled = false;\n\n  var isIFrame = function () {\n    try {\n      return window.self !== window.top;\n    } catch (err) {\n      console.warn(err);\n      return true;\n    }\n  }();\n\n  function enable(themeOptions, fixes) {\n    if (themeOptions === void 0) {\n      themeOptions = {};\n    }\n\n    if (fixes === void 0) {\n      fixes = null;\n    }\n\n    var theme = _assign(_assign({}, DEFAULT_THEME), themeOptions);\n\n    if (theme.engine !== ThemeEngines.dynamicTheme) {\n      throw new Error('Theme engine is not supported.');\n    }\n\n    createOrUpdateDynamicTheme(theme, fixes, isIFrame);\n    isDarkReaderEnabled = true;\n  }\n\n  function isEnabled() {\n    return isDarkReaderEnabled;\n  }\n\n  function disable() {\n    removeDynamicTheme();\n    isDarkReaderEnabled = false;\n  }\n\n  var darkScheme = matchMedia('(prefers-color-scheme: dark)');\n  var store = {\n    themeOptions: null,\n    fixes: null\n  };\n\n  function handleColorScheme() {\n    if (darkScheme.matches) {\n      enable(store.themeOptions, store.fixes);\n    } else {\n      disable();\n    }\n  }\n\n  function auto(themeOptions, fixes) {\n    if (themeOptions === void 0) {\n      themeOptions = {};\n    }\n\n    if (fixes === void 0) {\n      fixes = null;\n    }\n\n    if (themeOptions) {\n      store = {\n        themeOptions: themeOptions,\n        fixes: fixes\n      };\n      handleColorScheme();\n\n      if (isMatchMediaChangeEventListenerSupported) {\n        darkScheme.addEventListener('change', handleColorScheme);\n      } else {\n        darkScheme.addListener(handleColorScheme);\n      }\n    } else {\n      if (isMatchMediaChangeEventListenerSupported) {\n        darkScheme.removeEventListener('change', handleColorScheme);\n      } else {\n        darkScheme.removeListener(handleColorScheme);\n      }\n\n      disable();\n    }\n  }\n\n  function exportGeneratedCSS() {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, collectCSS()];\n\n          case 1:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  var setFetchMethod = setFetchMethod$1;\n  exports.auto = auto;\n  exports.disable = disable;\n  exports.enable = enable;\n  exports.exportGeneratedCSS = exportGeneratedCSS;\n  exports.isEnabled = isEnabled;\n  exports.setFetchMethod = setFetchMethod;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});"],"sourceRoot":""}