{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./src/components/SEO.js","webpack:///./node_modules/react-apply-darkmode/interpolator.jsx","webpack:///./src/pages/index.js","webpack:///./node_modules/url-join/lib/url-join.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./src/components/PostListing.js","webpack:///./node_modules/darkreader/darkreader.js"],"names":["$export","$entries","S","entries","it","SEO","title","description","image","postURL","postNode","postPath","postSEO","postMeta","frontmatter","excerpt","urljoin","config","siteUrl","pathPrefix","siteTitle","siteDescription","siteLogo","blogURL","schemaOrgJSONLD","url","name","alternateName","siteTitleAlt","push","itemListElement","position","item","headline","content","type","JSON","stringify","property","siteFBAppID","userTwitter","defaultFilter","brightness","contrast","sepia","Interpolator","appearance","watchSystem","filter","children","window","enable","enableDarkMode","disable","disableDarkMode","mq","matchMedia","watchIsDark","setWatchIsDark","matches","updateWatch","update","addEventListener","removeEventListener","filterProps","propTypes","string","bool","shape","number","node","Index","view","data","appStore","color","PostListing","postEdges","allMarkdownRemark","edges","pageQuery","definition","normalize","strArray","resultArray","length","TypeError","match","first","shift","replace","i","component","str","join","parts","split","arguments","slice","call","module","exports","DESCRIPTORS","getKeys","toIObject","isEnum","f","isEntries","key","O","keys","result","$values","values","postList","forEach","postEdge","path","fields","slug","tags","categories","extract","thumbnail","cover","date","timeToRead","getPostList","className","styles","articleList","map","post","to","articleBox","right","src","meta","_assign","Object","assign","t","s","n","p","prototype","hasOwnProperty","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","pop","__values","o","m","__read","r","ar","error","__spreadArray","from","il","j","userAgent","navigator","toLowerCase","platform","isChromium","includes","isThunderbird","isFirefox","isSafari","isWindows","startsWith","isMacOS","isShadowDomSupported","ShadowRoot","isMatchMediaChangeEventListenerSupported","MediaQueryList","isDefinedSelectorSupported","document","querySelector","err","getOKResponse","mimeType","response","_a","fetch","cache","credentials","endsWith","headers","get","Error","ok","status","statusText","loadAsDataURL","readResponseAsDataURL","blob","reader","FileReader","onloadend","readAsDataURL","CSSStyleSheet","throwCORSError","fetcher","callFetchMethod","chrome","runtime","messageListeners","Set","sendMessage","args","_i","id_1","responseType","text_1","err_1","_b","id","text","cb","console","addMessageListener","callback","add","nativeSendMessage_1","onMessage","addListener","nativeAddListener_1","ThemeEngines","cssFilter","svgFilter","staticTheme","dynamicTheme","DEFAULT_COLORS","background","DEFAULT_THEME","mode","grayscale","useFont","fontFamily","textStroke","engine","stylesheet","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor","scrollbarColor","selectionColor","styleSystemControls","items","e_1","isArrayLike","len","items_1","items_1_1","e_1_1","return","array","addition","a","logInfo","logWarn","throttle","lastArgs","pending","frameId","requestAnimationFrame","cancel","cancelAnimationFrame","getDuration","time","duration","seconds","minutes","hours","days","removeNode","parentNode","removeChild","watchForNodePosition","onRestore","Function","RETRY_TIMEOUT","ATTEMPTS_INTERVAL","prevSibling","previousSibling","parent","attempts","start","timeoutId","restore","now","Date","setTimeout","stop","updateParent","insertBefore","nextSibling","firstChild","observer","takeRecords","MutationObserver","run","observe","childList","clearTimeout","disconnect","skip","iterateShadowHosts","root","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","shadowRoot","FILTER_SKIP","FILTER_ACCEPT","currentNode","nextNode","isDOMReady","readyState","readyStateListeners","addDOMReadyListener","listener","removeDOMReadyListener","delete","onReadyStateChange_1","clear","anchor","HUGE_MUTATIONS_COUNT","optimizedTreeObservers","Map","optimizedTreeCallbacks","WeakMap","createOptimizedTreeObserver","callbacks","observerCallbacks","domReadyListener","has","hadHugeMutationsBefore_1","subscribedForReadyState_1","mutations","addedNodesCount","addedNodes","isHugeMutation","onHugeMutations","elementsOperations_1","additions","deletions","moves","Element","isConnected","removedNodes","duplicateAdditions","duplicateDeletions","parentElement","getElementsTreeOperations","onMinorMutations","subtree","set","size","parsedURLCache","fixBaseURL","$url","createElement","href","parseURL","$base","parsedURL_1","URL","parsedURL","getAbsoluteURL","$relative","b","iterateCSSRules","rules","iterate","rule","CSSMediaRule","media","Array","isScreenOrAll","some","isPrintOrSpeech","cssRules","CSSStyleRule","CSSImportRule","styleSheet","CSSSupportsRule","CSS","supports","conditionText","shorthandVarDependantProperties","shorthandVarDepPropRegexps","prop","RegExp","iterateCSSDeclarations","style","getPropertyValue","trim","cssText","regexp","val","cssURLRegex","cssImportRegex","getCSSURLValue","cssURL","getCSSBaseBath","origin","pathname","cssCommentsRegex","fontFaceRegex","hslToRGB","h","l","_c","x","Math","round","r_1","b_1","c","abs","_d","rgbToHSL","r255","g255","b255","max","min","toFixed","digits","fixed","dot","indexOf","zerosMatch","index","substring","hslToString","hsl","rgbMatch","hslMatch","hexMatch","parse","$color","getNumbersFromString","rgbSplitter","rgbRange","rgbUnits","$hsl","hslSplitter","hslRange","hslUnits","parseHSL","$hex","parseInt","parseHex","knownColors","getColorByName","systemColors","getSystemColor","splitter","range","units","raw","unitsList","unit","find","u","parseFloat","PI","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","ActiveBorder","ActiveCaption","AppWorkspace","Background","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","CaptionText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","Window","WindowFrame","WindowText","scale","inLow","inHigh","outLow","outHigh","clamp","multiplyMatrices","m1","m2","len2","sum","k","len3","getMatches","regex","input","group","exec","createFilterMatrix","Matrix","identity","invertNHue","getBgPole","theme","getFgPole","colorModificationCache","colorParseCache$1","parseToHSLWithCache","rgbCacheKeys","themeCacheKeys$1","modifyColorWithCache","rgb","modifyHSL","poleColor","anotherPoleColor","fnCache","concat","getCacheId","matrix","applyColorMatrix","rf","gf","bf","toString","rgbToHexString","rgbToString","noopHSL","modifyLightSchemeColor","poleBg","modifyLightModeHSL","poleFg","isDark","hx","sx","MAX_BG_LIGHTNESS","modifyBgHSL","pole","isNeutral","lx_1","lx","modifyBackgroundColor","FilterMode","MIN_FG_LIGHTNESS","modifyBlueFgHue","hue","modifyFgHSL","isBlue","lx_2","hx_4","modifyForegroundColor","modifyBorderHSL","modifyBorderColor","modifyGradientColor","getCSSFilterValue","filters","dark","counter","resolvers$1","rejectors","bgFetch","request","getImageDetails","dataURL","info","getImageDataURL","urlToImage","maxWidth","maxHeight","canvas","MAX_ANALIZE_PIXELS_COUNT","width","height","context","getContext","imageSmoothingEnabled","naturalWidth","naturalHeight","currentSrc","naturalPixelsCount","sqrt","ceil","clearRect","drawImage","d","getImageData","transparentPixelsCount","darkPixelsCount","lightPixelsCount","totalPixelsCount","opaquePixelsCount","isLight","isTransparent","isLarge","analyzeImage","location","Image","onload","onerror","objectURLs","getFilteredImageDataURL","svg","bytes","Uint8Array","charCodeAt","Blob","objectURL","createObjectURL","cleanImageProcessingCache","revokeObjectURL","getModifiableCSSDeclaration","variablesStore","ignoreImageSelectors","isCancelled","important","Boolean","getPropertyPriority","sourceValue","modifier","ignoredImgSelectors","getModifierForVariable","varName","getVariableModifier","getModifierForVarDependant","getVariableDependantModifier","unparsableColors","rgb_1","parseColorWithCache","getColorModifier","getBgImageModifier","index_2","colorMatches_1","modifiers_2","prefixIndex","matchIndex","matchEnd","tryParseColor","modifyShadowColor","modify","getShadowModifier","getModifiedUserAgentStyle","isIFrame","lines","colorTrack","colorIcons","colorThumb","colorThumbHover","colorThumbActive","colorCorner","hsl_1","lighten","lighter","darken","darker","getModifiedScrollbarStyle","modifiedSelectionColor","getSelectionColor","backgroundColorSelection","foregroundColorSelection","selection","getModifiedSelectionStyle","getModifiedFallbackStyle","strict","colorParseCache","gradientRegex","imageDetailsCache","awaitingForImageLoading","_this","gradients","urls","getIndices","valueIndex","matches_1","sort","getBgImageValue_1","imageDetails","modifiers_1","index_1","matchStart","prefixStart","urlValue","selectorText","selectors","ruleSelectors","_loop_1","ignoredSelector","state_1","shouldIgnoreImage","parentStyleSheet","baseURL","ownerNode","baseURI","absoluteValue","awaiters_1","getURLModifier_1","gradient","colorStopRegex","part","space","lastIndexOf","colorStopMatch","getGradientModifier_1","results","all","asyncResults","cleanModificationCache","VariablesStore","varTypes","rulesQueue","definedVars","varRefs","unknownColorVars","unknownBgVars","undefinedVars","initialVarTypes","changedTypeVars","typeChangeSubscriptions","unstableVarValues","splice","isVarType","typeNum","addRulesForMatching","matchVariablesAndDependants","collectRootVariables","collectVariables","collectVarDependants","collectRootVarDependants","refs","resolveVariableType","VAR_TYPE_BGCOLOR","findVarRef","ref","VAR_TYPE_TEXTCOLOR","itarateVarRefs","options","getDeclarations","declarations","addModifiedValue","varNameWrapper","colorModifier","modifiedValue","isVarDependant","isConstructedColorVar","insertVarValues","replaceCSSVariablesNames","fallback","wrapBgColorVariableName","tryModifyBgColor","wrapTextColorVariableName","tryModifyTextColor","wrapBorderColorVariableName","tryModifyBorderColor","wrapBgImgVariableName","bgModifier","onTypeChange","decs","subscribeForVarTypeChange","removeListeners","unsubscribeFromVariableTypeChanges","isBg_1","isText_1","unknownVars","modified","firstUnknownVar","newValue","colorTypeMatch","iterateVariables","inspectVariable","documentElement","isVariable","initialType","newType","iterateVarDependants","inspectVerDependant","iterateVarDeps","isBgColor","varDeps","iterateVarDependencies","stack","refs_1","refs_1_1","found","putRootVars","styleElement","e_2","sheet","deleteRule","cssLines","declarations_1","declarations_1_1","e_2_1","insertRule","getVariableRange","searchStart","searchStartIndex","depth","firstOpenIndex","openIndex","closingIndex","end","getParenthesesRange","replaceVariablesMatches","replacer","ranges","getVariablesMatches","matchesCount","inputLength","replacements","getVariableNameAndFallback","commaIndex","nemeReplacer","fallbackReplacer","newName","source","varValues","containsUnresolvedVar","replaced","varValue","inserted","overrides","customProp","cssProp","dataAttr","overridesList","INLINE_STYLE_ATTRS","INLINE_STYLE_SELECTOR","attr","getInlineOverrideStyle","treeObservers","attrObservers","deepWatchForInlineStyles","elementStyleDidChange","shadowRootDiscovered","discoveredNodes","WeakSet","discoverNodes","Document","querySelectorAll","getInlineStyleElements","el","treeObserver","added","attemptCount","handleAttributeMutations","attributeName","target","attrObserver","attributeCache","attributes","attributeFilter","inlineStyleCache","getInlineStyleCacheKey","getAttribute","overrideInlineStyle","element","ignoreInlineSelectors","unsetProps","ingnoredSelector","shouldIgnoreInlineStyle","removeAttribute","hasAttribute","setCustomProp","SVGElement","isBg","SVGTextElement","getBoundingClientRect","SVGLineElement","fill","targetCSSProp","modifierCSSProp","cssVal","mod","setProperty","setAttribute","metaThemeColorName","metaThemeColorSelector","srcMetaThemeColor","changeMetaThemeColor","themeCacheKeys","asyncQueue","tasks","runTasks","task","createAsyncTasksQueue","createStyleSheetModifier","renderId","rulesTextCache","rulesModCache","varTypeChangeCleaners","prevFilterKey","modifySheet","sourceCSSRules","ignoreImageAnalysis","force","prepareSheet","isAsyncCancelled","rulesChanged","notFoundCacheKeys","themeKey","getThemeKey","themeChanged","modRules","textDiffersFromPrev","modDecs","modRule","parentRule","selector","asyncDeclarations","varDeclarations","asyncDeclarationCounter","varDeclarationCounter","rootReadyGroup","isGroup","groupRefs","getGroup","readyStyleRule","readyDeclarations","handleAsyncDeclaration","asyncKey","asyncDeclaration","currentRenderId","asyncValue","setRule","rebuildAsyncRule","handleVarDeclarations","varDecs","varKey","initialIndex","oldDecs","tempDec","readyDec","newDecs","readyVarDecs","rebuildVarRule","iterateReadyRules","styleIterator","mediaText","createTarget","ruleText","dec","STYLE_SELECTOR","shouldManageStyle","HTMLStyleElement","SVGStyleElement","HTMLLinkElement","rel","disabled","classList","contains","getManageableStyles","deep","host","syncStyleSet","corsStyleSet","canOptimizeUsingProxy$1","manageStyle","loadingStart","loadingEnd","prevStyles","nextElementSibling","corsCopy","syncStyle","corsCopyPositionWatcher","syncStylePositionWatcher","cancelAsyncOperations","isOverrideEmpty","sheetModifier","observerOptions","characterData","containsCSSImport","textContent","getRulesSync","safeGetSheetRules","insertStyle","isLoadingRules","wasLoadingError","getRulesAsync","cssBasePath","accessError","fullCSSText","getRulesOrError","message","linkLoading","loadText","replaceCSSImports","srcElement","cors","createCORSCopy","forceRenderStyle","watchForSheetChanges","onSheetChange","rulesChangeKey","getRulesChangeKey","stopWatchingForSheetChangesUsingRAF","checkForUpdate","rulesCheckFrameId","areSheetChangesPending","handleSheetChanges","queueMicrotask","stopWatchingForSheetChanges","pause","maxMoveCount","moveCount","details","catch","render","prepareOverridesSheet","createElementNS","buildOverrides","destroy","watch","link","cleanUp","onLoad","onError","basePath","importMatches","importMatches_1","importMatches_1_1","importURL","absoluteURL","importedCSS","$css","pathValue","replaceCSSRelativeURLsWithAbsolute","replaceCSSFontFace","observedRoots","elementsDefinitionCallback","observers","undefinedGroups","collectUndefinedElements","tag","tagName","customElements","whenDefined","canOptimizeUsingProxy","resolvers","dispatchEvent","CustomEvent","detail","checkIfDefined_1","elements","customElementsWhenDefined","handleIsDefined","watchForStyleChanges","currentStyles","stopWatchingForStyleChanges","prevStyleSiblings","nextStyleSiblings","saveStylePosition","previousElementSibling","handleStyleOperations","operations","createdStyles","removedStyles","movedStyles","created","removed","moved","updated","handleMinorTreeMutations","subscribeForShadowRootChanges","handleHugeTreeMutations","updatedStyles","hosts","newStyles","adoptedStyleOverrides","overrideList","createAdoptedStyleSheetOverride","adoptedStyleSheets","override","newSheets","sheetIndex","existingIndex","injectSheet","adoptedStyleSheet","injectProxy","addRuleDescriptor","getOwnPropertyDescriptor","insertRuleDescriptor","deleteRuleDescriptor","removeRuleDescriptor","shouldWrapDocStyleSheets","hostname","documentStyleSheetsDescriptor","addUndefinedResolver","defineProperty","updateSheetEvent","Event","returnValue","filtered","setPrototypeOf","StyleSheetList","INSTANCE_ID","crypto","getRandomValues","styleManagers","adoptedStyleManagers","fixes","isIFrame$1","ignoredImageAnalysisSelectors","ignoredInlineSelectors","createOrUpdateStyle","head","nodePositionWatchers","setupNodePositionWatcher","alias","createStaticStyleOverrides","fallbackStyle","userAgentStyle","textStyle","invertStyle","isArray","invert","inlineStyle","overrideStyle","css","replaceCSSTemplates","appendChild","variableStyle","selectionColors","schemeBackgroundColor","schemeTextColor","rootVarsStyle","proxyScript","createOrUpdateScript","shadowRootsWithOverrides","createShadowStaticStyleOverrides","$cssText","m0","cleanFallbackStyle","loadingStylesCounter","loadingStyles","createManager","loadingStyleId","manager","didDocumentShowUp","removeManager","throttledRenderAllStyles","cancelRendering","onDOMReady","documentVisibilityListener","hidden","stopWatchingForDocumentVisibility","createThemeAndWatchForUpdates","runDynamicStyle","newManagers","inlineStyleElements","toArray","handleAdoptedStyleSheets","createDynamicStyleOverrides","stylesToRemove","stylesToManage","stylesToRestore","alreadyWatching","loop","HTMLMetaElement","newManger","stopWatchingForUpdates","watcher","isAnotherDarkReaderInstanceActive","metaElement","createOrUpdateDynamicTheme","filterConfig","dynamicThemeFixes","iframe","ignoreInlineStyle","headObserver_1","removeDynamicTheme","restoreMetaThemeColor","blobRegex","replaceBlobs","promises","promise","banner","collectCSS","addStaticCSS","comment","staticStyle","modifiedCSS","formattedCSS","trimLeft","getIndent","repeat","emptyRuleRegexp","test","formatted","line","formatCSS","isDarkReaderEnabled","self","top","warn","themeOptions","darkScheme","store","handleColorScheme","setFetchMethod","auto","removeListener","exportGeneratedCSS","isEnabled","factory"],"mappings":"gFACA,IAAIA,EAAU,EAAQ,QAClBC,EAAW,EAAQ,OAAR,EAA8B,GAE7CD,EAAQA,EAAQE,EAAG,SAAU,CAC3BC,QAAS,SAAiBC,GACxB,OAAOH,EAASG,O,kCCNpB,wFAsGeC,IAjGH,SAAC,GAAqC,IAC5CC,EACAC,EACAC,EACAC,EAJSC,EAAkC,EAAlCA,SAAUC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QAKjC,GAAIA,EAAS,CACX,IAAMC,EAAWH,EAASI,YACvBR,EAAUO,EAAVP,MACHC,EAAcM,EAASN,YACnBM,EAASN,YACTG,EAASK,QAEbN,EAAUO,IAAQC,IAAOC,QAASD,IAAOE,WAAYR,QAErDL,EAAQW,IAAOG,UACfb,EAAcU,IAAOI,gBACrBb,EAAQS,IAAOK,SAIjB,IAAMC,EAAUP,IAAQC,IAAOC,QAASD,IAAOE,YACzCK,EAAkB,CACtB,CACE,WAAY,oBACZ,QAAS,UACTC,IAAKF,EACLG,KAAMpB,EACNqB,cAAeV,IAAOW,aAAeX,IAAOW,aAAe,KAmC/D,OAhCIhB,GACFY,EAAgBK,KACd,CACE,WAAY,oBACZ,QAAS,iBACTC,gBAAiB,CACf,CACE,QAAS,WACTC,SAAU,EACVC,KAAM,CACJ,MAAOvB,EACPiB,KAAMpB,EACNE,YAKR,CACE,WAAY,oBACZ,QAAS,cACTiB,IAAKF,EACLG,KAAMpB,EACNqB,cAAeV,IAAOW,aAAeX,IAAOW,aAAe,GAC3DK,SAAU3B,EACVE,MAAO,CACL,QAAS,cACTiB,IAAKjB,GAEPD,gBAKJ,kBAAC,IAAD,KAEE,0BAAMmB,KAAK,cAAcQ,QAAS3B,IAClC,0BAAMmB,KAAK,QAAQQ,QAAS1B,IAG5B,4BAAQ2B,KAAK,uBACVC,KAAKC,UAAUb,IAIlB,0BAAMc,SAAS,SAASJ,QAAStB,EAAUH,EAAUc,IACpDX,EAAU,0BAAM0B,SAAS,UAAUJ,QAAQ,YAAe,KAC3D,0BAAMI,SAAS,WAAWJ,QAAS5B,IACnC,0BAAMgC,SAAS,iBAAiBJ,QAAS3B,IACzC,0BAAM+B,SAAS,WAAWJ,QAAS1B,IACnC,0BACE8B,SAAS,YACTJ,QAASjB,IAAOsB,YAActB,IAAOsB,YAAc,KAIrD,0BAAMb,KAAK,eAAeQ,QAAQ,wBAClC,0BACER,KAAK,kBACLQ,QAASjB,IAAOuB,YAAcvB,IAAOuB,YAAc,KAErD,0BAAMd,KAAK,gBAAgBQ,QAAS5B,IACpC,0BAAMoB,KAAK,sBAAsBQ,QAAS3B,IAC1C,0BAAMmB,KAAK,gBAAgBQ,QAAS1B,O,6LC9F1C,MAAMiC,EAAgB,CACpBC,WAAY,IACZC,SAAU,GACVC,MAAO,IAGM,SAASC,GAAa,WACnCC,EAAU,YACVC,GAAc,EAAK,OACnBC,EAAM,SACNC,IAEA,GAAIC,OAAQ,CACV,MACEC,OAAQC,EACRC,QAASC,GACP,EAAQ,QACNC,EAAKL,OAAOM,WAAW,iCACtBC,EAAaC,GAAkB,mBAASH,EAAGI,SAElD,SAASC,EAAYC,GACnBH,EAAeG,EAAOF,SAGxB,oBAAU,KACRJ,EAAGO,iBAAiB,SAAUF,GACvB,IAAML,EAAGQ,oBAAoB,SAAUH,IAC7C,CAACL,IAEJ,MAAMS,EAAchB,GAAkBP,GAChC,WACJC,EAAaD,EAAcC,WAAU,SACrCC,EAAWF,EAAcE,SAAQ,MACjCC,EAAQH,EAAcG,OACpBoB,EAGDjB,GAAeU,IACdV,GAA8B,SAAfD,EAEjBM,EAAe,CAACV,aAAYC,WAAUC,WAErCG,IAAgBU,IACfV,GAA8B,SAAfD,IAEjBQ,IAIJ,OAAOL,EAGTJ,EAAaoB,UAAY,CACvBnB,WAAY,IAAUoB,OACtBnB,YAAa,IAAUoB,KACvBnB,OAAQ,IAAUoB,MAAM,CACtB1B,WAAY,IAAU2B,OACtB1B,SAAU,IAAU0B,OACpBzB,MAAO,IAAUyB,SAEnBpB,SAAU,IAAUqB,MC/DtB,0CAWA,IAAMC,EAAQC,aAAK,gBAAGC,EAAH,EAAGA,KAAH,OACjB,kBAAC,IAAD,KACE,8BACE,4BAAKrC,KAAKC,UAAUqC,IAASC,QAC7B,kBAAC9B,EAAD,CAAcC,WAAY4B,IAASC,MAAQ,OAAS,SAElD,kBAAC,IAAD,CAAQrE,MAAOW,IAAOG,YACtB,kBAACf,EAAA,EAAD,MACA,kBAACuE,EAAA,EAAD,CAAaC,UAAWJ,EAAKK,kBAAkBC,cAS1CC,GAHET,YAGO,e,uBC5BtB,QAM0BU,EAN1B,EAAQ,QAER,EAAQ,QAER,EAAQ,QAEkBA,EAEN,WAClB,SAASC,EAAUC,GACjB,IAAIC,EAAc,GAElB,GAAwB,IAApBD,EAASE,OACX,MAAO,GAGT,GAA2B,iBAAhBF,EAAS,GAClB,MAAM,IAAIG,UAAU,kCAAoCH,EAAS,IAInE,GAAIA,EAAS,GAAGI,MAAM,iBAAmBJ,EAASE,OAAS,EAAG,CAC5D,IAAIG,EAAQL,EAASM,QACrBN,EAAS,GAAKK,EAAQL,EAAS,GAI7BA,EAAS,GAAGI,MAAM,gBACpBJ,EAAS,GAAKA,EAAS,GAAGO,QAAQ,gBAAiB,UAEnDP,EAAS,GAAKA,EAAS,GAAGO,QAAQ,gBAAiB,SAGrD,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAASE,OAAQM,IAAK,CACxC,IAAIC,EAAYT,EAASQ,GAEzB,GAAyB,iBAAdC,EACT,MAAM,IAAIN,UAAU,kCAAoCM,GAGxC,KAAdA,IAIAD,EAAI,IAENC,EAAYA,EAAUF,QAAQ,SAAU,KAKxCE,EAFED,EAAIR,EAASE,OAAS,EAEZO,EAAUF,QAAQ,SAAU,IAG5BE,EAAUF,QAAQ,SAAU,KAG1CN,EAAYvD,KAAK+D,IAGnB,IAAIC,EAAMT,EAAYU,KAAK,KAKvBC,GAFJF,EAAMA,EAAIH,QAAQ,kBAAmB,OAErBM,MAAM,KAEtB,OADAH,EAAME,EAAMN,SAAWM,EAAMV,OAAS,EAAI,IAAM,IAAMU,EAAMD,KAAK,KAInE,OAAO,WASL,OAAOZ,EANqB,iBAAjBe,UAAU,GACXA,UAAU,GAEV,GAAGC,MAAMC,KAAKF,cArEWG,EAAOC,QAASD,EAAOC,QAAUpB,SAAmF,0BAAjB,KAAiB,mC,qBCP3J,IAAIqB,EAAc,EAAQ,QACtBC,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBC,EAAS,EAAQ,QAAiBC,EACtCN,EAAOC,QAAU,SAAUM,GACzB,OAAO,SAAUvG,GAOf,IANA,IAKIwG,EALAC,EAAIL,EAAUpG,GACd0G,EAAOP,EAAQM,GACfxB,EAASyB,EAAKzB,OACdM,EAAI,EACJoB,EAAS,GAEN1B,EAASM,GACdiB,EAAME,EAAKnB,KACNW,IAAeG,EAAON,KAAKU,EAAGD,IACjCG,EAAOlF,KAAK8E,EAAY,CAACC,EAAKC,EAAED,IAAQC,EAAED,IAG9C,OAAOG,K,qBCjBX,IAAI/G,EAAU,EAAQ,QAClBgH,EAAU,EAAQ,OAAR,EAA8B,GAE5ChH,EAAQA,EAAQE,EAAG,SAAU,CAC3B+G,OAAQ,SAAgB7G,GACtB,OAAO4G,EAAQ5G,O,kCCNnB,0DA6CewE,IAzCO,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAoBfqC,EAnBc,WACpB,IAAMA,EAAW,GAejB,OAdArC,EAAUsC,SAAQ,SAAAC,GAChBF,EAASrF,KAAK,CACZwF,KAAMD,EAAS9C,KAAKgD,OAAOC,KAC3BC,KAAMJ,EAAS9C,KAAKxD,YAAY0G,KAChCC,WAAYL,EAAS9C,KAAKxD,YAAY2G,WACtCC,QAASN,EAAS9C,KAAKxD,YAAY4G,QACnCC,UAAWP,EAAS9C,KAAKxD,YAAY6G,UACrCC,MAAOR,EAAS9C,KAAKxD,YAAY8G,MACjCtH,MAAO8G,EAAS9C,KAAKxD,YAAYR,MACjCuH,KAAMT,EAAS9C,KAAKgD,OAAOO,KAC3B9G,QAASqG,EAAS9C,KAAKvD,QACvB+G,WAAYV,EAAS9C,KAAKwD,gBAGvBZ,EAGUa,GACjB,OACE,yBAAKC,UAAWC,IAAOC,aAErBhB,EAASiB,KAAI,SAAAC,GAAI,OACf,kBAAC,OAAD,CAAMC,GAAID,EAAKf,KAAMT,IAAKwB,EAAK9H,OAC7B,6BAAS0H,UAAWC,IAAOK,YACzB,yBAAKN,UAAWC,IAAOM,OACrB,yBAAKC,IAAKJ,EAAKT,YACf,4BAAKS,EAAK9H,OACV,yBAAK0H,UAAWC,IAAOQ,MAAOL,EAAKP,KAAnC,OAAkD,8BAAOO,EAAKX,WAAW3B,KAAK,SAC9E,2BAAIsC,EAAKV,kB,qBCnCzB,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAQC,SAAUrB,GACjB,aAcA,IAAIqC,EAAU,WAaZ,OAZAA,EAAUC,OAAOC,QAAU,SAAkBC,GAC3C,IAAK,IAAIC,EAAGnD,EAAI,EAAGoD,EAAI9C,UAAUZ,OAAQM,EAAIoD,EAAGpD,IAG9C,IAAK,IAAIqD,KAFTF,EAAI7C,UAAUN,GAGRgD,OAAOM,UAAUC,eAAe/C,KAAK2C,EAAGE,KAAIH,EAAEG,GAAKF,EAAEE,IAI7D,OAAOH,IAGMM,MAAMC,KAAMnD,YAG7B,SAASoD,EAAUC,EAASC,EAAYC,EAAGC,GAOzC,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAUC,GACjB,IACEC,EAAKN,EAAUO,KAAKF,IACpB,MAAOG,GACPL,EAAOK,IAIX,SAASC,EAASJ,GAChB,IACEC,EAAKN,EAAiB,MAAEK,IACxB,MAAOG,GACPL,EAAOK,IAIX,SAASF,EAAKhD,GAvBhB,IAAe+C,EAwBX/C,EAAOoD,KAAOR,EAAQ5C,EAAO+C,QAxBlBA,EAwBiC/C,EAAO+C,MAvB9CA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAClDA,EAAQG,OAsBkDM,KAAKP,EAAWK,GAG5EH,GAAMN,EAAYA,EAAUN,MAAMG,EAASC,GAAc,KAAKS,WAIlE,SAASK,EAAYf,EAASgB,GAC5B,IASI5D,EACA6D,EACA1B,EACA2B,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAP9B,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEX+B,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTR,KAAMc,EAAK,GACX,MAASA,EAAK,GACd,OAAUA,EAAK,IACI,mBAAXC,SAA0BP,EAAEO,OAAOC,UAAY,WACvD,OAAO5B,OACLoB,EAEJ,SAASM,EAAK/B,GACZ,OAAO,SAAUkC,GACf,OAIJ,SAAcC,GACZ,GAAIxE,EAAG,MAAM,IAAIpB,UAAU,mCAE3B,KAAOmF,GACL,IACE,GAAI/D,EAAI,EAAG6D,IAAM1B,EAAY,EAARqC,EAAG,GAASX,EAAU,OAAIW,EAAG,GAAKX,EAAS,SAAO1B,EAAI0B,EAAU,SAAM1B,EAAE1C,KAAKoE,GAAI,GAAKA,EAAEP,SAAWnB,EAAIA,EAAE1C,KAAKoE,EAAGW,EAAG,KAAKf,KAAM,OAAOtB,EAG3J,OAFI0B,EAAI,EAAG1B,IAAGqC,EAAK,CAAS,EAARA,EAAG,GAAQrC,EAAEiB,QAEzBoB,EAAG,IACT,KAAK,EACL,KAAK,EACHrC,EAAIqC,EACJ,MAEF,KAAK,EAEH,OADAT,EAAEC,QACK,CACLZ,MAAOoB,EAAG,GACVf,MAAM,GAGV,KAAK,EACHM,EAAEC,QACFH,EAAIW,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKT,EAAEI,IAAIM,MAEXV,EAAEG,KAAKO,MAEP,SAEF,QACE,KAAkBtC,GAAZA,EAAI4B,EAAEG,MAAYvF,OAAS,GAAKwD,EAAEA,EAAExD,OAAS,MAAkB,IAAV6F,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFT,EAAI,EACJ,SAGF,GAAc,IAAVS,EAAG,MAAcrC,GAAKqC,EAAG,GAAKrC,EAAE,IAAMqC,EAAG,GAAKrC,EAAE,IAAK,CACvD4B,EAAEC,MAAQQ,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYT,EAAEC,MAAQ7B,EAAE,GAAI,CACjC4B,EAAEC,MAAQ7B,EAAE,GACZA,EAAIqC,EACJ,MAGF,GAAIrC,GAAK4B,EAAEC,MAAQ7B,EAAE,GAAI,CACvB4B,EAAEC,MAAQ7B,EAAE,GAEZ4B,EAAEI,IAAIhJ,KAAKqJ,GAEX,MAGErC,EAAE,IAAI4B,EAAEI,IAAIM,MAEhBV,EAAEG,KAAKO,MAEP,SAGJD,EAAKZ,EAAKnE,KAAKmD,EAASmB,GACxB,MAAOR,GACPiB,EAAK,CAAC,EAAGjB,GACTM,EAAI,EACJ,QACA7D,EAAImC,EAAI,EAIZ,GAAY,EAARqC,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACLpB,MAAOoB,EAAG,GAAKA,EAAG,QAAK,EACvBf,MAAM,GAlFCJ,CAAK,CAAChB,EAAGkC,MAuFtB,SAASG,EAASC,GAChB,IAAIvC,EAAsB,mBAAXiC,QAAyBA,OAAOC,SAC3CM,EAAIxC,GAAKuC,EAAEvC,GACXnD,EAAI,EACR,GAAI2F,EAAG,OAAOA,EAAEnF,KAAKkF,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhG,OAAqB,MAAO,CAC5C2E,KAAM,WAEJ,OADIqB,GAAK1F,GAAK0F,EAAEhG,SAAQgG,OAAI,GACrB,CACLvB,MAAOuB,GAAKA,EAAE1F,KACdwE,MAAOkB,KAIb,MAAM,IAAI/F,UAAUwD,EAAI,0BAA4B,mCAGtD,SAASyC,EAAOF,EAAGtC,GACjB,IAAIuC,EAAsB,mBAAXP,QAAyBM,EAAEN,OAAOC,UACjD,IAAKM,EAAG,OAAOD,EACf,IACIG,EAEAvB,EAHAtE,EAAI2F,EAAEnF,KAAKkF,GAEXI,EAAK,GAGT,IACE,WAAc,IAAN1C,GAAgBA,KAAM,MAAQyC,EAAI7F,EAAEqE,QAAQG,MAClDsB,EAAG5J,KAAK2J,EAAE1B,OAEZ,MAAO4B,GACPzB,EAAI,CACFyB,MAAOA,GAET,QACA,IACMF,IAAMA,EAAErB,OAASmB,EAAI3F,EAAU,SAAI2F,EAAEnF,KAAKR,GAC9C,QACA,GAAIsE,EAAG,MAAMA,EAAEyB,OAInB,OAAOD,EAGT,SAASE,EAActD,EAAIuD,GACzB,IAAK,IAAIjG,EAAI,EAAGkG,EAAKD,EAAKvG,OAAQyG,EAAIzD,EAAGhD,OAAQM,EAAIkG,EAAIlG,IAAKmG,IAC5DzD,EAAGyD,GAAKF,EAAKjG,GAGf,OAAO0C,EAGT,IAAI0D,EAAiC,oBAAdC,UAA4B,iBAAmBA,UAAUD,UAAUE,cACtFC,EAAgC,oBAAdF,UAA4B,gBAAkBA,UAAUE,SAASD,cACnFE,EAAaJ,EAAUK,SAAS,WAAaL,EAAUK,SAAS,YAChEC,EAAgBN,EAAUK,SAAS,eACnCE,EAAYP,EAAUK,SAAS,YAAcC,EACjDN,EAAUK,SAAS,WACnBL,EAAUK,SAAS,aACnBL,EAAUK,SAAS,QAAUL,EAAUK,SAAS,SAChDL,EAAUK,SAAS,OACnB,IAAIG,EAAWR,EAAUK,SAAS,YAAcD,EAC5CK,EAAYN,EAASO,WAAW,OAChCC,EAAUR,EAASO,WAAW,OAClCV,EAAUK,SAAS,UACnB,IAIMd,EAJFqB,EAA6C,mBAAfC,WAC9BC,EAAqE,mBAAnBC,gBAAsF,mBAA9CA,eAAe7D,UAAUnF,kBAGjHwH,EAAIS,EAAUxG,MAAM,2BAEf+F,EAAE,IACFA,EAAE,GAMb,IAAIyB,EAA6B,WAC/B,IAEE,OADAC,SAASC,cAAc,aAChB,EACP,MAAOC,GACP,OAAO,GALsB,GAkBjC,SAASC,EAAc1L,EAAK2L,GAC1B,OAAO/D,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAIiE,EACJ,OAAOhD,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EACH,MAAO,CAAC,EAAG6C,MAAM9L,EAAK,CACpB+L,MAAO,cACPC,YAAa,UAGjB,KAAK,EAGH,GAFAJ,EAAWC,EAAG3C,OAEV2B,GAA0B,aAAbc,GAA2B3L,EAAIgL,WAAW,qBAAuBhL,EAAIiM,SAAS,QAC7F,MAAO,CAAC,EAAGL,GAGb,GAAID,IAAaC,EAASM,QAAQC,IAAI,gBAAgBnB,WAAWW,GAC/D,MAAM,IAAIS,MAAM,mCAAqCpM,GAGvD,IAAK4L,EAASS,GACZ,MAAM,IAAID,MAAM,kBAAoBpM,EAAM,IAAM4L,EAASU,OAAS,IAAMV,EAASW,YAGnF,MAAO,CAAC,EAAGX,UAMrB,SAASY,EAAcxM,EAAK2L,GAC1B,OAAO/D,EAAUD,UAAM,OAAQ,GAAQ,WAErC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EACH,MAAO,CAAC,EAAGyC,EAAc1L,EAAK2L,IAEhC,KAAK,EAEH,MAAO,CAAC,EAAGc,EADAZ,EAAG3C,SAGhB,KAAK,EACH,MAAO,CAAC,EAAG2C,EAAG3C,eAMxB,SAASuD,EAAsBb,GAC7B,OAAOhE,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAI+E,EACJ,OAAO9D,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EACH,MAAO,CAAC,EAAG2C,EAASc,QAEtB,KAAK,EAEH,OADAA,EAAOb,EAAG3C,OACH,CAAC,EAAG,IAAIjB,SAAQ,SAAUC,GAC/B,IAAIyE,EAAS,IAAIC,WAEjBD,EAAOE,UAAY,WACjB,OAAO3E,EAAQyE,EAAOrH,SAGxBqH,EAAOG,cAAcJ,OAGzB,KAAK,EAEH,MAAO,CAAC,EADEb,EAAG3C,gBAjFvB,WACE,IACE,IAAI6D,cAEJ,MAAOtB,GACP,OAAO,GALX,GAwFA,IAAIuB,EAAiB,SAAwBhN,GAC3C,OAAO4H,OAAU,OAAQ,OAAQ,GAAQ,WACvC,OAAOgB,EAAYjB,MAAM,SAAUkE,GACjC,MAAO,CAAC,EAAG5D,QAAQE,OAAO,IAAIiE,MAAM,CAAC,6DAA8DpM,EAAK,8CAA+C,mEAAoE,yDAA0D,uCAAuCqE,KAAK,eAKnU4I,EAAUD,EAUd,SAASE,EAAgBlN,GACvB,OAAO4H,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EACH,MAAO,CAAC,EAAGgE,EAAQjN,IAErB,KAAK,EACH,MAAO,CAAC,EAAG6L,EAAG3C,eAMnBzH,OAAO0L,SACV1L,OAAO0L,OAAS,IAGbA,OAAOC,UACVD,OAAOC,QAAU,IAGnB,IAAIC,EAAmB,IAAIC,IAE3B,SAASC,IAGP,IAFA,IAAIC,EAAO,GAEFC,EAAK,EAAGA,EAAKjJ,UAAUZ,OAAQ6J,IACtCD,EAAKC,GAAMjJ,UAAUiJ,GAGvB,OAAO7F,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAI+F,EAAM7B,EAAI7L,EAAK2N,EAAc/B,EAAUgC,EAAQC,EAEnD,OAAOjF,EAAYjB,MAAM,SAAUmG,GACjC,OAAQA,EAAG7E,OACT,KAAK,EACH,IAAMuE,EAAK,IAAuB,UAAjBA,EAAK,GAAG9M,KAAmB,MAAO,CAAC,EAAG,GACvDgN,EAAOF,EAAK,GAAGO,GACfD,EAAG7E,MAAQ,EAEb,KAAK,EAIH,OAHA6E,EAAG3E,KAAK/I,KAAK,CAAC,EAAG,EAAE,CAAE,IAErByL,EAAK2B,EAAK,GAAGxK,KAAMhD,EAAM6L,EAAG7L,IAAK2N,EAAe9B,EAAG8B,aAC5C,CAAC,EAAGT,EAAgBlN,IAE7B,KAAK,EAEH,OADA4L,EAAWkC,EAAG5E,OACS,aAAjByE,EAAqC,CAAC,EAAG,GACxC,CAAC,EAAGlB,EAAsBb,IAEnC,KAAK,EAEH,OADAgC,EAASE,EAAG5E,OACL,CAAC,EAAG,GAEb,KAAK,EACH,MAAO,CAAC,EAAG0C,EAASoC,QAEtB,KAAK,EACHJ,EAASE,EAAG5E,OACZ4E,EAAG7E,MAAQ,EAEb,KAAK,EASH,OARAoE,EAAiB3H,SAAQ,SAAUuI,GACjC,OAAOA,EAAG,CACRvN,KAAM,iBACNsC,KAAM4K,EACN3D,MAAO,KACP8D,GAAIL,OAGD,CAAC,EAAG,GAEb,KAAK,EAWH,OAVAG,EAAQC,EAAG5E,OACXgF,QAAQjE,MAAM4D,GACdR,EAAiB3H,SAAQ,SAAUuI,GACjC,OAAOA,EAAG,CACRvN,KAAM,iBACNsC,KAAM,KACNyI,IAAKoC,EACLE,GAAIL,OAGD,CAAC,EAAG,GAEb,KAAK,EACH,MAAO,CAAC,UAMlB,SAASS,EAAmBC,GAC1Bf,EAAiBgB,IAAID,GAGvB,GAA0C,mBAA/BjB,OAAOC,QAAQG,YAA4B,CACpD,IAAIe,EAAsBnB,OAAOC,QAAQG,YAEzCJ,OAAOC,QAAQG,YAAc,WAG3B,IAFA,IAAIC,EAAO,GAEFC,EAAK,EAAGA,EAAKjJ,UAAUZ,OAAQ6J,IACtCD,EAAKC,GAAMjJ,UAAUiJ,GAGvBF,EAAY7F,WAAM,EAAQwC,EAAc,GAAIJ,EAAO0D,KACnDc,EAAoB5G,MAAMyF,OAAOC,QAASI,SAG5CL,OAAOC,QAAQG,YAAcA,EAO/B,GAJKJ,OAAOC,QAAQmB,YAClBpB,OAAOC,QAAQmB,UAAY,IAGuB,mBAAzCpB,OAAOC,QAAQmB,UAAUC,YAA4B,CAC9D,IAAIC,EAAsBtB,OAAOC,QAAQmB,UAAUC,YAEnDrB,OAAOC,QAAQmB,UAAUC,YAAc,WAGrC,IAFA,IAAIhB,EAAO,GAEFC,EAAK,EAAGA,EAAKjJ,UAAUZ,OAAQ6J,IACtCD,EAAKC,GAAMjJ,UAAUiJ,GAGvBU,EAAmBzG,WAAM,EAAQwC,EAAc,GAAIJ,EAAO0D,KAC1DiB,EAAoB/G,MAAMyF,OAAOC,QAAQmB,UAAWf,SAGtDL,OAAOC,QAAQmB,UAAUC,YAAcL,EAGzC,IAAIO,EAAe,CACjBC,UAAW,YACXC,UAAW,YACXC,YAAa,cACbC,aAAc,gBAEZC,EACU,CACVC,WAAY,UACZhB,KAAM,WAHNe,EAKW,CACXC,WAAY,UACZhB,KAAM,WAGNiB,EAAgB,CAClBC,KAAM,EACNjO,WAAY,IACZC,SAAU,IACViO,UAAW,EACXhO,MAAO,EACPiO,SAAS,EACTC,WAAYpE,EAAU,iBAAmBF,EAAY,WAAa,YAClEuE,WAAY,EACZC,OAAQb,EAAaI,aACrBU,WAAY,GACZC,0BAA2BV,EAA0BC,WACrDU,oBAAqBX,EAA0Bf,KAC/C2B,2BAA4BZ,EAA2BC,WACvDY,qBAAsBb,EAA2Bf,KACjD6B,eAAgB5E,EAAU,GAAK,OAC/B6E,eAAgB,OAChBC,qBAAqB,GAOvB,SAASrK,EAAQsK,EAAOzG,GACtB,IAAI0G,EAAKpE,EAET,GAPF,SAAqBmE,GACnB,OAAuB,MAAhBA,EAAMpM,OAMTsM,CAAYF,GACd,IAAK,IAAI9L,EAAI,EAAGiM,EAAMH,EAAMpM,OAAQM,EAAIiM,EAAKjM,IAC3CqF,EAASyG,EAAM9L,SAGjB,IACE,IAAK,IAAIkM,EAAUzG,EAASqG,GAAQK,EAAYD,EAAQ7H,QAAS8H,EAAU3H,KAAM2H,EAAYD,EAAQ7H,OAEnGgB,EADW8G,EAAUhI,OAGvB,MAAOiI,GACPL,EAAM,CACJhG,MAAOqG,GAET,QACA,IACMD,IAAcA,EAAU3H,OAASmD,EAAKuE,EAAQG,SAAS1E,EAAGnH,KAAK0L,GACnE,QACA,GAAIH,EAAK,MAAMA,EAAIhG,QAM3B,SAAS7J,EAAKoQ,EAAOC,GACnB/K,EAAQ+K,GAAU,SAAUC,GAC1B,OAAOF,EAAMpQ,KAAKsQ,MActB,SAASC,IAGP,IAFA,IAAInD,EAAO,GAEFC,EAAK,EAAGA,EAAKjJ,UAAUZ,OAAQ6J,IACtCD,EAAKC,GAAMjJ,UAAUiJ,GAIzB,SAASmD,IAGP,IAFA,IAAIpD,EAAO,GAEFC,EAAK,EAAGA,EAAKjJ,UAAUZ,OAAQ6J,IACtCD,EAAKC,GAAMjJ,UAAUiJ,GAIzB,SAASoD,EAASzC,GAChB,IAEI0C,EAFAC,GAAU,EACVC,EAAU,KAiCd,OAAO9J,OAAOC,QA9BE,WAGd,IAFA,IAAIqG,EAAO,GAEFC,EAAK,EAAGA,EAAKjJ,UAAUZ,OAAQ6J,IACtCD,EAAKC,GAAMjJ,UAAUiJ,GAGvBqD,EAAWtD,EAEPwD,EACFD,GAAU,GAEV3C,EAAS1G,WAAM,EAAQwC,EAAc,GAAIJ,EAAOgH,KAChDE,EAAUC,uBAAsB,WAC9BD,EAAU,KAEND,IACF3C,EAAS1G,WAAM,EAAQwC,EAAc,GAAIJ,EAAOgH,KAChDC,GAAU,SAYc,CAC9BG,OAPW,WACXC,qBAAqBH,GACrBD,GAAU,EACVC,EAAU,QA0Cd,SAASI,EAAYC,GACnB,IAAIC,EAAW,EAkBf,OAhBID,EAAKE,UACPD,GAA2B,IAAfD,EAAKE,SAGfF,EAAKG,UACPF,GAA2B,GAAfD,EAAKG,QAAe,KAG9BH,EAAKI,QACPH,GAAyB,GAAbD,EAAKI,MAAa,GAAK,KAGjCJ,EAAKK,OACPJ,GAAwB,GAAZD,EAAKK,KAAY,GAAK,GAAK,KAGlCJ,EAGT,SAASK,EAAW9O,GAClBA,GAAQA,EAAK+O,YAAc/O,EAAK+O,WAAWC,YAAYhP,GAGzD,SAASiP,EAAqBjP,EAAMqM,EAAM6C,QACtB,IAAdA,IACFA,EAAYC,SAASxK,WAGvB,IACIyK,EAAgBb,EAAY,CAC9BG,QAAS,IAEPW,EAAoBd,EAAY,CAClCG,QAAS,KAEPY,EAActP,EAAKuP,gBACnBC,EAASxP,EAAK+O,WAElB,IAAKS,EACH,MAAM,IAAIjG,MAAM,+DAGlB,GAAa,iBAAT8C,IAA4BiD,EAC9B,MAAM,IAAI/F,MAAM,mEAGlB,IAAIkG,EAAW,EACXC,EAAQ,KACRC,EAAY,KACZC,EAAU5B,GAAS,WACrB,IAAI2B,EAAJ,CAIAF,IACA,IAAII,EAAMC,KAAKD,MAEf,GAAa,MAATH,EACFA,EAAQG,OACH,GAAIJ,GA/BY,GA+BoB,CACzC,GAAII,EAAMH,EAAQL,EAQhB,OAPAtB,EAAQ,0CAA4CqB,EAAgB,KAAMpP,EAAMsP,QAChFK,EAAYI,YAAW,WACrBL,EAAQ,KACRD,EAAW,EACXE,EAAY,KACZC,MACCR,IAILM,EAAQG,EACRJ,EAAW,EAGb,GAAa,WAATpD,GACEiD,GAAeA,EAAYP,aAAeS,EAG5C,OAFAzB,EAAQ,0DAA2D/N,EAAMsP,EAAaE,QACtFQ,IAKJ,GAAa,iBAAT3D,EAAyB,CAC3B,GAA8B,MAA1BiD,EAAYP,WAGd,OAFAhB,EAAQ,uDAAwD/N,EAAMsP,EAAaE,QACnFQ,IAIEV,EAAYP,aAAeS,IAC7BzB,EAAQ,oCAAqC/N,EAAMsP,EAAaE,GAChES,EAAaX,EAAYP,aAI7BhB,EAAQ,0BAA2B/N,EAAMsP,EAAaE,GACtDA,EAAOU,aAAalQ,EAAMsP,EAAcA,EAAYa,YAAcX,EAAOY,YACzEC,EAASC,cACTpB,GAAaA,QAEXmB,EAAW,IAAIE,kBAAiB,YACrB,WAATlE,GAAqBrM,EAAK+O,aAAeS,GAAmB,iBAATnD,GAA2BrM,EAAKuP,kBAAoBD,IACzGM,OAIAY,EAAM,WACRH,EAASI,QAAQjB,EAAQ,CACvBkB,WAAW,KAIXV,EAAO,WACTW,aAAahB,GACbU,EAASO,aACThB,EAAQvB,UAON4B,EAAe,SAAsBlB,GACvCS,EAAST,EACTiB,IACAQ,KAIF,OADAA,IACO,CACLA,IAAKA,EACLR,KAAMA,EACNa,KAdS,WACTR,EAASC,gBAiBb,SAASQ,EAAmBC,EAAMrK,GAChC,GAAY,MAARqK,EAUJ,IANA,IAAIC,EAAStI,SAASuI,iBAAiBF,EAAMG,WAAWC,aAAc,CACpEC,WAAY,SAAoBpR,GAC9B,OAA0B,MAAnBA,EAAKqR,WAAqBH,WAAWI,YAAcJ,WAAWK,iBAIhEvR,EAAO+Q,EAAKM,WAAaL,EAAOQ,YAAcR,EAAOS,WAAoB,MAARzR,EAAcA,EAAOgR,EAAOS,WACpG/K,EAAS1G,GACT8Q,EAAmB9Q,EAAKqR,WAAY3K,GAIxC,SAASgL,IACP,MAA+B,aAAxBhJ,SAASiJ,YAAqD,gBAAxBjJ,SAASiJ,WAGxD,IAAIC,EAAsB,IAAInH,IAE9B,SAASoH,EAAoBC,GAC3BF,EAAoBpG,IAAIsG,GAG1B,SAASC,EAAuBD,GAC9BF,EAAoBI,OAAOF,GAGxBJ,KAWHhJ,SAASlJ,iBAAiB,oBAVC,SAASyS,IAC9BP,MACFhJ,SAASjJ,oBAAoB,mBAAoBwS,GACjDL,EAAoB/O,SAAQ,SAAUiP,GACpC,OAAOA,OAETF,EAAoBM,YAO1B,IA2IIC,EA3IAC,EAAuB,IAoEvBC,EAAyB,IAAIC,IAC7BC,EAAyB,IAAIC,QAEjC,SAASC,EAA4B1B,EAAM2B,GACzC,IAAIrC,EACAsC,EACAC,EAEJ,GAAIP,EAAuBQ,IAAI9B,GAC7BV,EAAWgC,EAAuB/I,IAAIyH,GACtC4B,EAAoBJ,EAAuBjJ,IAAI+G,OAC1C,CACL,IAAIyC,GAA2B,EAC3BC,GAA4B,GAChC1C,EAAW,IAAIE,kBAAiB,SAAUyC,GACxC,GAjFN,SAAwBA,GACtB,GAAIA,EAAUjS,OAASqR,EACrB,OAAO,EAKT,IAFA,IAAIa,EAAkB,EAEb5R,EAAI,EAAGA,EAAI2R,EAAUjS,OAAQM,IAGpC,IAFA4R,GAAmBD,EAAU3R,GAAG6R,WAAWnS,QAErBqR,EACpB,OAAO,EAIX,OAAO,EAkECe,CAAeH,IACZF,GAA4BpB,IAC/BiB,EAAkB9P,SAAQ,SAAUmG,GAElC,OAAOoK,EADepK,EAAGoK,iBACFrC,MAGpBgC,IAQHlB,EAPAe,EAAmB,WACjB,OAAOD,EAAkB9P,SAAQ,SAAUmG,GAEzC,OAAOoK,EADepK,EAAGoK,iBACFrC,QAK3BgC,GAA4B,GAIhCD,GAA2B,MACtB,CACL,IAAIO,EArFZ,SAAmCL,GACjC,IAAIM,EAAY,IAAI7I,IAChB8I,EAAY,IAAI9I,IAChB+I,EAAQ,IAAI/I,IAChBuI,EAAUnQ,SAAQ,SAAUmE,GAC1BnE,EAAQmE,EAAEkM,YAAY,SAAUzO,GAC1BA,aAAagP,SAAWhP,EAAEiP,aAC5BJ,EAAU9H,IAAI/G,MAGlB5B,EAAQmE,EAAE2M,cAAc,SAAUlP,GAC5BA,aAAagP,UACXhP,EAAEiP,YACJF,EAAMhI,IAAI/G,GAEV8O,EAAU/H,IAAI/G,UAKtB+O,EAAM3Q,SAAQ,SAAU4B,GACtB,OAAO6O,EAAUtB,OAAOvN,MAE1B,IAAImP,EAAqB,GACrBC,EAAqB,GAiBzB,OAhBAP,EAAUzQ,SAAQ,SAAU7C,GACtBsT,EAAUT,IAAI7S,EAAK8T,gBACrBF,EAAmBrW,KAAKyC,MAG5BuT,EAAU1Q,SAAQ,SAAU7C,GACtBuT,EAAUV,IAAI7S,EAAK8T,gBACrBD,EAAmBtW,KAAKyC,MAG5B4T,EAAmB/Q,SAAQ,SAAU7C,GACnC,OAAOsT,EAAUtB,OAAOhS,MAE1B6T,EAAmBhR,SAAQ,SAAU7C,GACnC,OAAOuT,EAAUvB,OAAOhS,MAEnB,CACLsT,UAAWA,EACXE,MAAOA,EACPD,UAAWA,GAyCoBQ,CAA0Bf,GACrDL,EAAkB9P,SAAQ,SAAUmG,GAElC,OAAOgL,EADgBhL,EAAGgL,kBACFX,WAIrB5C,QAAQM,EAAM,CACrBL,WAAW,EACXuD,SAAS,IAEX5B,EAAuB6B,IAAInD,EAAMV,GACjCsC,EAAoB,IAAIlI,IACxB8H,EAAuB2B,IAAI7D,EAAUsC,GAIvC,OADAA,EAAkBnH,IAAIkH,GACf,CACL9B,WAAY,WACV+B,EAAkBX,OAAOU,GAErBE,GACFb,EAAuBa,GAGM,IAA3BD,EAAkBwB,OACpB9D,EAASO,aACT2B,EAAuBP,OAAO3B,GAC9BgC,EAAuBL,OAAOjB,MAOtC,IAAIqD,EAAiB,IAAI9B,IAEzB,SAAS+B,EAAWC,GAMlB,OALKnC,IACHA,EAASzJ,SAAS6L,cAAc,MAGlCpC,EAAOqC,KAAOF,EACPnC,EAAOqC,KAGhB,SAASC,GAASH,EAAMI,QACR,IAAVA,IACFA,EAAQ,MAGV,IAAIpS,EAAWgS,GAAQI,EAAQ,IAAMA,EAAQ,IAE7C,GAAIN,EAAevB,IAAIvQ,GACrB,OAAO8R,EAAe9K,IAAIhH,GAG5B,GAAIoS,EAAO,CACT,IAAIC,EAAc,IAAIC,IAAIN,EAAMD,EAAWK,IAE3C,OADAN,EAAeF,IAAI5R,EAAKqS,GACjBA,EAGT,IAAIE,EAAY,IAAID,IAAIP,EAAWC,IAEnC,OADAF,EAAeF,IAAII,EAAMO,GAClBA,EAGT,SAASC,GAAeJ,EAAOK,GAC7B,GAAIA,EAAU9T,MAAM,cAClB,OAAO8T,EAGT,IAAIC,EAAIP,GAASC,GAEjB,OADQD,GAASM,EAAWC,EAAER,MACrBA,KAGX,SAASS,GAAgBC,EAAOC,GAC9BtS,EAAQqS,GAAO,SAAUE,GACvB,GAAIA,aAAgBC,aAAc,CAChC,IAAIC,EAAQC,MAAMjO,KAAK8N,EAAKE,OACxBE,EAAgBF,EAAMG,MAAK,SAAUzO,GACvC,OAAOA,EAAEmB,WAAW,WAAanB,EAAEmB,WAAW,UAE5CuN,EAAkBJ,EAAMG,MAAK,SAAUzO,GACzC,OAAOA,EAAEmB,WAAW,UAAYnB,EAAEmB,WAAW,cAG3CqN,GAAkBE,GACpBT,GAAgBG,EAAKO,SAAUR,QAE5B,GAAIC,aAAgBQ,aACzBT,EAAQC,QACH,GAAIA,aAAgBS,cACzB,IACEZ,GAAgBG,EAAKU,WAAWH,SAAUR,GAC1C,MAAOvM,GACPmF,EAAQnF,QAEDwM,aAAgBW,gBACrBC,IAAIC,SAASb,EAAKc,gBACpBjB,GAAgBG,EAAKO,SAAUR,GAGjCpH,EAAQ,6BAA8BqH,MAK5C,IAAIe,GAAkC,CAAC,aAAc,SAAU,eAAgB,gBAAiB,cAAe,eAAgB,aAAc,UAAW,iBACpJC,GAA6BnO,EAAWkO,GAAgCtS,KAAI,SAAUwS,GAExF,MAAO,CAACA,EADK,IAAIC,OAAOD,EAAO,uBAE5B,KAEL,SAASE,GAAuBC,EAAOrB,GACrCtS,EAAQ2T,GAAO,SAAUxY,GACvB,IAAIwH,EAAQgR,EAAMC,iBAAiBzY,GAAU0Y,OAExClR,GAIL2P,EAAQnX,EAAUwH,MAGhByC,GAAYuO,EAAMG,QAAQ7O,SAAS,QACrCsO,GAA2BvT,SAAQ,SAAUmG,GAC3C,IAAIiC,EAAKhE,EAAO+B,EAAI,GAChBqN,EAAOpL,EAAG,GACV2L,EAAS3L,EAAG,GAEZhK,EAAQuV,EAAMG,QAAQ1V,MAAM2V,GAEhC,GAAI3V,GAASA,EAAM,GAAI,CACrB,IAAI4V,EAAM5V,EAAM,GAAGyV,OACnBvB,EAAQkB,EAAMQ,OAIlBV,GAAgCtT,SAAQ,SAAUwT,GAChD,IAAIQ,EAAML,EAAMC,iBAAiBJ,GAE7BQ,GAAOA,EAAI/O,SAAS,SACtBqN,EAAQkB,EAAMQ,MAMtB,IAAIC,GAAc,sCACdC,GAAiB,sDAErB,SAASC,GAAeC,GACtB,OAAOA,EAAO7V,QAAQ,gBAAiB,MAAMA,QAAQ,WAAY,MAAMA,QAAQ,WAAY,MAG7F,SAAS8V,GAAe/Z,GACtB,IAAI8Z,EAASxC,GAAStX,GACtB,MAAO,GAAK8Z,EAAOE,OAASF,EAAOG,SAAShW,QAAQ,QAAS,IAAIA,QAAQ,iBAAkB,MAU7F,IAAIiW,GAAmB,oBAMnBC,GAAgB,wBAMpB,SAASC,GAASvO,GAChB,IAAIwO,EAAIxO,EAAGwO,EACPhT,EAAIwE,EAAGxE,EACPiT,EAAIzO,EAAGyO,EACPxM,EAAKjC,EAAG6E,EACRA,OAAW,IAAP5C,EAAgB,EAAIA,EAE5B,GAAU,IAANzG,EAAS,CACX,IAAIkT,EAAKzQ,EAAO,CAACwQ,EAAGA,EAAGA,GAAG5T,KAAI,SAAU8T,GACtC,OAAOC,KAAKC,MAAU,IAAJF,MAChB,GACAG,EAAMJ,EAAG,GACTK,EAAML,EAAG,GAGb,MAAO,CACLxQ,EAAG4Q,EACH5R,EAJQwR,EAAG,GAKX1C,EAAG+C,EACHlK,EAAGA,GAIP,IAAImK,GAAK,EAAIJ,KAAKK,IAAI,EAAIR,EAAI,IAAMjT,EAChCmT,EAAIK,GAAK,EAAIJ,KAAKK,IAAIT,EAAI,GAAK,EAAI,IACnCxQ,EAAIyQ,EAAIO,EAAI,EAEZE,EAAKjR,GAAQuQ,EAAI,GAAK,CAACQ,EAAGL,EAAG,GAAKH,EAAI,IAAM,CAACG,EAAGK,EAAG,GAAKR,EAAI,IAAM,CAAC,EAAGQ,EAAGL,GAAKH,EAAI,IAAM,CAAC,EAAGG,EAAGK,GAAKR,EAAI,IAAM,CAACG,EAAG,EAAGK,GAAK,CAACA,EAAG,EAAGL,IAAI9T,KAAI,SAAUY,GACrJ,OAAOmT,KAAKC,MAAgB,KAATpT,EAAIuC,OACrB,GAKJ,MAAO,CACLE,EALMgR,EAAG,GAMThS,EALMgS,EAAG,GAMTlD,EALMkD,EAAG,GAMTrK,EAAGA,GAIP,SAASsK,GAASnP,GAChB,IAAIoP,EAAOpP,EAAG9B,EACVmR,EAAOrP,EAAG9C,EACVoS,EAAOtP,EAAGgM,EACV/J,EAAKjC,EAAG6E,EACRA,OAAW,IAAP5C,EAAgB,EAAIA,EACxB/D,EAAIkR,EAAO,IACXlS,EAAImS,EAAO,IACXrD,EAAIsD,EAAO,IACXC,EAAMX,KAAKW,IAAIrR,EAAGhB,EAAG8O,GACrBwD,EAAMZ,KAAKY,IAAItR,EAAGhB,EAAG8O,GACrBgD,EAAIO,EAAMC,EACVf,GAAKc,EAAMC,GAAO,EAEtB,GAAU,IAANR,EACF,MAAO,CACLR,EAAG,EACHhT,EAAG,EACHiT,EAAGA,EACH5J,EAAGA,GAIP,IAAI2J,EAAoF,IAA/Ee,IAAQrR,GAAKhB,EAAI8O,GAAKgD,EAAI,EAAIO,IAAQrS,GAAK8O,EAAI9N,GAAK8Q,EAAI,GAAK9Q,EAAIhB,GAAK8R,EAAI,GAOnF,OALIR,EAAI,IACNA,GAAK,KAIA,CACLA,EAAGA,EACHhT,EAHMwT,GAAK,EAAIJ,KAAKK,IAAI,EAAIR,EAAI,IAIhCA,EAAGA,EACH5J,EAAGA,GAIP,SAAS4K,GAAQhU,EAAGiU,QACH,IAAXA,IACFA,EAAS,GAGX,IAAIC,EAAQlU,EAAEgU,QAAQC,GAEtB,GAAe,IAAXA,EACF,OAAOC,EAGT,IAAIC,EAAMD,EAAME,QAAQ,KAExB,GAAID,GAAO,EAAG,CACZ,IAAIE,EAAaH,EAAM1X,MAAM,OAE7B,GAAI6X,EACF,OAAIA,EAAWC,QAAUH,EAAM,EACtBD,EAAMK,UAAU,EAAGJ,GAGrBD,EAAMK,UAAU,EAAGF,EAAWC,OAIzC,OAAOJ,EA0BT,SAASM,GAAYC,GACnB,IAAI1B,EAAI0B,EAAI1B,EACRhT,EAAI0U,EAAI1U,EACRiT,EAAIyB,EAAIzB,EACR5J,EAAIqL,EAAIrL,EAEZ,OAAS,MAALA,GAAaA,EAAI,EACZ,QAAU4K,GAAQjB,GAAK,KAAOiB,GAAY,IAAJjU,GAAW,MAAQiU,GAAY,IAAJhB,GAAW,MAAQgB,GAAQ5K,EAAG,GAAK,IAGtG,OAAS4K,GAAQjB,GAAK,KAAOiB,GAAY,IAAJjU,GAAW,MAAQiU,GAAY,IAAJhB,GAAW,KAGpF,IAAI0B,GAAW,sBACXC,GAAW,sBACXC,GAAW,gBAEf,SAASC,GAAMC,GACb,IAwEIvQ,EACA9B,EACAhB,EACA8O,EACA/J,EA5EA+M,EAAIuB,EAAO7C,OAAO/O,cAEtB,GAAIqQ,EAAE/W,MAAMkY,IACV,OAqEEnQ,EAAK/B,EAAOuS,GArEExB,EAqEyByB,GAAaC,GAAUC,IAAW,GACzEzS,EAAI8B,EAAG,GACP9C,EAAI8C,EAAG,GACPgM,EAAIhM,EAAG,GACPiC,EAAKjC,EAAG,GAGL,CACL9B,EAAGA,EACHhB,EAAGA,EACH8O,EAAGA,EACHnH,OANa,IAAP5C,EAAgB,EAAIA,GAvE5B,GAAI+M,EAAE/W,MAAMmY,IACV,OAyFJ,SAAkBQ,GAChB,IAAI5Q,EAAK/B,EAAOuS,GAAqBI,EAAMC,GAAaC,GAAUC,IAAW,GACzEvC,EAAIxO,EAAG,GACPxE,EAAIwE,EAAG,GACPyO,EAAIzO,EAAG,GACPiC,EAAKjC,EAAG,GAGZ,OAAOuO,GAAS,CACdC,EAAGA,EACHhT,EAAGA,EACHiT,EAAGA,EACH5J,OANa,IAAP5C,EAAgB,EAAIA,IA/FnB+O,CAAShC,GAGlB,GAAIA,EAAE/W,MAAMoY,IACV,OAqGJ,SAAkBY,GAChB,IAAIzC,EAAIyC,EAAKjB,UAAU,GAEvB,OAAQxB,EAAEzW,QACR,KAAK,EACL,KAAK,EAED,IAAIiI,EAAK/B,EAAO,CAAC,EAAG,EAAG,GAAGpD,KAAI,SAAUxC,GACtC,OAAO6Y,SAAS,GAAK1C,EAAEnW,GAAKmW,EAAEnW,GAAI,OAChC,GACA6F,EAAI8B,EAAG,GACP9C,EAAI8C,EAAG,GACPgM,EAAIhM,EAAG,GAEP6E,EAAiB,IAAb2J,EAAEzW,OAAe,EAAImZ,SAAS,GAAK1C,EAAE,GAAKA,EAAE,GAAI,IAAM,IAC9D,MAAO,CACLtQ,EAAGA,EACHhB,EAAGA,EACH8O,EAAGA,EACHnH,EAAGA,GAIT,KAAK,EACL,KAAK,EAED,IAAI5C,EAAKhE,EAAO,CAAC,EAAG,EAAG,GAAGpD,KAAI,SAAUxC,GACtC,OAAO6Y,SAAS1C,EAAEwB,UAAU3X,EAAGA,EAAI,GAAI,OACrC,GAMJ,OALI6F,EAAI+D,EAAG,GACP/E,EAAI+E,EAAG,GACP+J,EAAI/J,EAAG,GAEP4C,EAAiB,IAAb2J,EAAEzW,OAAe,EAAImZ,SAAS1C,EAAEwB,UAAU,EAAG,GAAI,IAAM,IACxD,CACL9R,EAAGA,EACHhB,EAAGA,EACH8O,EAAGA,EACHnH,EAAGA,GAKX,MAAM,IAAItE,MAAM,mBAAqB0Q,GAhJ5BE,CAASnC,GAGlB,GAAIoC,GAAYvH,IAAImF,GAClB,OA+IJ,SAAwBuB,GACtB,IAAI9U,EAAI2V,GAAY9Q,IAAIiQ,GACxB,MAAO,CACLrS,EAAGzC,GAAK,GAAK,IACbyB,EAAGzB,GAAK,EAAI,IACZuQ,EAAGvQ,GAAK,EAAI,IACZoJ,EAAG,GArJIwM,CAAerC,GAGxB,GAAIsC,GAAazH,IAAImF,GACnB,OAqJJ,SAAwBuB,GACtB,IAAI9U,EAAI6V,GAAahR,IAAIiQ,GACzB,MAAO,CACLrS,EAAGzC,GAAK,GAAK,IACbyB,EAAGzB,GAAK,EAAI,IACZuQ,EAAGvQ,GAAK,EAAI,IACZoJ,EAAG,GA3JI0M,CAAevC,GAGxB,GAAe,gBAAXuB,EACF,MAAO,CACLrS,EAAG,EACHhB,EAAG,EACH8O,EAAG,EACHnH,EAAG,GAIP,MAAM,IAAItE,MAAM,mBAAqBgQ,GAGvC,SAASC,GAAqBjY,EAAKiZ,EAAUC,EAAOC,GAClD,IAAIC,EAAMpZ,EAAIG,MAAM8Y,GAAU9b,QAAO,SAAUiZ,GAC7C,OAAOA,KAELiD,EAAYvW,OAAOxI,QAAQ6e,GAwB/B,OAvBcC,EAAI9W,KAAI,SAAUqD,GAC9B,OAAOA,EAAEwP,UACR7S,KAAI,SAAUqD,EAAG7F,GAClB,IAAIoD,EACAoW,EAAOD,EAAUE,MAAK,SAAU9R,GAClC,IACI+R,EADK9T,EAAO+B,EAAI,GACT,GAEX,OAAO9B,EAAEkC,SAAS2R,MASpB,OALEtW,EADEoW,EACEG,WAAW9T,EAAE8R,UAAU,EAAG9R,EAAEnG,OAAS8Z,EAAK,GAAG9Z,SAAW8Z,EAAK,GAAKJ,EAAMpZ,GAExE2Z,WAAW9T,GAGbuT,EAAMpZ,GAAK,EACNuW,KAAKC,MAAMpT,GAGbA,KAKX,IAAIgV,GAAc,wBACdC,GAAW,CAAC,IAAK,IAAK,IAAK,GAC3BC,GAAW,CACb,IAAK,KAmBHE,GAAc,wBACdC,GAAW,CAAC,IAAK,EAAG,EAAG,GACvBC,GAAW,CACb,IAAK,IACL,IAAO,IACP,IAAO,EAAInC,KAAKqD,GAChB,KAAQ,GAqFNb,GAAc,IAAI9H,IAAIjO,OAAOxI,QAAQ,CACvCqf,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,SAAU,SACVC,UAAW,MACXC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,YAEX/J,GAAe,IAAIhI,IAAIjO,OAAOxI,QAAQ,CACxCyoB,aAAc,QACdC,cAAe,EACfC,aAAc,SACdC,WAAY,QACZC,WAAY,SACZC,gBAAiB,SACjBC,aAAc,SACdC,WAAY,EACZC,YAAa,EACbC,SAAU,QACVC,UAAW,SACXC,cAAe,EACfC,eAAgB,SAChBC,gBAAiB,SACjBC,oBAAqB,EACrBC,eAAgB,SAChBC,SAAU,EACVC,KAAM,SACNC,SAAU,SACVC,UAAW,SACXC,iBAAkB,EAClBC,WAAY,SACZC,gBAAiB,SACjBC,kBAAmB,SACnBC,aAAc,EACdC,OAAQ,SACRC,YAAa,SACbC,WAAY,EACZ,2BAA4B,WAC3BpiB,KAAI,SAAUmF,GACf,IAAIiC,EAAKhE,EAAO+B,EAAI,GAChB1G,EAAM2I,EAAG,GACTzF,EAAQyF,EAAG,GAEf,MAAO,CAAC3I,EAAIqF,cAAenC,OAG7B,SAAS0gB,GAAMvO,EAAGwO,EAAOC,EAAQC,EAAQC,GACvC,OAAQ3O,EAAIwO,IAAUG,EAAUD,IAAWD,EAASD,GAASE,EAG/D,SAASE,GAAM5O,EAAGa,EAAKD,GACrB,OAAOX,KAAKY,IAAID,EAAKX,KAAKW,IAAIC,EAAKb,IAGrC,SAAS6O,GAAiBC,EAAIC,GAG5B,IAFA,IAAIjkB,EAAS,GAEJpB,EAAI,EAAGiM,EAAMmZ,EAAG1lB,OAAQM,EAAIiM,EAAKjM,IAAK,CAC7CoB,EAAOpB,GAAK,GAEZ,IAAK,IAAImG,EAAI,EAAGmf,EAAOD,EAAG,GAAG3lB,OAAQyG,EAAImf,EAAMnf,IAAK,CAGlD,IAFA,IAAIof,EAAM,EAEDC,EAAI,EAAGC,EAAOL,EAAG,GAAG1lB,OAAQ8lB,EAAIC,EAAMD,IAC7CD,GAAOH,EAAGplB,GAAGwlB,GAAKH,EAAGG,GAAGrf,GAG1B/E,EAAOpB,GAAGmG,GAAKof,GAInB,OAAOnkB,EAGT,SAASskB,GAAWC,EAAOC,EAAOC,QAClB,IAAVA,IACFA,EAAQ,GAMV,IAHA,IACIlgB,EADA3H,EAAU,GAGP2H,EAAIggB,EAAMG,KAAKF,IACpB5nB,EAAQ9B,KAAKyJ,EAAEkgB,IAGjB,OAAO7nB,EA2FT,SAAS+nB,GAAmBzqB,GAC1B,IAAIqK,EAAIqgB,GAAOC,WAsBf,OApBqB,IAAjB3qB,EAAO2B,QACT0I,EAAIwf,GAAiBxf,EAAGqgB,GAAO/oB,MAAM3B,EAAO2B,MAAQ,OAG7B,IAArB3B,EAAO2P,YACTtF,EAAIwf,GAAiBxf,EAAGqgB,GAAO/a,UAAU3P,EAAO2P,UAAY,OAGtC,MAApB3P,EAAO0B,WACT2I,EAAIwf,GAAiBxf,EAAGqgB,GAAOhpB,SAAS1B,EAAO0B,SAAW,OAGlC,MAAtB1B,EAAOyB,aACT4I,EAAIwf,GAAiBxf,EAAGqgB,GAAOjpB,WAAWzB,EAAOyB,WAAa,OAG5C,IAAhBzB,EAAO0P,OACTrF,EAAIwf,GAAiBxf,EAAGqgB,GAAOE,eAG1BvgB,EAgBT,IAAIqgB,GAAS,CACXC,SAAU,WACR,MAAO,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAE3FC,WAAY,WACV,MAAO,CAAC,CAAC,MAAQ,MAAQ,KAAO,EAAG,GAAI,EAAE,KAAO,MAAQ,KAAO,EAAG,GAAI,EAAE,MAAQ,KAAO,KAAO,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAErInpB,WAAY,SAAoBuI,GAC9B,MAAO,CAAC,CAACA,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAGA,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAGA,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAE3FtI,SAAU,SAAkBsI,GAC1B,IAAIpC,GAAK,EAAIoC,GAAK,EAClB,MAAO,CAAC,CAACA,EAAG,EAAG,EAAG,EAAGpC,GAAI,CAAC,EAAGoC,EAAG,EAAG,EAAGpC,GAAI,CAAC,EAAG,EAAGoC,EAAG,EAAGpC,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAE3FjG,MAAO,SAAeqI,GACpB,MAAO,CAAC,CAAC,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,EAAG,GAAI,CAAC,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,EAAG,GAAI,CAAC,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAEjS2F,UAAW,SAAmB3F,GAC5B,MAAO,CAAC,CAAC,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,EAAG,GAAI,CAAC,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,EAAG,GAAI,CAAC,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,MAIrT,SAAS6gB,GAAUC,GAGjB,OAAOA,EAF2B,IAAfA,EAAMpb,KACC,4BAA8B,8BAI1D,SAASqb,GAAUD,GAGjB,OAAOA,EAF2B,IAAfA,EAAMpb,KACC,sBAAwB,wBAIpD,IAAIsb,GAAyB,IAAIrV,IAC7BsV,GAAoB,IAAItV,IAE5B,SAASuV,GAAoBxnB,GAC3B,GAAIunB,GAAkB/U,IAAIxS,GACxB,OAAOunB,GAAkBte,IAAIjJ,GAG/B,IACI6Y,EAAMf,GADAmB,GAAMjZ,IAGhB,OADAunB,GAAkB1T,IAAI7T,EAAO6Y,GACtBA,EAQT,IAAI4O,GAAe,CAAC,IAAK,IAAK,IAAK,KAC/BC,GAAmB,CAAC,OAAQ,aAAc,WAAY,YAAa,QAAS,4BAA6B,sBAAuB,6BAA8B,wBAUlK,SAASC,GAAqBC,EAAKR,EAAOS,EAAWC,EAAWC,GAC9D,IAAIC,EAEAV,GAAuB9U,IAAIqV,GAC7BG,EAAUV,GAAuBre,IAAI4e,IAErCG,EAAU,IAAI/V,IACdqV,GAAuBzT,IAAIgU,EAAWG,IAGxC,IAAInd,EAlBN,SAAoB+c,EAAKR,GACvB,OAAOK,GAAajkB,KAAI,SAAUgjB,GAChC,OAAOoB,EAAIpB,MACVyB,OAAOP,GAAiBlkB,KAAI,SAAUgjB,GACvC,OAAOY,EAAMZ,OACXrlB,KAAK,KAaA+mB,CAAWN,EAAKR,GAEzB,GAAIY,EAAQxV,IAAI3H,GACd,OAAOmd,EAAQ/e,IAAI4B,GAGrB,IAKIlC,EAAKuO,GAFM2Q,EAHL/P,GAAS8P,GACK,MAAbE,EAAoB,KAAON,GAAoBM,GACpB,MAApBC,EAA2B,KAAOP,GAAoBO,KAIpElhB,EAAI8B,EAAG9B,EACPhB,EAAI8C,EAAG9C,EACP8O,EAAIhM,EAAGgM,EACPnH,EAAI7E,EAAG6E,EAIP5C,EAAKhE,EA1GX,SAA0B+B,EAAIwf,GAC5B,IAAIvd,EAAKhE,EAAO+B,EAAI,GAMhBvG,EAAS+jB,GAAiBgC,EADpB,CAAC,CAJHvd,EAAG,GAIK,KAAM,CAHdA,EAAG,GAGgB,KAAM,CAFzBA,EAAG,GAE2B,KAAM,CAAC,GAAI,CAAC,KAElD,MAAO,CAAC,EAAG,EAAG,GAAGpH,KAAI,SAAUxC,GAC7B,OAAOklB,GAAM3O,KAAKC,MAAqB,IAAfpV,EAAOpB,GAAG,IAAW,EAAG,QAiGlConB,CAAiB,CAACvhB,EAAGhB,EAAG8O,GAF3BoS,GAAmBK,IAEqB,GACjDiB,EAAKzd,EAAG,GACR0d,EAAK1d,EAAG,GACR2d,EAAK3d,EAAG,GAER5K,EAAc,IAANwN,EAtpBd,SAAwB7E,GACtB,IAAI9B,EAAI8B,EAAG9B,EACPhB,EAAI8C,EAAG9C,EACP8O,EAAIhM,EAAGgM,EACPnH,EAAI7E,EAAG6E,EACX,MAAO,KAAY,MAALA,GAAaA,EAAI,EAAI,CAAC3G,EAAGhB,EAAG8O,EAAG4C,KAAKC,MAAU,IAAJhK,IAAY,CAAC3G,EAAGhB,EAAG8O,IAAInR,KAAI,SAAU8T,GAC3F,OAAaA,EAAI,GAAK,IAAM,IAAMA,EAAEkR,SAAS,OAC5CrnB,KAAK,IA+oBcsnB,CAAe,CACnC5hB,EAAGwhB,EACHxiB,EAAGyiB,EACH3T,EAAG4T,IAtqBP,SAAqBX,GACnB,IAAI/gB,EAAI+gB,EAAI/gB,EACRhB,EAAI+hB,EAAI/hB,EACR8O,EAAIiT,EAAIjT,EACRnH,EAAIoa,EAAIpa,EAEZ,OAAS,MAALA,GAAaA,EAAI,EACZ,QAAU4K,GAAQvR,GAAK,KAAOuR,GAAQvS,GAAK,KAAOuS,GAAQzD,GAAK,KAAOyD,GAAQ5K,EAAG,GAAK,IAGxF,OAAS4K,GAAQvR,GAAK,KAAOuR,GAAQvS,GAAK,KAAOuS,GAAQzD,GAAK,IA6pBhE+T,CAAY,CACf7hB,EAAGwhB,EACHxiB,EAAGyiB,EACH3T,EAAG4T,EACH/a,EAAGA,IAGL,OADAwa,EAAQnU,IAAIhJ,EAAI7K,GACTA,EAGT,SAAS2oB,GAAQ9P,GACf,OAAOA,EAOT,SAAS+P,GAAuBhB,EAAKR,GACnC,IAAIyB,EAAS1B,GAAUC,GAEvB,OAAOO,GAAqBC,EAAKR,EAAO0B,GAD3BzB,GAAUD,GAC6CyB,GAGtE,SAASC,GAAmBngB,EAAIogB,EAAQF,GACtC,IAAI1R,EAAIxO,EAAGwO,EACPhT,EAAIwE,EAAGxE,EACPiT,EAAIzO,EAAGyO,EACP5J,EAAI7E,EAAG6E,EACPwb,EAAS5R,EAAI,GAUb6R,EAAK9R,EACL+R,EAAK9R,EAaT,OArBI4R,EACU5R,EAAI,IAAOjT,EAAI,IAGfA,EAAI,KAAQiT,EAAI,IADfD,EAAI,KAAOA,EAAI,OAQxB6R,GACFC,EAAKF,EAAO5R,EACZ+R,EAAKH,EAAO5kB,IAEZ8kB,EAAKJ,EAAO1R,EACZ+R,EAAKL,EAAO1kB,IAKT,CACLgT,EAAG8R,EACH9kB,EAAG+kB,EACH9R,EAJOyO,GAAMzO,EAAG,EAAG,EAAG2R,EAAO3R,EAAGyR,EAAOzR,GAKvC5J,EAAGA,GAIP,IAAI2b,GAAmB,GAEvB,SAASC,GAAYzgB,EAAI0gB,GACvB,IAAIlS,EAAIxO,EAAGwO,EACPhT,EAAIwE,EAAGxE,EACPiT,EAAIzO,EAAGyO,EACP5J,EAAI7E,EAAG6E,EAGP8b,EAAYnlB,EAAI,KAAQiT,EAAI,IADnBD,EAAI,KAAOA,EAAI,IAG5B,GAJaC,EAAI,GAIL,CACV,IAAImS,EAAO1D,GAAMzO,EAAG,EAAG,GAAK,EAAG+R,IAE/B,OAAIG,EAGK,CACLnS,EAHSkS,EAAKlS,EAIdhT,EAHOklB,EAAKllB,EAIZiT,EAAGmS,EACH/b,EAAGA,GAIA,CACL2J,EAAGA,EACHhT,EAAGA,EACHiT,EAAGmS,EACH/b,EAAGA,GAIP,IAAIgc,EAAK3D,GAAMzO,EAAG,GAAK,EAAG+R,GAAkBE,EAAKjS,GAEjD,GAAIkS,EAGF,MAAO,CACLnS,EAHSkS,EAAKlS,EAIdhT,EAHOklB,EAAKllB,EAIZiT,EAAGoS,EACHhc,EAAGA,GAIP,IAAIyb,EAAK9R,EAaT,OAZeA,EAAI,IAAMA,EAAI,MAMzB8R,EAHoB9R,EAAI,IAGnB0O,GAAM1O,EAAG,IAAK,IAAK,IAAK,KAExB0O,GAAM1O,EAAG,GAAI,IAAK,GAAI,MAIxB,CACLA,EAAG8R,EACH9kB,EAAGA,EACHiT,EAAGoS,EACHhc,EAAGA,GAIP,SAASic,GAAsB7B,EAAKR,GAClC,GAAmB,IAAfA,EAAMpb,KACR,OAAO4c,GAAuBhB,EAAKR,GAGrC,IAAIiC,EAAOlC,GAAUC,GACrB,OAAOO,GAAqBC,EAAK7jB,EAAQA,EAAQ,GAAIqjB,GAAQ,CAC3Dpb,KAAM,IACJod,GAAaC,GAGnB,IAsJIK,GAtJAC,GAAmB,IAEvB,SAASC,GAAgBC,GACvB,OAAOhE,GAAMgE,EAAK,IAAK,IAAK,IAAK,KAGnC,SAASC,GAAYnhB,EAAI0gB,GACvB,IAAIlS,EAAIxO,EAAGwO,EACPhT,EAAIwE,EAAGxE,EACPiT,EAAIzO,EAAGyO,EACP5J,EAAI7E,EAAG6E,EAEP8b,EAAYlS,EAAI,IAAOjT,EAAI,IAC3B4lB,GAAUT,GAAanS,EAAI,KAAOA,EAAI,IAE1C,GAJcC,EAAI,GAIL,CACX,IAAI4S,EAAOnE,GAAMzO,EAAG,GAAK,EAAGuS,GAAkBN,EAAKjS,GAEnD,GAAIkS,EAGF,MAAO,CACLnS,EAHSkS,EAAKlS,EAIdhT,EAHOklB,EAAKllB,EAIZiT,EAAG4S,EACHxc,EAAGA,GAIP,IAAIyc,EAAO9S,EAMX,OAJI4S,IACFE,EAAOL,GAAgBzS,IAGlB,CACLA,EAAG8S,EACH9lB,EAAGA,EACHiT,EAAG4S,EACHxc,EAAGA,GAIP,GAAI8b,EAIF,MAAO,CACLnS,EAJSkS,EAAKlS,EAKdhT,EAJOklB,EAAKllB,EAKZiT,EAJSyO,GAAMzO,EAAG,EAAG,GAAKiS,EAAKjS,EAAGuS,IAKlCnc,EAAGA,GAIP,IACIgc,EADAP,EAAK9R,EAUT,OAPI4S,GACFd,EAAKW,GAAgBzS,GACrBqS,EAAK3D,GAAMzO,EAAG,EAAG,GAAKiS,EAAKjS,EAAGG,KAAKY,IAAI,EAAGwR,GAAmB,OAE7DH,EAAK3D,GAAMzO,EAAG,EAAG,GAAKiS,EAAKjS,EAAGuS,IAGzB,CACLxS,EAAG8R,EACH9kB,EAAGA,EACHiT,EAAGoS,EACHhc,EAAGA,GAIP,SAAS0c,GAAsBtC,EAAKR,GAClC,GAAmB,IAAfA,EAAMpb,KACR,OAAO4c,GAAuBhB,EAAKR,GAGrC,IAAIiC,EAAOhC,GAAUD,GACrB,OAAOO,GAAqBC,EAAK7jB,EAAQA,EAAQ,GAAIqjB,GAAQ,CAC3Dpb,KAAM,IACJ8d,GAAaT,GAGnB,SAASc,GAAgBxhB,EAAIogB,EAAQF,GACnC,IAAI1R,EAAIxO,EAAGwO,EACPhT,EAAIwE,EAAGxE,EACPiT,EAAIzO,EAAGyO,EACP5J,EAAI7E,EAAG6E,EAGPyb,EAAK9R,EACL+R,EAAK/kB,EAaT,OAfgBiT,EAAI,IAAOjT,EAAI,OADlBiT,EAAI,IAOb6R,EAAKF,EAAO5R,EACZ+R,EAAKH,EAAO5kB,IAEZ8kB,EAAKJ,EAAO1R,EACZ+R,EAAKL,EAAO1kB,IAKT,CACLgT,EAAG8R,EACH9kB,EAAG+kB,EACH9R,EAJOyO,GAAMzO,EAAG,EAAG,EAAG,GAAK,IAK3B5J,EAAGA,GAIP,SAAS4c,GAAkBxC,EAAKR,GAC9B,GAAmB,IAAfA,EAAMpb,KACR,OAAO4c,GAAuBhB,EAAKR,GAGrC,IAAI2B,EAAS1B,GAAUD,GACnByB,EAAS1B,GAAUC,GACvB,OAAOO,GAAqBC,EAAK7jB,EAAQA,EAAQ,GAAIqjB,GAAQ,CAC3Dpb,KAAM,IACJme,GAAiBpB,EAAQF,GAO/B,SAASwB,GAAoBzC,EAAKvpB,GAChC,OAAOorB,GAAsB7B,EAAKvpB,GA2BpC,SAASisB,GAAkBhuB,GACzB,IAAIiuB,EAAU,GAsBd,OApBIjuB,EAAO0P,OAAS0d,GAAWc,MAC7BD,EAAQrtB,KAAK,mCAGW,MAAtBZ,EAAOyB,YACTwsB,EAAQrtB,KAAK,cAAgBZ,EAAOyB,WAAa,MAG3B,MAApBzB,EAAO0B,UACTusB,EAAQrtB,KAAK,YAAcZ,EAAO0B,SAAW,MAGtB,IAArB1B,EAAO2P,WACTse,EAAQrtB,KAAK,aAAeZ,EAAO2P,UAAY,MAG5B,IAAjB3P,EAAO2B,OACTssB,EAAQrtB,KAAK,SAAWZ,EAAO2B,MAAQ,MAGlB,IAAnBssB,EAAQ7pB,OACH,KAGF6pB,EAAQppB,KAAK,MAhCtB,SAAWuoB,GACTA,EAAWA,EAAkB,MAAI,GAAK,QACtCA,EAAWA,EAAiB,KAAI,GAAK,OAFvC,CAGGA,KAAeA,GAAa,KA4C/B,IAAIe,GAAU,EACVC,GAAc,IAAIzY,IAClB0Y,GAAY,IAAI1Y,IAEpB,SAAS2Y,GAAQC,GACf,OAAOnmB,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,MAAO,CAAC,EAAG,IAAI5D,SAAQ,SAAUC,EAASC,GACxC,IAAI4F,IAAO4f,GACXC,GAAY7W,IAAIhJ,EAAI7F,GACpB2lB,GAAU9W,IAAIhJ,EAAI5F,GAClBgF,OAAOC,QAAQG,YAAY,CACzB7M,KAAM,QACNsC,KAAM+qB,EACNhgB,GAAIA,cA2Bd,SAASigB,GAAgBhuB,GACvB,OAAO4H,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAIsmB,EAASlvB,EAAOmvB,EACpB,OAAOtlB,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EACH,OAAKjJ,EAAIgL,WAAW,UACpBijB,EAAUjuB,EACH,CAAC,EAAG,IAF0B,CAAC,EAAG,GAI3C,KAAK,EACH,MAAO,CAAC,EAAGmuB,GAAgBnuB,IAE7B,KAAK,EACHiuB,EAAUpiB,EAAG3C,OACb2C,EAAG5C,MAAQ,EAEb,KAAK,EACH,MAAO,CAAC,EAAGmlB,GAAWH,IAExB,KAAK,EAGH,OAFAlvB,EAAQ8M,EAAG3C,OACXglB,EA6EV,SAAsBnvB,GAftB,IACMsvB,EACAC,EAcCC,KAfDF,EAAWG,GACXF,EAAYE,IAChBD,GAAShjB,SAAS6L,cAAc,WACzBqX,MAAQJ,EACfE,GAAOG,OAASJ,GAChBK,GAAUJ,GAAOK,WAAW,OACpBC,uBAAwB,GAahC,IAAIC,EAAe/vB,EAAM+vB,aACrBC,EAAgBhwB,EAAMgwB,cAE1B,GAAsB,IAAlBA,GAAwC,IAAjBD,EAEzB,OADAle,EAAQ,0BAA4B7R,EAAMiwB,WAAa,KAChD,KAGT,IAAIC,EAAqBH,EAAeC,EACpCrF,EAAIjP,KAAKY,IAAI,EAAGZ,KAAKyU,KAAKV,GAA2BS,IACrDR,EAAQhU,KAAK0U,KAAKL,EAAepF,GACjCgF,EAASjU,KAAK0U,KAAKJ,EAAgBrF,GACvCiF,GAAQS,UAAU,EAAG,EAAGX,EAAOC,GAC/BC,GAAQU,UAAUtwB,EAAO,EAAG,EAAG+vB,EAAcC,EAAe,EAAG,EAAGN,EAAOC,GACzE,IAQIxqB,EAAGsW,EAAG1R,EACNiB,EAAGhB,EAAG8O,EACNyC,EATAgV,EADYX,GAAQY,aAAa,EAAG,EAAGd,EAAOC,GAChC1rB,KAIdwsB,EAAyB,EACzBC,EAAkB,EAClBC,EAAmB,EAKvB,IAAK5mB,EAAI,EAAGA,EAAI4lB,EAAQ5lB,IACtB,IAAK0R,EAAI,EAAGA,EAAIiU,EAAOjU,IAErBzQ,EAAIulB,EAAM,GADVprB,EAAI,GAAK4E,EAAI2lB,EAAQjU,KACN,IACfzR,EAAIumB,EAAEprB,EAAI,GAAK,IACf2T,EAAIyX,EAAEprB,EAAI,GAAK,IACXorB,EAAEprB,EAAI,GAAK,IAhBe,IAmB5BsrB,MAEAlV,EAAI,MAASvQ,EAAI,MAAShB,EAAI,MAAS8O,GApBd,IAuBvB4X,IAGEnV,EAzBsB,IA0BxBoV,KAMR,IAAIC,EAAmBlB,EAAQC,EAC3BkB,EAAoBD,EAAmBH,EAK3C,MAAO,CACLtD,OAAQuD,EAAkBG,GALD,GAMzBC,QAASH,EAAmBE,GALF,GAM1BE,cAAeN,EAAyBG,GALR,GAMhCI,QAASd,GALoB,MAzIhBe,CAAajxB,GACb,CAAC,EAAGkI,EAAQ,CACjBF,IAAK/G,EACLiuB,QAASA,EACTQ,MAAO1vB,EAAM+vB,aACbJ,OAAQ3vB,EAAMgwB,eACbb,WAMb,SAASC,GAAgBnuB,GACvB,OAAO4H,EAAUD,UAAM,OAAQ,GAAQ,WAErC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EAEH,OADY,IAAIwO,IAAIzX,GACJga,SAAWiW,SAASjW,OAAgB,CAAC,EAAG,GACjD,CAAC,EAAGxN,EAAcxM,IAE3B,KAAK,EACH,MAAO,CAAC,EAAG6L,EAAG3C,QAEhB,KAAK,EACH,MAAO,CAAC,EAAG4kB,GAAQ,CACjB9tB,IAAKA,EACL2N,aAAc,cAGlB,KAAK,EACH,MAAO,CAAC,EAAG9B,EAAG3C,eAMxB,SAASklB,GAAWpuB,GAClB,OAAO4H,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,MAAO,CAAC,EAAG,IAAI5D,SAAQ,SAAUC,EAASC,GACxC,IAAIpJ,EAAQ,IAAImxB,MAEhBnxB,EAAMoxB,OAAS,WACb,OAAOjoB,EAAQnJ,IAGjBA,EAAMqxB,QAAU,WACd,OAAOjoB,EAAO,wBAA0BnI,IAG1CjB,EAAMgI,IAAM/G,YA9FpBmN,OAAOC,QAAQmB,UAAUC,aAAY,SAAU3C,GAC7C,IAAInL,EAAOmL,EAAGnL,KACVsC,EAAO6I,EAAG7I,KACViH,EAAQ4B,EAAG5B,MACX8D,EAAKlC,EAAGkC,GAEZ,GAAa,mBAATrN,EAA2B,CAC7B,IAAIwH,EAAU0lB,GAAYzhB,IAAI4B,GAC1B5F,EAAS0lB,GAAU1hB,IAAI4B,GAC3B6f,GAAY/Y,OAAO9G,GACnB8f,GAAUhZ,OAAO9G,GAEb9D,EACF9B,GAAUA,EAAO8B,GAEjB/B,GAAWA,EAAQlF,OAqFzB,IACIurB,GACAI,GAFAH,GAA2B,KAwF3B6B,GAAa,IAAI/iB,IAErB,SAASgjB,GAAwBzkB,EAAItK,GAQnC,IAPA,IAAI0sB,EAAUpiB,EAAGoiB,QACbQ,EAAQ5iB,EAAG4iB,MACXC,EAAS7iB,EAAG6iB,OAEZ6B,EAAM,CAAC,6FAAoG9B,EAAQ,aAAiBC,EAAS,KAAO,SAAU,wCAAyC,wCA3NxLzE,GA0NkB1oB,GAlOvBkD,MAAM,EAAG,GAAGiC,KAAI,SAAUmD,GACtC,OAAOA,EAAEnD,KAAI,SAAUmD,GACrB,OAAOA,EAAEyR,QAAQ,MAChBjX,KAAK,QACPA,KAAK,KA+NyP,OAAS,YAAa,UAAW,iBAAoBoqB,EAAQ,aAAiBC,EAAS,wDAA8DT,EAAU,OAAS,UAAU5pB,KAAK,IACpbmsB,EAAQ,IAAIC,WAAWF,EAAI3sB,QAEtBM,EAAI,EAAGA,EAAIqsB,EAAI3sB,OAAQM,IAC9BssB,EAAMtsB,GAAKqsB,EAAIG,WAAWxsB,GAG5B,IAAIwI,EAAO,IAAIikB,KAAK,CAACH,GAAQ,CAC3B9vB,KAAM,kBAEJkwB,EAAYnZ,IAAIoZ,gBAAgBnkB,GAEpC,OADA2jB,GAAWhiB,IAAIuiB,GACRA,EAGT,SAASE,KA/FPvC,GAAS,KACTI,GAAU,KAgGV0B,GAAW3qB,SAAQ,SAAUkY,GAC3B,OAAOnG,IAAIsZ,gBAAgBnT,MAE7ByS,GAAWtb,QAGb,SAASic,GAA4BnwB,EAAUwH,EAAO4P,EAAMgZ,EAAgBC,EAAsBC,GAChG,IAAIC,EAAYC,QAAQpZ,GAAQA,EAAKoB,OAASpB,EAAKoB,MAAMiY,oBAAoBzwB,IACzE0wB,EAAclpB,EAElB,GAAIxH,EAASmK,WAAW,OAGtB,GAFIwmB,EA0pBR,SAA6BP,EAAgB/X,EAAM7Q,EAAO4P,EAAMwZ,EAAqBN,GACnF,OAAOF,EAAeS,uBAAuB,CAC3CC,QAASzY,EACTqY,YAAalpB,EACb4P,KAAMA,EACNwZ,oBAAqBA,EACrBN,YAAaA,IAhqBES,CAAoBX,EAAgBpwB,EAAUwH,EAAO4P,EAAMiZ,EAAsBC,GAG9F,MAAO,CACLtwB,SAAUA,EACVwH,MAAOmpB,EACPJ,UAAWA,EACXG,YAAaA,QAGZ,GAAIlpB,EAAMsC,SAAS,SAGxB,GAFI6mB,EAypBR,SAAsCP,EAAgB/X,EAAM7Q,GAC1D,OAAO4oB,EAAeY,2BAA2B3Y,EAAM7Q,GA1pBtCypB,CAA6Bb,EAAgBpwB,EAAUwH,GAGpE,MAAO,CACLxH,SAAUA,EACVwH,MAAOmpB,EACPJ,UAAWA,EACXG,YAAaA,QAGZ,GAAI1wB,EAAS8J,SAAS,UAAyB,+BAAb9J,GAA0D,SAAbA,GAAoC,WAAbA,GAAsC,eAAbA,GAGpI,GAFI2wB,EA+SR,SAA0BtY,EAAM7Q,GAC9B,GAAI0pB,GAAiBrc,IAAIrN,EAAMmC,eAC7B,OAAOnC,EAGT,IACE,IAAI2pB,EAAQC,GAAoB5pB,GAEhC,OAAI6Q,EAAKvO,SAAS,cACT,SAAUpJ,GACf,OAAOorB,GAAsBqF,EAAOzwB,IAIpC2X,EAAKvO,SAAS,WAAauO,EAAKvO,SAAS,WACpC,SAAUpJ,GACf,OAAO+rB,GAAkB0E,EAAOzwB,IAI7B,SAAUA,GACf,OAAO6rB,GAAsB4E,EAAOzwB,IAEtC,MAAOkK,GAEP,OADAmF,EAAQ,oBAAqBnF,GACtB,MAxUQymB,CAAiBrxB,EAAUwH,GAGxC,MAAO,CACLxH,SAAUA,EACVwH,MAAOmpB,EACPJ,UAAWA,EACXG,YAAaA,QAGZ,GAAiB,qBAAb1wB,GAAgD,qBAAbA,GAG5C,GAFI2wB,EAAWW,GAAmB9pB,EAAO4P,EAAMiZ,EAAsBC,GAGnE,MAAO,CACLtwB,SAAUA,EACVwH,MAAOmpB,EACPJ,UAAWA,EACXG,YAAaA,QAGZ,GAAI1wB,EAAS8J,SAAS,UAAW,CACtC,IAAI6mB,EAEJ,GAFIA,EA8kBR,SAA2BnpB,GACzB,IACE,IAAI+pB,EAAU,EACVC,EAAiBzI,GAAW,qEAAsEvhB,EAAO,GACzGiqB,EAAcD,EAAe3rB,KAAI,SAAU5C,EAAOI,GACpD,IAAIquB,EAAcH,EACdI,EAAanqB,EAAMqT,QAAQ5X,EAAOsuB,GAClCK,EAAWD,EAAa1uB,EAAMF,OAClCwuB,EAAUK,EACV,IAAI3H,EAAM4H,GAAc5uB,GAExB,OAAKgnB,EAME,SAAUvpB,GACf,MAAO,GAAK8G,EAAMwT,UAAU0W,EAAaC,GA18BjD,SAA2B1H,EAAKvpB,GAC9B,OAAOorB,GAAsB7B,EAAKvpB,GAy8B2BoxB,CAAkB7H,EAAKvpB,IAAW2C,IAAMmuB,EAAezuB,OAAS,EAAIyE,EAAMwT,UAAU4W,GAAY,KANhJ,WACL,OAAOpqB,EAAMwT,UAAU0W,EAAaE,OAQ1C,OAAO,SAAUlxB,GACf,OAAO+wB,EAAY5rB,KAAI,SAAUksB,GAC/B,OAAOA,EAAOrxB,MACb8C,KAAK,KAEV,MAAOoH,GAEP,OADAmF,EAAQ,0BAA4BvI,EAAOoD,GACpC,MA1mBQonB,CAAkBxqB,GAG/B,MAAO,CACLxH,SAAUA,EACVwH,MAAOmpB,EACPJ,UAAWA,EACXG,YAAaA,GAKnB,OAAO,KAGT,SAASuB,GAA0BxI,EAAOyI,EAAUhjB,GAClD,IAAIijB,EAAQ,GA2EZ,OAzEKD,IACHC,EAAM5yB,KAAK,UACX4yB,EAAM5yB,KAAK,yBAA2BusB,GAAsB,CAC1D5iB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,GAAS,gBACZ0I,EAAM5yB,KAAK,MAGb4yB,EAAM5yB,MAAW2yB,EAAW,GAAK,iBAAmBhjB,EAAsB,kCAAoC,IAAM,MACpHijB,EAAM5yB,KAAK,yBAA2BusB,GAAsB,CAC1D5iB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,GAAS,KACZ0I,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,gBAAkB2P,EAAsB,kCAAoC,IAAM,MAC7FijB,EAAM5yB,KAAK,qBAAuBktB,GAAkB,CAClDvjB,EAAG,GACHhB,EAAG,GACH8O,EAAG,IACFyS,GAAS,KACZ0I,EAAM5yB,KAAK,cAAgBgtB,GAAsB,CAC/CrjB,EAAG,EACHhB,EAAG,EACH8O,EAAG,GACFyS,GAAS,KACZ0I,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,OACX4yB,EAAM5yB,KAAK,cAAgBgtB,GAAsB,CAC/CrjB,EAAG,EACHhB,EAAG,GACH8O,EAAG,KACFyS,GAAS,KACZ0I,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,WACX4yB,EAAM5yB,KAAK,qBAAuBktB,GAAkB,CAClDvjB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,GAAS,KACZ0I,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,mBACX4yB,EAAM5yB,KAAK,cAAgBgtB,GAAsB,CAC/CrjB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,GAAS,KACZ0I,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,2BACX4yB,EAAM5yB,KAAK,8BACX4yB,EAAM5yB,KAAK,6BACX4yB,EAAM5yB,KAAK,yBAA2BusB,GAAsB,CAC1D5iB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,GAAS,gBACZ0I,EAAM5yB,KAAK,cAAgBgtB,GAAsB,CAC/CrjB,EAAG,EACHhB,EAAG,EACH8O,EAAG,GACFyS,GAAS,gBACZ0I,EAAM5yB,KAAK,KAEPkqB,EAAMza,gBACRmjB,EAAM5yB,KA6DV,SAAmCkqB,GACjC,IACI2I,EACAC,EACAC,EACAC,EACAC,EACAC,EANAN,EAAQ,GAQZ,GAA6B,SAAzB1I,EAAMza,eACRojB,EAAatG,GAAsB,CACjC5iB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,GACH4I,EAAa9F,GAAsB,CACjCrjB,EAAG,GACHhB,EAAG,GACH8O,EAAG,IACFyS,GACH6I,EAAaxG,GAAsB,CACjC5iB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,GACH8I,EAAkBzG,GAAsB,CACtC5iB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,GACH+I,EAAmB1G,GAAsB,CACvC5iB,EAAG,GACHhB,EAAG,GACH8O,EAAG,IACFyS,GACHgJ,EAAc3G,GAAsB,CAClC5iB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFyS,OACE,CACL,IACIiJ,EAAQvY,GADFmB,GAAMmO,EAAMza,iBAElBggB,EAAU0D,EAAMjZ,EAAI,GAEpBkZ,EAAU,SAAiBC,GAC7B,OAAOxsB,EAAQA,EAAQ,GAAIssB,GAAQ,CACjCjZ,EAAG8O,GAAMmK,EAAMjZ,EAAImZ,EAAS,EAAG,MAI/BC,EAAS,SAAgBC,GAC3B,OAAO1sB,EAAQA,EAAQ,GAAIssB,GAAQ,CACjCjZ,EAAG8O,GAAMmK,EAAMjZ,EAAIqZ,EAAQ,EAAG,MAIlCV,EAAanX,GAAY4X,EAAO,KAChCR,EAAapX,GAAY+T,EAAU6D,EAAO,IAAOF,EAAQ,KACzDL,EAAarX,GAAYyX,GACzBH,EAAkBtX,GAAY0X,EAAQ,KACtCH,EAAmBvX,GAAY0X,EAAQ,KA0BzC,OAvBAR,EAAM5yB,KAAK,yBACX4yB,EAAM5yB,KAAK,yBAA2B6yB,EAAa,KACnDD,EAAM5yB,KAAK,cAAgB8yB,EAAa,KACxCF,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,+BACX4yB,EAAM5yB,KAAK,yBAA2B+yB,EAAa,KACnDH,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,qCACX4yB,EAAM5yB,KAAK,yBAA2BgzB,EAAkB,KACxDJ,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,sCACX4yB,EAAM5yB,KAAK,yBAA2BizB,EAAmB,KACzDL,EAAM5yB,KAAK,KACX4yB,EAAM5yB,KAAK,gCACX4yB,EAAM5yB,KAAK,yBAA2BkzB,EAAc,KACpDN,EAAM5yB,KAAK,KAEPyK,IACFmoB,EAAM5yB,KAAK,OACX4yB,EAAM5yB,KAAK,wBAA0B+yB,EAAa,IAAMF,EAAa,KACrED,EAAM5yB,KAAK,MAGN4yB,EAAM3uB,KAAK,MApJLuvB,CAA0BtJ,IAGnCA,EAAMxa,gBACRkjB,EAAM5yB,KA2CV,SAAmCkqB,GACjC,IAAI0I,EAAQ,GACRa,EAAyBC,GAAkBxJ,GAC3CyJ,EAA2BF,EAAuBE,yBAClDC,EAA2BH,EAAuBG,yBAOtD,MANA,CAAC,cAAe,oBAAoBtuB,SAAQ,SAAUuuB,GACpDjB,EAAM5yB,KAAK6zB,EAAY,MACvBjB,EAAM5yB,KAAK,yBAA2B2zB,EAA2B,gBACjEf,EAAM5yB,KAAK,cAAgB4zB,EAA2B,gBACtDhB,EAAM5yB,KAAK,QAEN4yB,EAAM3uB,KAAK,MAtDL6vB,CAA0B5J,IAGhC0I,EAAM3uB,KAAK,MAGpB,SAASyvB,GAAkBxJ,GACzB,IAAIyJ,EACAC,EAEJ,GAA6B,SAAzB1J,EAAMxa,eACRikB,EAA2BpH,GAAsB,CAC/C5iB,EAAG,EACHhB,EAAG,GACH8O,EAAG,KACF5Q,EAAQA,EAAQ,GAAIqjB,GAAQ,CAC7Bnb,UAAW,KAEb6kB,EAA2B5G,GAAsB,CAC/CrjB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACF5Q,EAAQA,EAAQ,GAAIqjB,GAAQ,CAC7Bnb,UAAW,SAER,CACL,IACI4M,EAAMf,GADAmB,GAAMmO,EAAMxa,iBAEtBikB,EAA2BzJ,EAAMxa,eAG/BkkB,EADEjY,EAAIzB,EAAI,GACiB,OAEA,OAI/B,MAAO,CACLyZ,yBAA0BA,EAC1BC,yBAA0BA,GA4G9B,SAASG,GAAyB5yB,EAAQsK,GACxC,IAAIuoB,EAASvoB,EAAGuoB,OACZpB,EAAQ,GAkBZ,OAjBAA,EAAM5yB,KAAK,gBAAkBg0B,EAAS,oBAAsB,uBAAyB,MACrFpB,EAAM5yB,KAAK,yBAA2BusB,GAAsB,CAC1D5iB,EAAG,IACHhB,EAAG,IACH8O,EAAG,KACFtW,GAAU,gBACbyxB,EAAM5yB,KAAK,qBAAuBktB,GAAkB,CAClDvjB,EAAG,GACHhB,EAAG,GACH8O,EAAG,IACFtW,GAAU,gBACbyxB,EAAM5yB,KAAK,cAAgBgtB,GAAsB,CAC/CrjB,EAAG,EACHhB,EAAG,EACH8O,EAAG,GACFtW,GAAU,gBACbyxB,EAAM5yB,KAAK,KACJ4yB,EAAM3uB,KAAK,MAGpB,IAAI0tB,GAAmB,IAAIzkB,IAAI,CAAC,UAAW,cAAe,UAAW,eAAgB,OAAQ,UACzF+mB,GAAkB,IAAIlf,IAE1B,SAAS8c,GAAoB7V,GAG3B,GAFAA,EAASA,EAAO7C,OAEZ8a,GAAgB3e,IAAI0G,GACtB,OAAOiY,GAAgBloB,IAAIiQ,GAG7B,IAAIlZ,EAAQiZ,GAAMC,GAElB,OADAiY,GAAgBtd,IAAIqF,EAAQlZ,GACrBA,EAGT,SAASwvB,GAActW,GACrB,IACE,OAAO6V,GAAoB7V,GAC3B,MAAO3Q,GACP,OAAO,MAiCX,IAAI6oB,GAAgB,kFAChBC,GAAoB,IAAIpf,IACxBqf,GAA0B,IAAIrf,IAoClC,SAASgd,GAAmB9pB,EAAO4P,EAAMiZ,EAAsBC,GAC7D,IAAIsD,EAAQ9sB,KAEZ,IACE,IAAI+sB,EAAY9K,GAAW0K,GAAejsB,GACtCssB,EAAO/K,GAAWjQ,GAAatR,GAEnC,GAAoB,IAAhBssB,EAAK/wB,QAAqC,IAArB8wB,EAAU9wB,OACjC,OAAOyE,EAGT,IAAIusB,EAAa,SAAoB1yB,GACnC,IAAI0Z,EAAQ,EACZ,OAAO1Z,EAAQwE,KAAI,SAAU5C,GAC3B,IAAI+wB,EAAaxsB,EAAMqT,QAAQ5X,EAAO8X,GAEtC,OADAA,EAAQiZ,EAAa/wB,EAAMF,OACpB,CACLE,MAAOA,EACP8X,MAAOiZ,OAKTC,EAAYF,EAAWD,GAAMjuB,KAAI,SAAUxC,GAC7C,OAAO+C,EAAQ,CACbvG,KAAM,OACLwD,MACFinB,OAAOyJ,EAAWF,GAAWhuB,KAAI,SAAUxC,GAC5C,OAAO+C,EAAQ,CACbvG,KAAM,YACLwD,OACD6wB,MAAK,SAAUrkB,EAAGmH,GACpB,OAAOnH,EAAEkL,MAAQ/D,EAAE+D,SAqIjBoZ,EAAoB,SAA2BC,EAAc1zB,GAC/D,IAKI+D,EALA4mB,EAAS+I,EAAa/I,OACtB2D,EAAUoF,EAAapF,QACvBC,EAAgBmF,EAAanF,cAC7BC,EAAUkF,EAAalF,QACvBtB,EAAQwG,EAAaxG,MA4BzB,OAzBIvC,GAAU4D,GAAiC,IAAhBvuB,EAAO2N,OAAe6gB,GAAWtB,EAAQ,GACtE9d,EAAQ,wBAA0BskB,EAAaluB,KAI/CzB,EAAS,QAHMgrB,GAAwB2E,EAAchuB,EAAQA,EAAQ,GAAI1F,GAAS,CAChFJ,MAAOioB,GAAM7nB,EAAOJ,MAAQ,GAAI,EAAG,QAEN,MACtB0uB,IAAYC,GAAiC,IAAhBvuB,EAAO2N,KACzC6gB,EACFzqB,EAAS,QAETqL,EAAQ,uBAAyBskB,EAAaluB,KAE9CzB,EAAS,QADIgrB,GAAwB2E,EAAc1zB,GACtB,MAEN,IAAhBA,EAAO2N,MAAc2gB,IAAYE,GAC1Cpf,EAAQ,4BAA8BskB,EAAaluB,KAKnDzB,EAAS,QAJMgrB,GAAwB2E,EAAchuB,EAAQA,EAAQ,GAAI1F,GAAS,CAChFN,WAAYmoB,GAAM7nB,EAAON,WAAa,GAAI,EAAG,KAC7CE,MAAOioB,GAAM7nB,EAAOJ,MAAQ,GAAI,EAAG,QAEN,MAE/BmE,EAAS,KAGJA,GAGL4vB,EAAc,GACdC,EAAU,EAmBd,OAlBAL,EAAUpvB,SAAQ,SAAUmG,EAAI3H,GAC9B,IAAIJ,EAAQ+H,EAAG/H,MACXpD,EAAOmL,EAAGnL,KACV00B,EAAavpB,EAAG+P,MAChByZ,EAAcF,EACd1C,EAAW2C,EAAatxB,EAAMF,OAClCuxB,EAAU1C,EACVyC,EAAY90B,MAAK,WACf,OAAOiI,EAAMwT,UAAUwZ,EAAaD,MAEtCF,EAAY90B,KAAc,QAATM,EAlII,SAA0B40B,GAC/C,IAAIzpB,EAEJ,GAxHN,SAA2B0pB,EAAcC,GACvC,IAAKD,GAAqC,IAArBC,EAAU5xB,OAC7B,OAAO,EAGT,GAAI4xB,EAAUld,MAAK,SAAUjR,GAC3B,MAAa,MAANA,KAEP,OAAO,EAiBT,IAdA,IAAIouB,EAAgBF,EAAahxB,MAAM,SAEnCmxB,EAAU,SAAiBxxB,GAC7B,IAAIyxB,EAAkBH,EAAUtxB,GAEhC,GAAIuxB,EAAcnd,MAAK,SAAUjR,GAC/B,OAAOA,IAAMsuB,KAEb,MAAO,CACLttB,OAAO,IAKJnE,EAAI,EAAGA,EAAIsxB,EAAU5xB,OAAQM,IAAK,CACzC,IAAI0xB,EAAUF,EAAQxxB,GAEtB,GAAuB,iBAAZ0xB,EAAsB,OAAOA,EAAQvtB,MAGlD,OAAO,EAyFCwtB,CAAkB5d,EAAKsd,aAAcrE,GACvC,OAAO,KAGT,IAAIlxB,EAAM6Z,GAAeyb,GACrBQ,EAAmB7d,EAAK6d,iBACxBC,EAAUD,EAAiBze,KAAO0C,GAAe+b,EAAiBze,OAA+C,QAArCxL,EAAKiqB,EAAiBE,iBAA8B,IAAPnqB,OAAgB,EAASA,EAAGoqB,UAAYhG,SAASjW,OAE1Kkc,EAAgB,SADpBl2B,EAAM2X,GAAeoe,EAAS/1B,IACO,KACrC,OAAO,SAAUuB,GACf,OAAOqG,EAAU6sB,OAAO,OAAQ,GAAQ,WACtC,IAAIQ,EAAckB,EAClB,OAAOvtB,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EACH,OAAKsrB,GAAkB7e,IAAI1V,IAC3Bi1B,EAAeV,GAAkBpoB,IAAInM,GAC9B,CAAC,EAAG,IAF6B,CAAC,EAAG,GAI9C,KAAK,EAGH,OAFA6L,EAAG1C,KAAK/I,KAAK,CAAC,EAAG,EAAE,CAAE,IAEhBo0B,GAAwB9e,IAAI1V,IACjCm2B,EAAa3B,GAAwBroB,IAAInM,GAClC,CAAC,EAAG,IAAIiI,SAAQ,SAAUC,GAC/B,OAAOiuB,EAAW/1B,KAAK8H,QAHqB,CAAC,EAAG,GAMpD,KAAK,EAGH,OAFA+sB,EAAeppB,EAAG3C,QAMX,CAAC,EAAG,GAHF,CAAC,EAAG,MAKf,KAAK,EAEH,OADAsrB,GAAwBzd,IAAI/W,EAAK,IAC1B,CAAC,EAAGguB,GAAgBhuB,IAE7B,KAAK,EACHi1B,EAAeppB,EAAG3C,OAClBqrB,GAAkBxd,IAAI/W,EAAKi1B,GAC3BT,GAAwBroB,IAAInM,GAAK0F,SAAQ,SAAUwC,GACjD,OAAOA,EAAQ+sB,MAEjBT,GAAwB3f,OAAO7U,GAC/B6L,EAAG5C,MAAQ,EAEb,KAAK,EACH,OAAIkoB,IACK,CAAC,EAAG,MAGN,CAAC,EAAG,GAEb,KAAK,EAWH,OATAvgB,EADQ/E,EAAG3C,QAGPsrB,GAAwB9e,IAAI1V,KAC9Bw0B,GAAwBroB,IAAInM,GAAK0F,SAAQ,SAAUwC,GACjD,OAAOA,EAAQ,SAEjBssB,GAAwB3f,OAAO7U,IAG1B,CAAC,EAAGk2B,GAEb,KAAK,EAEH,MAAO,CAAC,EADOlB,EAAkBC,EAAc1zB,IAAW20B,WAwDlCE,CAAiBtyB,GAlLzB,SAA+BuyB,GACzD,IAAIvyB,EAAQuyB,EAASvyB,MAAM,2BACvBpD,EAAOoD,EAAM,GACbrD,EAAUqD,EAAM,GAEhBwyB,EAAiB,kDACjBhyB,EAAQslB,GAFK,iEAEkBnpB,EAAS,GAAGiG,KAAI,SAAU6vB,GAE3D,IAAIzL,EAAM4H,GADV6D,EAAOA,EAAKhd,QAGZ,GAAIuR,EACF,OAAO,SAAUvpB,GACf,OAAOgsB,GAAoBzC,EAAKvpB,IAIpC,IAAIi1B,EAAQD,EAAKE,YAAY,KAG7B,GAFA3L,EAAM4H,GAAc6D,EAAK1a,UAAU,EAAG2a,IAGpC,OAAO,SAAUj1B,GACf,OAAOgsB,GAAoBzC,EAAKvpB,GAAU,IAAMg1B,EAAK1a,UAAU2a,EAAQ,IAI3E,IAAIE,EAAiBH,EAAKzyB,MAAMwyB,GAEhC,OAAII,IACF5L,EAAM4H,GAAcgE,EAAe,KAG1B,SAAUn1B,GACf,OAAOm1B,EAAe,GAAK,KAAOA,EAAe,GAAKA,EAAe,GAAK,KAAO,IAAMnJ,GAAoBzC,EAAKvpB,GAAU,KAKzH,WACL,OAAOg1B,MAGX,OAAO,SAAUh1B,GACf,OAAOb,EAAO,IAAM4D,EAAMoC,KAAI,SAAUksB,GACtC,OAAOA,EAAOrxB,MACb8C,KAAK,MAAQ,KAsI0CsyB,CAAsB7yB,IAE9EI,IAAM4wB,EAAUlxB,OAAS,GAC3BsxB,EAAY90B,MAAK,WACf,OAAOiI,EAAMwT,UAAU4W,SAItB,SAAUlxB,GACf,IAAIq1B,EAAU1B,EAAY3zB,OAAO8vB,SAAS3qB,KAAI,SAAUksB,GACtD,OAAOA,EAAOrxB,MAGhB,OAAIq1B,EAAQte,MAAK,SAAUvO,GACzB,OAAOA,aAAa9B,WAEbA,QAAQ4uB,IAAID,GAASjuB,MAAK,SAAUmuB,GACzC,OAAOA,EAAazyB,KAAK,OAItBuyB,EAAQvyB,KAAK,KAEtB,MAAOoH,GAEP,OADAmF,EAAQ,4BAA8BvI,EAAOoD,GACtC,MAkDX,SAASsrB,KACP1C,GAAgBtf,QApyChByV,GAAuBzV,QACvB0V,GAAkB1V,QAqyClBwf,GAAkBxf,QAClB+b,KACA0D,GAAwBzf,QAG1B,IA4jBIkc,GAAiB,IAvjBA,WACnB,SAAS+F,IACPrvB,KAAKsvB,SAAW,IAAI9hB,IACpBxN,KAAKuvB,WAAa,GAClBvvB,KAAKwvB,YAAc,IAAI7pB,IACvB3F,KAAKyvB,QAAU,IAAIjiB,IACnBxN,KAAK0vB,iBAAmB,IAAI/pB,IAC5B3F,KAAK2vB,cAAgB,IAAIhqB,IACzB3F,KAAK4vB,cAAgB,IAAIjqB,IACzB3F,KAAK6vB,gBAAkB,IAAIriB,IAC3BxN,KAAK8vB,gBAAkB,IAAInqB,IAC3B3F,KAAK+vB,wBAA0B,IAAIviB,IACnCxN,KAAKgwB,kBAAoB,IAAIxiB,IAwiB/B,OAriBA6hB,EAAexvB,UAAUuN,MAAQ,WAC/BpN,KAAKsvB,SAASliB,QACdpN,KAAKuvB,WAAWU,OAAO,GACvBjwB,KAAKwvB,YAAYpiB,QACjBpN,KAAKyvB,QAAQriB,QACbpN,KAAK0vB,iBAAiBtiB,QACtBpN,KAAK2vB,cAAcviB,QACnBpN,KAAK4vB,cAAcxiB,QACnBpN,KAAK6vB,gBAAgBziB,QACrBpN,KAAK8vB,gBAAgB1iB,QACrBpN,KAAK+vB,wBAAwB3iB,QAC7BpN,KAAKgwB,kBAAkB5iB,SAGzBiiB,EAAexvB,UAAUqwB,UAAY,SAAUlG,EAASmG,GACtD,OAAOnwB,KAAKsvB,SAASvhB,IAAIic,KAAahqB,KAAKsvB,SAAS9qB,IAAIwlB,GAAWmG,GAAW,GAGhFd,EAAexvB,UAAUuwB,oBAAsB,SAAUhgB,GACvDpQ,KAAKuvB,WAAW92B,KAAK2X,IAGvBif,EAAexvB,UAAUwwB,4BAA8B,WACrD,IAAIvD,EAAQ9sB,KAEZA,KAAK8vB,gBAAgB1iB,QACrBpN,KAAK6vB,gBAAkB,IAAIriB,IAAIxN,KAAKsvB,UACpCtvB,KAAKswB,uBACLtwB,KAAKuvB,WAAWxxB,SAAQ,SAAUqS,GAChC,OAAO0c,EAAMyD,iBAAiBngB,MAEhCpQ,KAAKuvB,WAAWxxB,SAAQ,SAAUqS,GAChC,OAAO0c,EAAM0D,qBAAqBpgB,MAEpCpQ,KAAKuvB,WAAWU,OAAO,GACvBjwB,KAAKywB,2BACLzwB,KAAKyvB,QAAQ1xB,SAAQ,SAAU2yB,EAAM7uB,GACnC6uB,EAAK3yB,SAAQ,SAAUqE,GACjB0qB,EAAMwC,SAASvhB,IAAIlM,IACrBirB,EAAM6D,oBAAoBvuB,EAAG0qB,EAAMwC,SAAS9qB,IAAI3C,UAItD7B,KAAK0vB,iBAAiB3xB,SAAQ,SAAU8D,GAClCirB,EAAM6C,cAAc5hB,IAAIlM,IAC1BirB,EAAM4C,iBAAiBxiB,OAAOrL,GAE9BirB,EAAM6C,cAAcziB,OAAOrL,GAE3BirB,EAAM6D,oBAAoB9uB,EArEX,IAsENirB,EAAMoD,UAAUruB,EAAG+uB,GAC5B9D,EAAM4C,iBAAiBxiB,OAAOrL,GAE9BirB,EAAM8C,cAAclpB,IAAI7E,MAG5B7B,KAAK2vB,cAAc5xB,SAAQ,SAAU8D,GAG7B,MAFSirB,EAAM+D,WAAWhvB,GAAG,SAAUivB,GAC3C,OAAOhE,EAAM4C,iBAAiB3hB,IAAI+iB,IAAQhE,EAAMoD,UAAUY,EAAKC,MAI/DjE,EAAMkE,eAAenvB,GAAG,SAAUivB,GAChChE,EAAM6D,oBAAoBG,EAnFb,MAqFNhE,EAAMoD,UAAUruB,EAAG+uB,GAC5B9D,EAAM6C,cAAcziB,OAAOrL,GAE3BirB,EAAM8C,cAAclpB,IAAI7E,MAG5B7B,KAAK8vB,gBAAgB/xB,SAAQ,SAAUisB,GACjC8C,EAAMiD,wBAAwBhiB,IAAIic,IACpC8C,EAAMiD,wBAAwBvrB,IAAIwlB,GAASjsB,SAAQ,SAAU0I,GAC3DA,UAINzG,KAAK8vB,gBAAgB1iB,SAGvBiiB,EAAexvB,UAAUkqB,uBAAyB,SAAUkH,GAC1D,IAAInE,EAAQ9sB,KAEZ,OAAO,SAAU2iB,GACf,IAAIqH,EAAUiH,EAAQjH,QAClBJ,EAAcqH,EAAQrH,YACtBtZ,EAAO2gB,EAAQ3gB,KACfwZ,EAAsBmH,EAAQnH,oBAC9BN,EAAcyH,EAAQzH,YAEtB0H,EAAkB,WACpB,IAAIC,EAAe,GAEfC,EAAmB,SAA0BjB,EAASkB,EAAgBC,GACxE,GAAKxE,EAAMoD,UAAUlG,EAASmG,GAA9B,CAIA,IACIoB,EADAr4B,EAAWm4B,EAAerH,GAG9B,GAAIwH,GAAe5H,GACjB,GAAI6H,GAAsB7H,GAAc,CACtC,IAAIlpB,EAAQgxB,GAAgB9H,EAAakD,EAAMkD,mBAE1CtvB,IACHA,EA/HO,IA+HCyvB,EAA+B,UAAY,WAGrDoB,EAAgBD,EAAc5wB,EAAOiiB,QAErC4O,EAAgBI,GAAyB/H,GAAa,SAAU/nB,GAC9D,OAAOwvB,EAAexvB,MACrB,SAAU+vB,GACX,OAAON,EAAcM,EAAUjP,WAInC4O,EAAgBD,EAAc1H,EAAajH,GAG7CwO,EAAa14B,KAAK,CAChBS,SAAUA,EACVwH,MAAO6wB,MAQX,GAJAH,EApJe,EAoJoBS,GAAyBC,IAC5DV,EApJiB,EAoJoBW,GAA2BC,IAChEZ,EApJmB,EAoJoBa,GAA6BC,IAEhEpF,EAAMoD,UAAUlG,EArJP,GAqJiC,CAC5C,IAAI9wB,EAAWi5B,GAAsBnI,GACjCuH,EAAgB3H,EAEhB4H,GAAe5H,KACjB2H,EAAgBI,GAAyB/H,GAAa,SAAU/nB,GAC9D,OAAOgwB,GAAwBhwB,MAC9B,SAAU+vB,GACX,OAAOE,GAAiBF,EAAUjP,OAItC,IAAIyP,EAAa5H,GAAmB+G,EAAejhB,EAAMwZ,EAAqBN,GAC9E+H,EAAsC,mBAAfa,EAA4BA,EAAWzP,GAASyP,EACvEjB,EAAa14B,KAAK,CAChBS,SAAUA,EACVwH,MAAO6wB,IAIX,OAAOJ,GAGLvjB,EAAY,IAAIjI,IAmBpB,MAAO,CACLwrB,aAAcD,IACdmB,aAAc,CACZxrB,YApBc,SAAqBwrB,GACrC,IAAI5rB,EAAW,WACb,IAAI6rB,EAAOpB,IACXmB,EAAaC,IAGf1kB,EAAUlH,IAAID,GAEdqmB,EAAMyF,0BAA0BvI,EAASvjB,IAavC+rB,gBAVkB,WACpB5kB,EAAU7P,SAAQ,SAAU0I,GAC1BqmB,EAAM2F,mCAAmCzI,EAASvjB,WAc1D4oB,EAAexvB,UAAUqqB,2BAA6B,SAAUhxB,EAAU0wB,GACxE,IAAIkD,EAAQ9sB,KAEZ,GAAI4pB,EAAYztB,MAAM,qBAAsB,CAC1C,IAAIu2B,EAASx5B,EAASmK,WAAW,cAC7BsvB,EAAwB,UAAbz5B,EACf,OAAO,SAAUypB,GACf,IAAIjiB,EAAQgxB,GAAgB9H,EAAakD,EAAMkD,mBAO/C,OALKtvB,IACHA,EAAQgyB,EAAS,UAAY,YAGhBA,EAASZ,GAAmBa,EAAWX,GAAqBE,IAC3DxxB,EAAOiiB,IAI3B,GAAiB,qBAAbzpB,EACF,OAAO,SAAUypB,GACf,OAAOgP,GAAyB/H,GAAa,SAAU/nB,GACrD,OAAOgwB,GAAwBhwB,MAC9B,SAAU+vB,GACX,OAAOE,GAAiBF,EAAUjP,OAKxC,GAAiB,UAAbzpB,EACF,OAAO,SAAUypB,GACf,OAAOgP,GAAyB/H,GAAa,SAAU/nB,GACrD,OAAOkwB,GAA0BlwB,MAChC,SAAU+vB,GACX,OAAOI,GAAmBJ,EAAUjP,OAK1C,GAAiB,eAAbzpB,GAA0C,qBAAbA,GAAgD,eAAbA,EAClE,OAAO,SAAUypB,GACf,IAAIiQ,EAAc,IAAIjtB,IAElBslB,EAAS,WACX,OAAO0G,GAAyB/H,GAAa,SAAU/nB,GACrD,OAAIirB,EAAMoD,UAAUruB,EAxPT,GAyPFgwB,GAAwBhwB,GAG7BirB,EAAMoD,UAAUruB,EAzPX,GA0PAswB,GAAsBtwB,IAG/B+wB,EAAYlsB,IAAI7E,GACTA,MACN,SAAU+vB,GACX,OAAOE,GAAiBF,EAAUjP,OAIlCkQ,EAAW5H,IAEf,OAAI2H,EAAYvjB,KAAO,EACd,IAAI/O,SAAQ,SAAUC,GAC3B,IAAIuyB,EAAkBF,EAAY/0B,SAAS+C,OAAOF,MASlDosB,EAAMyF,0BAA0BO,GAPjB,SAASrsB,IACtBqmB,EAAM2F,mCAAmCK,EAAiBrsB,GAE1D,IAAIssB,EAAW9H,IACf1qB,EAAQwyB,SAOPF,GAIX,GAAI35B,EAASmK,WAAW,WAAanK,EAASmK,WAAW,WAAY,CACnE,GAAIumB,EAAYtlB,SAAS,KAAM,CAC7B,IAAI0uB,EAAiBpJ,EAAYztB,MAAM,mBAEvC,GAAI62B,EAAgB,CAClB,IAAIxF,EAAUwF,EAAe/e,MAC7B,OAAO,SAAU0O,GAGf,OAFY+O,GAAgB9H,EAAakD,EAAMkD,mBAUxC,GAJSpG,EAAY1V,UAAU,EAAGsZ,GAG1B0E,GADAR,GADH9H,EAAY1V,UAAUsZ,EAAS5D,EAAY3tB,QACjB6wB,EAAMkD,mBACErN,GANrCiH,IAYf,OAAO,SAAUjH,GACf,OAAOgP,GAAyB/H,GAAa,SAAU/nB,GACrD,OAAOowB,GAA4BpwB,MAClC,SAAU+vB,GACX,OAAOI,GAAmBJ,EAAUjP,OAK1C,OAAO,MAGT0M,EAAexvB,UAAU0yB,0BAA4B,SAAUvI,EAASvjB,GACjEzG,KAAK+vB,wBAAwBhiB,IAAIic,IACpChqB,KAAK+vB,wBAAwB3gB,IAAI4a,EAAS,IAAIrkB,KAGhD3F,KAAK+vB,wBAAwBvrB,IAAIwlB,GAAStjB,IAAID,IAGhD4oB,EAAexvB,UAAU4yB,mCAAqC,SAAUzI,EAASvjB,GAC3EzG,KAAK+vB,wBAAwBhiB,IAAIic,IACnChqB,KAAK+vB,wBAAwBvrB,IAAIwlB,GAAS9c,OAAOzG,IAIrD4oB,EAAexvB,UAAU0wB,iBAAmB,SAAUngB,GACpD,IAAI0c,EAAQ9sB,MAiWhB,SAA0BoQ,EAAOxO,GAC/BuO,GAAgBC,GAAO,SAAUE,GAC/BA,EAAKoB,OAASD,GAAuBnB,EAAKoB,OAAO,SAAUxY,EAAUwH,GAC/DxH,EAASmK,WAAW,OACtBzB,EAAS1I,EAAUwH,SAnWvBuyB,CAAiB7iB,GAAO,SAAU4Z,EAAStpB,GACzCosB,EAAMoG,gBAAgBlJ,EAAStpB,OAInC2uB,EAAexvB,UAAUywB,qBAAuB,WAC9C,IAAIxD,EAAQ9sB,KAEZyR,GAAuB7N,SAASuvB,gBAAgBzhB,OAAO,SAAUxY,EAAUwH,GACrE0yB,GAAWl6B,IACb4zB,EAAMoG,gBAAgBh6B,EAAUwH,OAKtC2uB,EAAexvB,UAAUqzB,gBAAkB,SAAUlJ,EAAStpB,GAC5DV,KAAKgwB,kBAAkB5gB,IAAI4a,EAAStpB,GAEhC8wB,GAAe9wB,IAAU+wB,GAAsB/wB,KACjDV,KAAK0vB,iBAAiBhpB,IAAIsjB,GAC1BhqB,KAAKwvB,YAAY9oB,IAAIsjB,IAGnBhqB,KAAKwvB,YAAYzhB,IAAIic,KAIzBhqB,KAAKwvB,YAAY9oB,IAAIsjB,GACTe,GAAcrqB,GAGxBV,KAAK0vB,iBAAiBhpB,IAAIsjB,IACjBtpB,EAAMsC,SAAS,SAAWtC,EAAMsC,SAAS,qBAAuBtC,EAAMsC,SAAS,sBACxFhD,KAAK2wB,oBAAoB3G,EA7WV,KAiXnBqF,EAAexvB,UAAU8wB,oBAAsB,SAAU3G,EAASmG,GAChE,IAAIkD,EAAcrzB,KAAK6vB,gBAAgBrrB,IAAIwlB,IAAY,EAEnDsJ,GADctzB,KAAKsvB,SAAS9qB,IAAIwlB,IAAY,GACpBmG,EAC5BnwB,KAAKsvB,SAASlgB,IAAI4a,EAASsJ,IAEvBA,IAAYD,GAAerzB,KAAK4vB,cAAc7hB,IAAIic,MACpDhqB,KAAK8vB,gBAAgBppB,IAAIsjB,GACzBhqB,KAAK4vB,cAAc1iB,OAAO8c,IAG5BhqB,KAAK0vB,iBAAiBxiB,OAAO8c,GAC7BhqB,KAAK2vB,cAAcziB,OAAO8c,IAG5BqF,EAAexvB,UAAU2wB,qBAAuB,SAAUpgB,GACxD,IAAI0c,EAAQ9sB,MAoThB,SAA8BoQ,EAAOxO,GACnCuO,GAAgBC,GAAO,SAAUE,GAC/BA,EAAKoB,OAASD,GAAuBnB,EAAKoB,OAAO,SAAUxY,EAAUwH,GAC/D8wB,GAAe9wB,IACjBkB,EAAS1I,EAAUwH,SAtTvB6yB,CAAqBnjB,GAAO,SAAUlX,EAAUwH,GAC9CosB,EAAM0G,oBAAoBt6B,EAAUwH,OAIxC2uB,EAAexvB,UAAU4wB,yBAA2B,WAClD,IAAI3D,EAAQ9sB,KAEZyR,GAAuB7N,SAASuvB,gBAAgBzhB,OAAO,SAAUxY,EAAUwH,GACrE8wB,GAAe9wB,IACjBosB,EAAM0G,oBAAoBt6B,EAAUwH,OAK1C2uB,EAAexvB,UAAU2zB,oBAAsB,SAAUt6B,EAAUwH,GACjE,IAAIosB,EAAQ9sB,KAERozB,GAAWl6B,GACb8G,KAAKyzB,eAAe/yB,GAAO,SAAUowB,GAC9BhE,EAAM2C,QAAQ1hB,IAAI7U,IACrB4zB,EAAM2C,QAAQrgB,IAAIlW,EAAU,IAAIyM,KAGlCmnB,EAAM2C,QAAQjrB,IAAItL,GAAUwN,IAAIoqB,MAEZ,qBAAb53B,GAAgD,eAAbA,EAC5C8G,KAAKyzB,eAAe/yB,GAAO,SAAUmB,GACnC,OAAOirB,EAAM6D,oBAAoB9uB,EAlalB,MAoaK,UAAb3I,EACT8G,KAAKyzB,eAAe/yB,GAAO,SAAUmB,GACnC,OAAOirB,EAAM6D,oBAAoB9uB,EArahB,MAuaV3I,EAASmK,WAAW,WAAanK,EAASmK,WAAW,WAC9DrD,KAAKyzB,eAAe/yB,GAAO,SAAUmB,GACnC,OAAOirB,EAAM6D,oBAAoB9uB,EAxad,MA0aC,eAAb3I,GAA0C,qBAAbA,GACtC8G,KAAKyzB,eAAe/yB,GAAO,SAAUmB,GACnC,IAAIirB,EAAMoD,UAAUruB,EAAG+uB,GAAvB,CAIA,IAAI8C,EAEE,MAFU5G,EAAM+D,WAAWhvB,GAAG,SAAUivB,GAC5C,OAAOhE,EAAM4C,iBAAiB3hB,IAAI+iB,IAAQhE,EAAMoD,UAAUY,EAAKC,MAGjEjE,EAAMkE,eAAenvB,GAAG,SAAUivB,GAC5B4C,EACF5G,EAAM6D,oBAAoBG,EAxbf,GA0bXhE,EAAM6C,cAAcjpB,IAAIoqB,WAOlCzB,EAAexvB,UAAU4zB,eAAiB,SAAU/yB,EAAOkB,GACzD,IAAI+xB,EAAU,IAAIhuB,KAgQtB,SAAgCjF,EAAOkB,GACrC+vB,GAAyBjxB,GAAO,SAAUspB,GAExC,OADApoB,EAASooB,GACFA,KAlQP4J,CAAuBlzB,GAAO,SAAUmB,GACtC,OAAO8xB,EAAQjtB,IAAI7E,MAErB8xB,EAAQ51B,SAAQ,SAAU8D,GACxB,OAAOD,EAASC,OAIpBwtB,EAAexvB,UAAUgxB,WAAa,SAAU7G,EAASpoB,EAAUiyB,GACjE,IAAIvrB,EAAKpE,EAMT,QAJc,IAAV2vB,IACFA,EAAQ,IAAIluB,KAGVkuB,EAAM9lB,IAAIic,GACZ,OAAO,KAMT,GAHA6J,EAAMntB,IAAIsjB,GACGpoB,EAASooB,GAGpB,OAAOA,EAGT,IAAI0G,EAAO1wB,KAAKyvB,QAAQjrB,IAAIwlB,GAE5B,IAAK0G,GAAsB,IAAdA,EAAKrhB,KAChB,OAAO,KAGT,IACE,IAAK,IAAIykB,EAAS9xB,EAAS0uB,GAAOqD,EAAWD,EAAOlzB,QAASmzB,EAAShzB,KAAMgzB,EAAWD,EAAOlzB,OAAQ,CACpG,IAAIkwB,EAAMiD,EAASrzB,MACfszB,EAAQh0B,KAAK6wB,WAAWC,EAAKlvB,EAAUiyB,GAE3C,GAAIG,EACF,OAAOA,GAGX,MAAOrrB,GACPL,EAAM,CACJhG,MAAOqG,GAET,QACA,IACMorB,IAAaA,EAAShzB,OAASmD,EAAK4vB,EAAOlrB,SAAS1E,EAAGnH,KAAK+2B,GAChE,QACA,GAAIxrB,EAAK,MAAMA,EAAIhG,OAIvB,OAAO,MAGT+sB,EAAexvB,UAAUmxB,eAAiB,SAAUhH,EAASpoB,GAC3D5B,KAAK6wB,WAAW7G,GAAS,SAAU8G,GAEjC,OADAlvB,EAASkvB,IACF,MAIXzB,EAAexvB,UAAUo0B,YAAc,SAAUC,EAAcvR,GAC7D,IAAIwR,EAAKjwB,EAEL4oB,EAAQ9sB,KAERo0B,EAAQF,EAAaE,MAErBA,EAAMvjB,SAAS5U,OAAS,GAC1Bm4B,EAAMC,WAAW,GAGnB,IAAIlD,EAAe,IAAI3jB,IACvBiE,GAAuB7N,SAASuvB,gBAAgBzhB,OAAO,SAAUxY,EAAUwH,GACrE0yB,GAAWl6B,KACT4zB,EAAMoD,UAAUh3B,EAhhBL,IAihBbi4B,EAAa/hB,IAAIyiB,GAAwB34B,GAAW44B,GAAiBpxB,EAAOiiB,IAG1EmK,EAAMoD,UAAUh3B,EAnhBH,IAohBfi4B,EAAa/hB,IAAI2iB,GAA0B74B,GAAW84B,GAAmBtxB,EAAOiiB,IAG9EmK,EAAMoD,UAAUh3B,EAthBD,IAuhBjBi4B,EAAa/hB,IAAI6iB,GAA4B/4B,GAAWg5B,GAAqBxxB,EAAOiiB,QAI1F,IAAI2R,EAAW,GACfA,EAAS77B,KAAK,WAEd,IACE,IAAK,IAAI87B,EAAiBvyB,EAASmvB,GAAeqD,EAAmBD,EAAe3zB,QAAS4zB,EAAiBzzB,KAAMyzB,EAAmBD,EAAe3zB,OAAQ,CAC5J,IAAIuF,EAAKhE,EAAOqyB,EAAiB9zB,MAAO,GACpCxH,EAAWiN,EAAG,GACdzF,EAAQyF,EAAG,GAEfmuB,EAAS77B,KAAK,OAASS,EAAW,KAAOwH,EAAQ,MAEnD,MAAO+zB,GACPN,EAAM,CACJ7xB,MAAOmyB,GAET,QACA,IACMD,IAAqBA,EAAiBzzB,OAASmD,EAAKqwB,EAAe3rB,SAAS1E,EAAGnH,KAAKw3B,GACxF,QACA,GAAIJ,EAAK,MAAMA,EAAI7xB,OAIvBgyB,EAAS77B,KAAK,KACd,IAAIoZ,EAAUyiB,EAAS53B,KAAK,MAC5B03B,EAAMM,WAAW7iB,IAGZwd,EApjBY,IAyjBrB,SAASsF,GAAiBxS,EAAOyS,QACX,IAAhBA,IACFA,EAAc,GAGhB,IAAIhqB,EAAQuX,EAAMpO,QAAQ,OAAQ6gB,GAElC,GAAIhqB,GAAS,EAAG,CACd,IAAI+K,EA3/DR,SAA6BwM,EAAO0S,QACT,IAArBA,IACFA,EAAmB,GAOrB,IAJA,IAAI54B,EAASkmB,EAAMlmB,OACf64B,EAAQ,EACRC,GAAkB,EAEbx4B,EAAIs4B,EAAkBt4B,EAAIN,EAAQM,IACzC,GAAc,IAAVu4B,EAAa,CAGf,IAFIE,EAAY7S,EAAMpO,QAAQ,IAAKxX,IAEnB,EACd,MAGFw4B,EAAiBC,EACjBF,IACAv4B,EAAIy4B,MACC,CACL,IAMIA,EANAC,EAAe9S,EAAMpO,QAAQ,IAAKxX,GAEtC,GAAI04B,EAAe,EACjB,MAKF,IAFID,EAAY7S,EAAMpO,QAAQ,IAAKxX,IAEnB,GAAK04B,EAAeD,EAAW,CAG7C,GAAc,KAFdF,EAGE,MAAO,CACLlqB,MAAOmqB,EACPG,IAAKD,EAAe,GAIxB14B,EAAI04B,OAEJH,IACAv4B,EAAIy4B,EAKV,OAAO,KA48DOG,CAAoBhT,EAAOvX,EAAQ,GAE/C,OAAI+K,EACK,CACL/K,MAAOA,EACPsqB,IAAKvf,EAAMuf,KAIR,MAuBX,SAASE,GAAwBjT,EAAOkT,GACtC,IAAI96B,EApBN,SAA6B4nB,GAK3B,IAJA,IAEIxM,EAFA2f,EAAS,GACT/4B,EAAI,EAGDoZ,EAAQgf,GAAiBxS,EAAO5lB,IAAI,CACzC,IAAIqO,EAAQ+K,EAAM/K,MACdsqB,EAAMvf,EAAMuf,IAChBI,EAAO78B,KAAK,CACVmS,MAAOA,EACPsqB,IAAKA,EACLx0B,MAAOyhB,EAAMjO,UAAUtJ,EAAOsqB,KAEhC34B,EAAIoZ,EAAMuf,IAAM,EAGlB,OAAOI,EAIOC,CAAoBpT,GAC9BqT,EAAej7B,EAAQ0B,OAE3B,GAAqB,IAAjBu5B,EACF,OAAOrT,EAGT,IAAIsT,EAActT,EAAMlmB,OACpBy5B,EAAen7B,EAAQwE,KAAI,SAAUmD,GACvC,OAAOmzB,EAASnzB,EAAExB,UAEhB/D,EAAQ,GACZA,EAAMlE,KAAK0pB,EAAMjO,UAAU,EAAG3Z,EAAQ,GAAGqQ,QAEzC,IAAK,IAAIrO,EAAI,EAAGA,EAAIi5B,EAAcj5B,IAAK,CACrCI,EAAMlE,KAAKi9B,EAAan5B,IACxB,IAAIqO,EAAQrQ,EAAQgC,GAAG24B,IACnBA,EAAM34B,EAAIi5B,EAAe,EAAIj7B,EAAQgC,EAAI,GAAGqO,MAAQ6qB,EACxD94B,EAAMlE,KAAK0pB,EAAMjO,UAAUtJ,EAAOsqB,IAGpC,OAAOv4B,EAAMD,KAAK,IAGpB,SAASi5B,GAA2Bx5B,GAClC,IACI7D,EACAs5B,EAFAgE,EAAaz5B,EAAM4X,QAAQ,KAY/B,OARI6hB,GAAc,GAChBt9B,EAAO6D,EAAM+X,UAAU,EAAG0hB,GAAYhkB,OACtCggB,EAAWz1B,EAAM+X,UAAU0hB,EAAa,EAAGz5B,EAAMF,OAAS,GAAG2V,SAE7DtZ,EAAO6D,EAAM+X,UAAU,EAAG/X,EAAMF,OAAS,GACzC21B,EAAW,IAGN,CACLt5B,KAAMA,EACNs5B,SAAUA,GAId,SAASD,GAAyBjxB,EAAOm1B,EAAcC,GAyBrD,OAAOV,GAAwB10B,GAxBX,SAAuBvE,GACzC,IAAI+H,EAAKyxB,GAA2Bx5B,GAChC7D,EAAO4L,EAAG5L,KACVs5B,EAAW1tB,EAAG0tB,SAEdmE,EAAUF,EAAav9B,GAE3B,OAAKs5B,EAcE,OAASmE,EAAU,MARtBvE,GAAeI,GACHD,GAAyBC,EAAUiE,EAAcC,GACtDA,EACKA,EAAiBlE,GAEjBA,GAG+B,IAbtC,OAASmE,EAAU,OA8ChC,SAASlE,GAAwBv5B,GAC/B,MAAO,kBAAoBA,EAG7B,SAASy5B,GAA0Bz5B,GACjC,MAAO,oBAAsBA,EAG/B,SAAS25B,GAA4B35B,GACnC,MAAO,sBAAwBA,EAGjC,SAAS65B,GAAsB75B,GAC7B,MAAO,qBAAuBA,EAGhC,SAAS86B,GAAWl6B,GAClB,OAAOA,EAASmK,WAAW,MAG7B,SAASmuB,GAAe9wB,GACtB,OAAOA,EAAMsC,SAAS,QAGxB,SAASyuB,GAAsB/wB,GAC7B,OAAOA,EAAMvE,MAAM,qBAGrB,SAAS21B,GAAiBv2B,EAAOonB,GAC/B,IAAIQ,EAAM4H,GAAcxvB,GACxB,OAAO4nB,EAAM6B,GAAsB7B,EAAKR,GAASpnB,EAGnD,SAASy2B,GAAmBz2B,EAAOonB,GACjC,IAAIQ,EAAM4H,GAAcxvB,GACxB,OAAO4nB,EAAMsC,GAAsBtC,EAAKR,GAASpnB,EAGnD,SAAS22B,GAAqB32B,EAAOonB,GACnC,IAAIQ,EAAM4H,GAAcxvB,GACxB,OAAO4nB,EAAMwC,GAAkBxC,EAAKR,GAASpnB,EAG/C,SAASm2B,GAAgBsE,EAAQC,EAAWpC,QAC5B,IAAVA,IACFA,EAAQ,IAAIluB,KAGd,IAAIuwB,GAAwB,EAgCxBC,EAAWf,GAAwBY,GA9BnB,SAAuB75B,GACzC,IAAI+H,EAAKyxB,GAA2Bx5B,GAChC7D,EAAO4L,EAAG5L,KACVs5B,EAAW1tB,EAAG0tB,SAElB,GAAIiC,EAAM9lB,IAAIzV,GAEZ,OADA49B,GAAwB,EACjB,KAGTrC,EAAMntB,IAAIpO,GACV,IAAI89B,EAAWH,EAAUzxB,IAAIlM,IAASs5B,EAClCyE,EAAW,KAUf,OARID,IAEAC,EADE7E,GAAe4E,GACN1E,GAAgB0E,EAAUH,EAAWpC,GAErCuC,GAIVC,IACHH,GAAwB,EACjB,SAQX,OAAIA,EACK,KAGFC,EAGT,IAAIG,GAAY,CACd,mBAAoB,CAClBC,WAAY,8BACZC,QAAS,mBACTC,SAAU,kCAEZ,mBAAoB,CAClBF,WAAY,8BACZC,QAAS,mBACTC,SAAU,kCAEZ,eAAgB,CACdF,WAAY,6BACZC,QAAS,eACTC,SAAU,iCAEZ,sBAAuB,CACrBF,WAAY,oCACZC,QAAS,sBACTC,SAAU,wCAEZ,oBAAqB,CACnBF,WAAY,kCACZC,QAAS,oBACTC,SAAU,sCAEZ,qBAAsB,CACpBF,WAAY,mCACZC,QAAS,qBACTC,SAAU,uCAEZ,mBAAoB,CAClBF,WAAY,iCACZC,QAAS,mBACTC,SAAU,qCAEZ,aAAc,CACZF,WAAY,gCACZC,QAAS,aACTC,SAAU,oCAEZ,MAAS,CACPF,WAAY,4BACZC,QAAS,QACTC,SAAU,gCAEZ,KAAQ,CACNF,WAAY,2BACZC,QAAS,OACTC,SAAU,+BAEZ,OAAU,CACRF,WAAY,6BACZC,QAAS,SACTC,SAAU,iCAEZ,gBAAiB,CACfF,WAAY,8BACZC,QAAS,gBACTC,SAAU,kCAEZ,aAAc,CACZF,WAAY,gCACZC,QAAS,aACTC,SAAU,qCAGVC,GAAgBn3B,OAAO1B,OAAOy4B,IAC9BK,GAAqB,CAAC,QAAS,OAAQ,aAAc,SAAU,UAAW,SAC1EC,GAAwBD,GAAmB53B,KAAI,SAAU83B,GAC3D,MAAO,IAAMA,EAAO,OACnBn6B,KAAK,MAER,SAASo6B,KACP,OAAOJ,GAAc33B,KAAI,SAAUmF,GACjC,IAAIuyB,EAAWvyB,EAAGuyB,SACdF,EAAaryB,EAAGqyB,WAEpB,MAAO,CAAC,IAAME,EAAW,MAAO,KADlBvyB,EAAGsyB,QACgC,SAAWD,EAAa,gBAAiB,KAAK75B,KAAK,SACnGA,KAAK,MAiBV,IAAIq6B,GAAgB,IAAIvpB,IACpBwpB,GAAgB,IAAIxpB,IASxB,SAASypB,GAAyBhrB,EAAMirB,EAAuBC,GACzDJ,GAAchpB,IAAI9B,KACpB8qB,GAAcvyB,IAAIyH,GAAMH,aACxBkrB,GAAcxyB,IAAIyH,GAAMH,cAG1B,IAAIsrB,EAAkB,IAAIC,QAE1B,SAASC,EAAcp8B,IAhCzB,SAAgC+Q,GAC9B,IAAIgjB,EAAU,GAUd,OARIhjB,aAAgB0C,SAAW1C,EAAK1R,QAAQq8B,KAC1C3H,EAAQx2B,KAAKwT,IAGXA,aAAgB0C,SAAWpL,GAAwB0I,aAAgBzI,YAAcyI,aAAgBsrB,WACnG9+B,EAAKw2B,EAAShjB,EAAKurB,iBAAiBZ,KAG/B3H,GAsBLwI,CAAuBv8B,GAAM6C,SAAQ,SAAU25B,GACzCN,EAAgBrpB,IAAI2pB,KAIxBN,EAAgB1wB,IAAIgxB,GACpBR,EAAsBQ,OAExB1rB,EAAmB9Q,GAAM,SAAUyE,GAC7By3B,EAAgBrpB,IAAI7S,KAIxBk8B,EAAgB1wB,IAAIxL,GACpBi8B,EAAqBx3B,EAAE4M,YACvB0qB,GAAyBt3B,EAAE4M,WAAY2qB,EAAuBC,OAIlE,IAAIQ,EAAehqB,EAA4B1B,EAAM,CACnDiD,iBAAkB,SAA0BhL,GAC1BA,EAAGsK,UACTzQ,SAAQ,SAAU65B,GAC1B,OAAON,EAAcM,OAGzBtpB,gBAAiB,WACfgpB,EAAcrrB,MAGlB8qB,GAAc3nB,IAAInD,EAAM0rB,GACxB,IAAIE,EAAe,EACfjtB,EAAQ,KACRL,EAAoBd,EAAY,CAClCG,QAAS,KAEPU,EAAgBb,EAAY,CAC9BG,QAAS,IAGPxF,EAAQ,GACRyG,EAAY,KACZitB,EAA2B5uB,GAAS,SAAUgF,GAChDA,EAAUnQ,SAAQ,SAAUmE,GACtBy0B,GAAmB3zB,SAASd,EAAE61B,gBAChCb,EAAsBh1B,EAAE81B,cAI1BC,EAAe,IAAIxsB,kBAAiB,SAAUyC,GAChD,GAAIrD,EACFzG,EAAM3L,KAAKsH,MAAMqE,EAAO7B,EAAc,GAAIJ,EAAO+L,SADnD,CAKA2pB,IACA,IAAI9sB,EAAMC,KAAKD,MAEf,GAAa,MAATH,EACFA,EAAQG,OACH,GAAI8sB,GArBY,GAqBwB,CAC7C,GAAI9sB,EAAMH,EAAQL,EAUhB,OATAM,EAAYI,YAAW,WACrBL,EAAQ,KACRitB,EAAe,EACfhtB,EAAY,KACZ,IAAIqtB,EAAiB9zB,EACrBA,EAAQ,GACR0zB,EAAyBI,KACxB5tB,QACHlG,EAAM3L,KAAKsH,MAAMqE,EAAO7B,EAAc,GAAIJ,EAAO+L,KAInDtD,EAAQG,EACR8sB,EAAe,EAGjBC,EAAyB5pB,OAE3B+pB,EAAatsB,QAAQM,EAAM,CACzBksB,YAAY,EACZC,gBAAiBzB,GAAmBnT,OAAOkT,GAAc33B,KAAI,SAAUmF,GAErE,OADeA,EAAGuyB,aAGpBtnB,SAAS,IAEX6nB,GAAc5nB,IAAInD,EAAMgsB,GAc1B,IAAII,GAAmB,IAAI3qB,QACvB9S,GAAc,CAAC,aAAc,WAAY,YAAa,QAAS,QAEnE,SAAS09B,GAAuBZ,EAAI/U,GAClC,OAAOgU,GAAmB53B,KAAI,SAAU83B,GACtC,OAAOA,EAAO,KAAQa,EAAGa,aAAa1B,GAAQ,OAC7CrT,OAAO5oB,GAAYmE,KAAI,SAAUwS,GAClC,OAAOA,EAAO,KAAQoR,EAAMpR,GAAQ,QAClC7U,KAAK,KAeX,SAAS87B,GAAoBC,EAAS9V,EAAO+V,EAAuBnP,GAGlE,GAFe+O,GAAuBG,EAAS9V,KAE9B0V,GAAiB7zB,IAAIi0B,GAAtC,CAIA,IAAIE,EAAa,IAAIhzB,IAAIpG,OAAO7B,KAAK44B,KA2BrC,GAAIoC,EAAsBz8B,OAAS,GA9CrC,SAAiCw8B,EAAS5K,GACxC,IAAK,IAAItxB,EAAI,EAAGiM,EAAMqlB,EAAU5xB,OAAQM,EAAIiM,EAAKjM,IAAK,CACpD,IAAIq8B,EAAmB/K,EAAUtxB,GAEjC,GAAIk8B,EAAQl+B,QAAQq+B,GAClB,OAAO,EAIX,OAAO,EAsCDC,CAAwBJ,EAASC,GACnCC,EAAW56B,SAAQ,SAAUy4B,GAC3BiC,EAAQK,gBAAgBxC,GAAUE,GAASC,iBAHjD,CA6BA,GApBIgC,EAAQM,aAAa,eACnBr4B,EAAQ+3B,EAAQF,aAAa,YAEvBp8B,MAAM,mBAAqBuE,EAAMvE,MAAM,qBAC/CuE,EAAQ,IAAMA,GAGhBs4B,EAAc,mBAAoB,mBAAoBt4B,IAGpD+3B,EAAQM,aAAa,aACnBr4B,EAAQ+3B,EAAQF,aAAa,UAEvBp8B,MAAM,mBAAqBuE,EAAMvE,MAAM,qBAC/CuE,EAAQ,IAAMA,GAGhBs4B,EAAc,QAAS,QAASt4B,IAG9B+3B,aAAmBQ,WAAY,CACjC,GAAIR,EAAQM,aAAa,QAAS,CAChC,IACIr4B,EAAQ+3B,EAAQF,aAAa,QAC7BW,GAAO,EAEX,KAAMT,aAAmBU,gBAAiB,CACxC,IAAIj1B,EAAKu0B,EAAQW,wBACbtS,EAAQ5iB,EAAG4iB,MACXC,EAAS7iB,EAAG6iB,OAEhBmS,EAAOpS,EATa,IAScC,EATd,GAYtBiS,EAAc,OAAQE,EAAO,mBAAqB,QAASx4B,GAGzD+3B,EAAQM,aAAa,eACvBC,EAAc,aAAc,mBAAoBP,EAAQF,aAAa,eAIrEE,EAAQM,aAAa,YACnBr4B,EAAQ+3B,EAAQF,aAAa,UACjCS,EAAc,SAAUP,aAAmBY,gBAAkBZ,aAAmBU,eAAiB,eAAiB,QAASz4B,IAG7H+3B,EAAQ/mB,OAASD,GAAuBgnB,EAAQ/mB,OAAO,SAAUxY,EAAUwH,GACxD,qBAAbxH,GAAmCwH,EAAMsC,SAAS,QAIlDszB,GAAUx2B,eAAe5G,IAC3B8/B,EAAc9/B,EAAUA,EAAUwH,MAIlC+3B,EAAQ/mB,OAAS+mB,aAAmBU,gBAAkBV,EAAQ/mB,MAAM4nB,MACtEN,EAAc,OAAQ,QAASP,EAAQ/mB,MAAMC,iBAAiB,SAGhE5T,EAAQ46B,GAAY,SAAUnC,GAC5BiC,EAAQK,gBAAgBxC,GAAUE,GAASC,aAE7C4B,GAAiBjpB,IAAIqpB,EAASH,GAAuBG,EAAS9V,KAlG9D,SAASqW,EAAcO,EAAeC,EAAiBC,GACrD,IAAIv1B,EAAKoyB,GAAUiD,GACfhD,EAAaryB,EAAGqyB,WAChBE,EAAWvyB,EAAGuyB,SACdiD,EAAMrQ,GAA4BmQ,EAAiBC,EAAQ,KAAMnQ,GAAgBC,EAAsB,MAE3G,GAAKmQ,EAAL,CAIA,IAAIh5B,EAAQg5B,EAAIh5B,MAEK,mBAAVA,IACTA,EAAQA,EAAMiiB,IAGhB8V,EAAQ/mB,MAAMioB,YAAYpD,EAAY71B,GAEjC+3B,EAAQM,aAAatC,IACxBgC,EAAQmB,aAAanD,EAAU,IAGjCkC,EAAWzrB,OAAOqsB,KA+EtB,IAAIM,GAAqB,cACrBC,GAAyB,cAAiBD,GAAqB,KAC/DE,GAAoB,KACpBxuB,GAAW,KAEf,SAASyuB,GAAqB36B,EAAMsjB,GAClCoX,GAAoBA,IAAqB16B,EAAKvG,QAE9C,IACE,IAAIyC,EAAQiZ,GAAMulB,IAClB16B,EAAKvG,QAAUksB,GAAsBzpB,EAAOonB,GAC5C,MAAO7e,GACPmF,EAAQnF,IAiDZ,IAAIm2B,GAAiB,CAAC,OAAQ,aAAc,WAAY,YAAa,QAAS,4BAA6B,sBAAuB,6BAA8B,wBAQ5JC,GAxsHJ,WACE,IAAIC,EAAQ,GACR9wB,EAAU,KAEd,SAAS+wB,IAGP,IAFA,IAAIC,EAEGA,EAAOF,EAAM99B,SAClBg+B,IAGFhxB,EAAU,KAiBZ,MAAO,CACL3C,IAfF,SAAa2zB,GACXF,EAAM1hC,KAAK4hC,GAENhxB,IACHA,EAAUC,sBAAsB8wB,KAYlC7wB,OARF,WACE4wB,EAAMlK,OAAO,GACbzmB,qBAAqBH,GACrBA,EAAU,OA+qHGixB,GAEjB,SAASC,KACP,IAAIC,EAAW,EACXC,EAAiB,IAAIjtB,IACrBktB,EAAgB,IAAIltB,IACpBmtB,EAAwB,IAAIh1B,IAC5Bi1B,EAAgB,KAsUpB,MAAO,CACLC,YArUF,SAAqB5J,GACnB,IAAI7gB,EAAQ6gB,EAAQ6J,eAChBnY,EAAQsO,EAAQtO,MAChBoY,EAAsB9J,EAAQ8J,oBAC9BC,EAAQ/J,EAAQ+J,MAChBC,EAAehK,EAAQgK,aACvBC,EAAmBjK,EAAQiK,iBAC3BC,EAAsC,IAAvBT,EAAcrrB,KAC7B+rB,EAAoB,IAAIz1B,IAAI+0B,EAAch9B,QAC1C29B,EAxBR,SAAqB1Y,GACnB,OAAOsX,GAAel7B,KAAI,SAAUa,GAClC,OAAOA,EAAI,IAAM+iB,EAAM/iB,MACtBlD,KAAK,KAqBS4+B,CAAY3Y,GACvB4Y,EAAeF,IAAaT,EAC5BY,EAAW,GA8Cf,GA7CArrB,GAAgBC,GAAO,SAAUE,GAC/B,IAAIuB,EAAUvB,EAAKuB,QACf4pB,GAAsB,EAQ1B,GAPAL,EAAkBluB,OAAO2E,GAEpB4oB,EAAe1sB,IAAI8D,KACtB4oB,EAAerrB,IAAIyC,EAASA,GAC5B4pB,GAAsB,GAGpBA,EAAJ,CACEN,GAAe,EAMjB,IAAIO,EAAU,GACdprB,EAAKoB,OAASD,GAAuBnB,EAAKoB,OAAO,SAAUxY,EAAUwH,GACnE,IAAIg5B,EAAMrQ,GAA4BnwB,EAAUwH,EAAO4P,EAAMgZ,GAAgByR,EAAqBG,GAE9FxB,GACFgC,EAAQjjC,KAAKihC,MAGjB,IAAIiC,EAAU,KAEd,GAAID,EAAQz/B,OAAS,EAAG,CACtB,IAAI2/B,EAAatrB,EAAKsrB,WACtBD,EAAU,CACRE,SAAUvrB,EAAKsd,aACfuD,aAAcuK,EACdE,WAAYA,GAEdJ,EAAS/iC,KAAKkjC,GAGhBjB,EAActrB,IAAIyC,EAAS8pB,QAxBzBH,EAAS/iC,KAAKiiC,EAAcl2B,IAAIqN,OA0BpCupB,EAAkBr9B,SAAQ,SAAUP,GAClCi9B,EAAevtB,OAAO1P,GACtBk9B,EAAcxtB,OAAO1P,MAEvBo9B,EAAgBS,EAEXL,GAAUG,GAAiBI,EAAhC,CAIAf,IAkBA,IAAIsB,EAAoB,IAAItuB,IACxBuuB,EAAkB,IAAIvuB,IACtBwuB,EAA0B,EAC1BC,EAAwB,EACxBC,EAAiB,CACnB5rB,KAAM,KACNF,MAAO,GACP+rB,SAAS,GAEPC,EAAY,IAAI1uB,QAsBpBitB,EAAsB58B,SAAQ,SAAUqP,GACtC,OAAOA,OAETutB,EAAsBvtB,QACtBouB,EAAS5hC,QAAO,SAAUwI,GACxB,OAAOA,KACNrE,SAAQ,SAAUmG,GACnB,IAAI23B,EAAW33B,EAAG23B,SACd1K,EAAejtB,EAAGitB,aAElB/O,EA9BN,SAASia,EAAS/rB,GAChB,GAAY,MAARA,EACF,OAAO4rB,EAGT,GAAIE,EAAUruB,IAAIuC,GAChB,OAAO8rB,EAAU53B,IAAI8L,GAGvB,IAAI8R,EAAQ,CACV9R,KAAMA,EACNF,MAAO,GACP+rB,SAAS,GAKX,OAHAC,EAAUhtB,IAAIkB,EAAM8R,GACFia,EAAS/rB,EAAKsrB,YACpBxrB,MAAM3X,KAAK2pB,GAChBA,EAaKia,CADKn4B,EAAG03B,YAEhBU,EAAiB,CACnBT,SAAUA,EACV1K,aAAc,GACdgL,SAAS,GAEPI,EAAoBD,EAAenL,aAGvC,SAASqL,EAAuBtjC,EAAU25B,EAAUpJ,EAAWG,GAC7D,IAAI6S,IAAaT,EACbU,EAAmB,CACrBxjC,SAAUA,EACVwH,MAAO,KACP+oB,UAAWA,EACXgT,SAAUA,EACV7S,YAAaA,GAEf2S,EAAkB9jC,KAAKikC,GACvB,IAAIC,EAAkBnC,EACtB3H,EAAS7xB,MAAK,SAAU47B,GACjBA,IAAc1B,KAAsByB,IAAoBnC,IAI7DkC,EAAiBh8B,MAAQk8B,EACzB1C,GAAWxzB,KAAI,WACTw0B,KAAsByB,IAAoBnC,GAyJtD,SAA0Bh9B,GACxB,IAAI0G,EAAK43B,EAAkBt3B,IAAIhH,GAC3B8S,EAAOpM,EAAGoM,KACV0nB,EAAS9zB,EAAG8zB,OACZ/jB,EAAQ/P,EAAG+P,MAEf+jB,EAAO3D,WAAWpgB,GAClB4oB,EAAQ7E,EAAQ/jB,EAAO3D,GACvBwrB,EAAkB5uB,OAAO1P,GA7JnBs/B,CAAiBL,UAKvB,SAASM,EAAsB7jC,EAAU25B,EAAUpJ,EAAWG,GAC5D,IAAI1lB,EAAK2uB,EACLmK,EAAU94B,EAAGitB,aACbkB,EAAenuB,EAAGmuB,aAClB4K,IAAWhB,EACXU,EAAkBnC,EAClB0C,EAAeX,EAAkBtgC,OACjCkhC,EAAU,GAEd,GAAuB,IAAnBH,EAAQ/gC,OAAc,CACxB,IAAImhC,EAAU,CACZlkC,SAAUA,EACVwH,MAAOkpB,EACPH,UAAWA,EACXG,YAAaA,EACbqT,OAAQA,GAEVV,EAAkB9jC,KAAK2kC,GACvBD,EAAU,CAACC,GAGbJ,EAAQj/B,SAAQ,SAAU27B,GACxB,GAAIA,EAAIh5B,iBAAiBJ,QACvBk8B,EAAuB9C,EAAIxgC,SAAUwgC,EAAIh5B,MAAO+oB,EAAWG,OACtD,CACL,IAAIyT,EAAW,CACbnkC,SAAUwgC,EAAIxgC,SACdwH,MAAOg5B,EAAIh5B,MACX+oB,UAAWA,EACXG,YAAaA,EACbqT,OAAQA,GAEVV,EAAkB9jC,KAAK4kC,GACvBF,EAAQ1kC,KAAK4kC,OAGjBhL,EAAaxrB,aAAY,SAAUy2B,GACjC,IAAIpC,KAAsByB,IAAoBnC,EAA9C,CAIA,IAAI+C,EAAeD,EAAQv+B,KAAI,SAAU26B,GACvC,MAAO,CACLxgC,SAAUwgC,EAAIxgC,SACdwH,MAAOg5B,EAAIh5B,MACX+oB,UAAWA,EACXG,YAAaA,EACbqT,OAAQA,MAGRhpB,EAAQsoB,EAAkBxoB,QAAQopB,EAAQ,GAAID,GAClDX,EAAkBtM,OAAOlwB,MAAMw8B,EAAmBh6B,EAAc,CAAC0R,EAAOkpB,EAAQlhC,QAASkG,EAAOo7B,KAChGJ,EAAUI,EAuGhB,SAAwB//B,GACtB,IAAI0G,EAAK63B,EAAgBv3B,IAAIhH,GACzB8S,EAAOpM,EAAGoM,KACV0nB,EAAS9zB,EAAG8zB,OACZ/jB,EAAQ/P,EAAG+P,MAEf+jB,EAAO3D,WAAWpgB,GAClB4oB,EAAQ7E,EAAQ/jB,EAAO3D,GA7GnBktB,CAAeP,OAEjBtC,EAAsBj0B,KAAI,WACxB,OAAO2rB,EAAaG,qBArFxBpQ,EAAMhS,MAAM3X,KAAK6jC,GAyFjBnL,EAAapzB,SAAQ,SAAUmG,GAC7B,IAAIhL,EAAWgL,EAAGhL,SACdwH,EAAQwD,EAAGxD,MACX+oB,EAAYvlB,EAAGulB,UACfG,EAAc1lB,EAAG0lB,YAErB,GAAqB,mBAAVlpB,EAAsB,CAC/B,IAAImyB,EAAWnyB,EAAMiiB,GAEjBkQ,aAAoBvyB,QACtBk8B,EAAuBtjC,EAAU25B,EAAUpJ,EAAWG,GAC7C1wB,EAASmK,WAAW,MAC7B05B,EAAsB7jC,EAAU25B,EAAUpJ,EAAWG,GAErD2S,EAAkB9jC,KAAK,CACrBS,SAAUA,EACVwH,MAAOmyB,EACPpJ,UAAWA,EACXG,YAAaA,SAIjB2S,EAAkB9jC,KAAK,CACrBS,SAAUA,EACVwH,MAAOA,EACP+oB,UAAWA,EACXG,YAAaA,UAKrB,IAAIwK,EAAQ6G,KAgBV,SAASwC,EAAkBrb,EAAO4V,EAAQ0F,GACxCtb,EAAMhS,MAAMrS,SAAQ,SAAUqE,GACxBA,EAAE+5B,QAEJsB,EAAkBr7B,EAjBxB,SAAsBggB,EAAO1X,GAC3B,IAAI4F,EAAO8R,EAAM9R,KAEjB,GAAIA,aAAgBC,aAAc,CAChC,IAAIC,EAAQF,EAAKE,MACbyD,EAAQvJ,EAAOmG,SAAS5U,OAE5B,OADAyO,EAAOgqB,WAAW,UAAYlkB,EAAMmtB,UAAY,MAAO1pB,GAChDvJ,EAAOmG,SAASoD,GAGzB,OAAOvJ,EAMKkzB,CAAax7B,EAAG41B,GACA0F,GAExBA,EAAct7B,EAAG41B,MAKvByF,CAAkBvB,EAAgB9H,GAAO,SAAU9jB,EAAM0nB,GACvD,IAAI/jB,EAAQ+jB,EAAOnnB,SAAS5U,OAC5BqU,EAAK6gB,aAAapzB,SAAQ,SAAUmG,GAClC,IAAIu4B,EAAWv4B,EAAGu4B,SACdQ,EAAS/4B,EAAG+4B,OAEA,MAAZR,GACFX,EAAkB1sB,IAAIqtB,EAAU,CAC9BnsB,KAAMA,EACN0nB,OAAQA,EACR/jB,MAAOA,IAIG,MAAVgpB,GACFlB,EAAgB3sB,IAAI6tB,EAAQ,CAC1B3sB,KAAMA,EACN0nB,OAAQA,EACR/jB,MAAOA,OAIb4oB,EAAQ7E,EAAQ/jB,EAAO3D,MAzO3B,SAASusB,EAAQ7E,EAAQ/jB,EAAO3D,GAC9B,IAWIutB,EAXWvtB,EAAKurB,SAWM,MAVPvrB,EAAK6gB,aAUuBpyB,KARtB,SAA4B++B,GACnD,IAAI5kC,EAAW4kC,EAAI5kC,SACfwH,EAAQo9B,EAAIp9B,MACZ+oB,EAAYqU,EAAIrU,UAChBG,EAAckU,EAAIlU,YACtB,OAAO1wB,EAAW,MAAiB,MAATwH,EAAgBkpB,EAAclpB,IAAU+oB,EAAY,cAAgB,IAAM,OAG/B/sB,KAAK,KAAO,KACnFs7B,EAAOtD,WAAWmJ,EAAU5pB,MA6PlC,IAAI8pB,GAAiB,mDAErB,SAASC,GAAkBvF,GACzB,OAAQA,aAAmBwF,kBAAoBxF,aAAmByF,iBAAmBzF,aAAmB0F,iBAAmB1F,EAAQ2F,KAAO3F,EAAQ2F,IAAIv7B,cAAcG,SAAS,gBAAkBy1B,EAAQ4F,YAAc5F,EAAQ6F,UAAUC,SAAS,eAAmC,UAAlB9F,EAAQjoB,QAAsBioB,EAAQ6F,UAAUC,SAAS,UAG5T,SAASC,GAAoBtjC,EAAM+zB,EAASwP,GAuB1C,YAtBgB,IAAZxP,IACFA,EAAU,SAGC,IAATwP,IACFA,GAAO,GAGLT,GAAkB9iC,GACpB+zB,EAAQx2B,KAAKyC,IACJA,aAAgByT,SAAWpL,GAAwBrI,aAAgBsI,YAActI,IAAS0I,YACnG7F,EAAQ7C,EAAKs8B,iBAAiBuG,KAAiB,SAAUrsB,GACvD,OAAO8sB,GAAoB9sB,EAAOud,GAAS,MAGzCwP,GACFzyB,EAAmB9Q,GAAM,SAAUwjC,GACjC,OAAOF,GAAoBE,EAAKnyB,WAAY0iB,GAAS,OAKpDA,EAGT,IAAI0P,GAAe,IAAItH,QACnBuH,GAAe,IAAIvH,QACnBwH,IAA0B,EAK9B,SAASC,GAAYrG,EAASv0B,GAO5B,IANA,IAAIzJ,EAASyJ,EAAGzJ,OACZskC,EAAe76B,EAAG66B,aAClBC,EAAa96B,EAAG86B,WAChBC,EAAa,GACbr+B,EAAO63B,GAEH73B,EAAOA,EAAKs+B,qBAAuBt+B,EAAKrG,QAAQ,gBACtD0kC,EAAWxmC,KAAKmI,GAGlB,IAAIu+B,EAAWF,EAAWjpB,MAAK,SAAU0hB,GACvC,OAAOA,EAAGn9B,QAAQ,uBAAyBqkC,GAAa7wB,IAAI2pB,OACxD,KACF0H,EAAYH,EAAWjpB,MAAK,SAAU0hB,GACxC,OAAOA,EAAGn9B,QAAQ,uBAAyBokC,GAAa5wB,IAAI2pB,OACxD,KACF2H,EAA0B,KAC1BC,EAA2B,KAC3BC,GAAwB,EACxBC,GAAkB,EAClBC,EAAgBlF,KAChBhvB,EAAW,IAAIE,kBAAiB,WAClChR,OAEEilC,EAAkB,CACpBvH,YAAY,EACZvsB,WAAW,EACXuD,SAAS,EACTwwB,eAAe,GAGjB,SAASC,IACP,OAAOnH,aAAmBwF,kBAAoBxF,EAAQoH,YAAYjuB,OAAOzV,MAAM8V,IAGjF,SAAS6tB,IACP,OAAIX,EACKA,EAAS/K,MAAMvjB,SAGpB+uB,IACK,KAGFG,IAGT,SAASC,IACHb,GACE1G,EAAQptB,cAAgB8zB,GAC1B1G,EAAQxuB,WAAWmB,aAAa+zB,EAAU1G,EAAQptB,aAGhD8zB,EAAS9zB,cAAgB+zB,GAC3B3G,EAAQxuB,WAAWmB,aAAag0B,EAAWD,EAAS9zB,cAE7CotB,EAAQptB,cAAgB+zB,GACjC3G,EAAQxuB,WAAWmB,aAAag0B,EAAW3G,EAAQptB,aAiBvD,IAAI40B,GAAiB,EACjBC,GAAkB,EAEtB,SAASC,IACP,OAAOlgC,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAI6R,EAASuuB,EAAal8B,EAAI2M,EAAUwvB,EAAoBC,EAExDn6B,EAEJ,OAAOlF,EAAYjB,MAAM,SAAU4S,GACjC,OAAQA,EAAGtR,OACT,KAAK,EACH,KAAMm3B,aAAmB0F,iBAAkB,MAAO,CAAC,EAAG,GAOtD,GANAj6B,EAAK/B,EAAOo+B,IAAmB,GAAI1vB,EAAW3M,EAAG,IAAIm8B,EAAcn8B,EAAG,KAGpE+E,EAAQo3B,MAGHxvB,IAAawvB,IAAgBl9B,GAAYA,IAAas1B,EAAQrE,QAmMlD9xB,EAnM+E+9B,EAoMnG/9B,GAASA,EAAMk+B,SAAWl+B,EAAMk+B,QAAQx9B,SAAS,aApMiE,MAAO,CAAC,EAAG,GAC5H4P,EAAGtR,MAAQ,EAEb,KAAK,EAGH,OAFAsR,EAAGpR,KAAK/I,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAAGgoC,GAAYhI,IAEzB,KAAK,EAGH,OAFA7lB,EAAGrR,OAEI,CAAC,EAAG,GAEb,KAAK,EAIH,OAFA0H,EADQ2J,EAAGrR,QAEX2+B,GAAkB,EACX,CAAC,EAAG,GAEb,KAAK,EACH,GAAIX,EACF,MAAO,CAAC,EAAG,MAGbp5B,EAAKhE,EAAOo+B,IAAmB,GAAI1vB,EAAW1K,EAAG,IAAIk6B,EAAcl6B,EAAG,KAGpE8C,EAAQo3B,GAGVztB,EAAGtR,MAAQ,EAEb,KAAK,EACH,OAAgB,MAAZuP,EACK,CAAC,EAAGA,GAGN,CAAC,EAAG6vB,GAASjI,EAAQ/oB,OAE9B,KAAK,EAIH,OAHAmC,EAAUe,EAAGrR,OACb6+B,EAAchuB,GAAeqmB,EAAQ/oB,MAEjC6vB,EACK,CAAC,EAAG,MAGN,CAAC,EAAG,GAEb,KAAK,EACH,IAAIK,IAIF,MAAO,CAAC,EAAG,MAHX/tB,EAAU4mB,EAAQoH,YAAYjuB,OAC9BwuB,EAAchuB,GAAekW,SAAS5Y,MAKxCkD,EAAGtR,MAAQ,EAEb,KAAK,EACH,IAAKuQ,EAAS,MAAO,CAAC,EAAG,IACzBe,EAAGtR,MAAQ,EAEb,KAAK,EAGH,OAFAsR,EAAGpR,KAAK/I,KAAK,CAAC,EAAG,GAAG,CAAE,KAEf,CAAC,EAAGkoC,GAAkB9uB,EAASuuB,IAExC,KAAK,GAGH,OAFAE,EAAc1tB,EAAGrR,OACjB49B,EAmbZ,SAAwByB,EAAY/uB,GAClC,IAAKA,EACH,OAAO,KAGT,IAAIgvB,EAAOj9B,SAAS6L,cAAc,SAQlC,OAPAoxB,EAAKvC,UAAU53B,IAAI,cACnBm6B,EAAKvC,UAAU53B,IAAI,oBACnBm6B,EAAKrwB,MAAQ,SACbqwB,EAAKhB,YAAchuB,EACnB+uB,EAAW32B,WAAWmB,aAAay1B,EAAMD,EAAWv1B,aACpDw1B,EAAKzM,MAAMiK,UAAW,EACtBO,GAAal4B,IAAIm6B,GACVA,EAhccC,CAAerI,EAAS6H,GAC5B,CAAC,EAAG,IAEb,KAAK,GAGH,OADAr3B,EADQ2J,EAAGrR,QAEJ,CAAC,EAAG,IAEb,KAAK,GACH,GAAI49B,EAEF,OADAE,EAA0Bl1B,EAAqBg1B,EAAU,gBAClD,CAAC,EAAGA,EAAS/K,MAAMvjB,UAG5B+B,EAAGtR,MAAQ,GAEb,KAAK,GACH,MAAO,CAAC,EAAG,MA4GrB,IAA6BgB,QAxE7B,IAAIy+B,GAAmB,EA4DvB,SAASR,IACP,IACE,OAAqB,MAAjB9H,EAAQrE,MACH,CAAC,KAAM,MAGT,CAACqE,EAAQrE,MAAMvjB,SAAU,MAChC,MAAO/M,GACP,MAAO,CAAC,KAAMA,IAQlB,SAASi8B,IACP,IAAI77B,EAAK/B,EAAOo+B,IAAmB,GAC/B1vB,EAAW3M,EAAG,GACdJ,EAAMI,EAAG,GAEb,OAAIJ,GACFmF,EAAQnF,GACD,MAGF+M,EAGT,SAASmwB,IA2EPvI,EAAQ/9B,iBAAiB,4BAA6BumC,GAxEjDh+B,GAAmB47B,IAA2BpG,EAAQrE,QAkB3D8M,EAAiBC,IACjBC,IAEqB,SAASC,IAPvBF,MAAwBD,IAS3BA,EAAiBC,IACjB1mC,KAGEokC,IAA2BpG,EAAQrE,MACrCgN,IAIFE,EAAoBh4B,sBAAsB+3B,GAG5CA,IA9BF,IAAIH,EAAiB,KACjBI,EAAoB,KAExB,SAASH,IACP,IAAI/wB,EAAQ2vB,IACZ,OAAO3vB,EAAQA,EAAMnU,OAAS,KA4BhC,SAASmlC,IACP53B,qBAAqB83B,GAGvB,IAAIC,GAAyB,EAE7B,SAASN,IAQP,SAASO,IACPD,GAAyB,EAErBhC,GAIJ9kC,IAdFokC,IAA0B,EAC1BuC,IAEIG,IAcJA,GAAyB,EAEK,mBAAnBE,eACTA,eAAeD,GAEfl4B,sBAAsBk4B,IAY1B,SAASE,IAHPjJ,EAAQ99B,oBAAoB,4BAA6BsmC,GAKzDG,IAGF,SAASO,IACPp2B,EAASO,aACTyzB,GAAwB,EACxBF,GAA2BA,EAAwBn0B,OACnDo0B,GAA4BA,EAAyBp0B,OACrDw2B,IAiBF,IAAIE,EAAe,GACfC,EAAY,EAyBhB,MAAO,CACLC,QA/PF,WACE,IAAI1xB,EAAQ0vB,IAEZ,OAAK1vB,EAsBE,CACLA,MAAOA,GAtBH6vB,GAAkBC,EACb,MAGTD,GAAiB,EACjBlB,IACAoB,IAAgBn/B,MAAK,SAAUiuB,GAC7BgR,GAAiB,EACjBjB,IAEI/P,GACFx0B,OAEDsnC,OAAM,SAAUj+B,GACjBmF,EAAQnF,GACRm8B,GAAiB,EACjBjB,OAEK,OA0OTgD,OAhOF,SAAgBrf,EAAOoY,GACrB,IAAI3qB,EAAQ0vB,IAQZ,SAASmC,IACF7C,KAtKPA,EAAY3G,aAAmByF,gBAAkBt6B,SAASs+B,gBAAgB,6BAA8B,SAAWt+B,SAAS6L,cAAc,UAChI6uB,UAAU53B,IAAI,cACxB04B,EAAUd,UAAU53B,IAAI,oBACxB04B,EAAU5uB,MAAQ,UAEbzN,GAAc01B,EAAQvhC,QACzBkoC,EAAUloC,MAAQuhC,EAAQvhC,OAG5BynC,GAAaj4B,IAAI04B,IAiKfE,GAA4BA,EAAyBp0B,OACrD80B,IAEuB,MAAnBZ,EAAUhL,QACZgL,EAAUS,YAAc,IAK1B,IAFA,IAAIzL,EAAQgL,EAAUhL,MAEb73B,EAAI63B,EAAMvjB,SAAS5U,OAAS,EAAGM,GAAK,EAAGA,IAC9C63B,EAAMC,WAAW93B,GAYnB,OATI+iC,EACFA,EAAyB5zB,MAEzB4zB,EAA2Bn1B,EAAqBi1B,EAAW,gBAAgB,WACzE2B,GAAmB,EACnBoB,OAIG/C,EAAUhL,MAGnB,SAAS+N,IACP,IAAInH,EAAQ+F,EACZA,GAAmB,EACnBtB,EAAc5E,YAAY,CACxBI,aAAcgH,EACdnH,eAAgB1qB,EAChBuS,MAAOA,EACPoY,oBAAqBA,EACrBC,MAAOA,EACPE,iBAAkB,WAChB,OAAOqE,KAGXC,EAAsD,IAApCJ,EAAUhL,MAAMvjB,SAAS5U,OAjDxCmU,IAILmvB,GAAwB,EAgDxB4C,MA0KAR,MAAOA,EACPS,QA5CF,WACET,IACA33B,EAAWm1B,GACXn1B,EAAWo1B,IA0CXiD,MAvCF,WACE92B,EAASI,QAAQ8sB,EAASiH,GAEtBjH,aAAmBwF,kBACrB+C,KAoCFl2B,QA7BF,WACOs0B,MAILyC,EAEgBD,EACd34B,EAAQ,uCAAwCwvB,IAIlDxvB,EAAQ,gBAAiBm2B,EAAW3G,GACpCuH,IACAX,GAA2BA,EAAwBtzB,OACnDuzB,GAA4BA,EAAyBvzB,OAEhDyzB,IACHuB,GAAmB,EACnBtmC,SAcN,SAASgmC,GAAY6B,GACnB,OAAOriC,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,MAAO,CAAC,EAAG,IAAI5D,SAAQ,SAAUC,EAASC,GACxC,IAAI+hC,EAAU,WACZD,EAAK3nC,oBAAoB,OAAQ6nC,GACjCF,EAAK3nC,oBAAoB,QAAS8nC,IAGhCD,EAAS,WACXD,IACAhiC,KAGEkiC,EAAU,WACZF,IACA/hC,EAAO,uBAAyB8hC,EAAK5yB,OAGvC4yB,EAAK5nC,iBAAiB,OAAQ8nC,GAC9BF,EAAK5nC,iBAAiB,QAAS+nC,aAUvC,SAAS/B,GAASroC,GAChB,OAAO4H,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EACH,OAAKjJ,EAAIgL,WAAW,SACb,CAAC,EAAGc,MAAM9L,IADoB,CAAC,EAAG,GAG3C,KAAK,EACH,MAAO,CAAC,EAAG6L,EAAG3C,OAAO8E,QAEvB,KAAK,EACH,MAAO,CAAC,EAAGnC,EAAG3C,QAEhB,KAAK,EACH,MAAO,CAAC,EAAG4kB,GAAQ,CACjB9tB,IAAKA,EACL2N,aAAc,OACdhC,SAAU,cAGd,KAAK,EACH,MAAO,CAAC,EAAGE,EAAG3C,eAMxB,SAASo/B,GAAkB9uB,EAAS6wB,EAAUt+B,GAK5C,YAJc,IAAVA,IACFA,EAAQ,IAAIoJ,KAGPvN,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAI2iC,EAAeC,EAAiBC,EAAmB1mC,EAAO2mC,EAAWC,EAAaC,EAAoBr6B,EAEtGL,EAAKpE,EAET,OAAOjD,EAAYjB,MAAM,SAAUmG,GACjC,OAAQA,EAAG7E,OACT,KAAK,EAGHuQ,EAtmIV,SAA4CoxB,EAAM7C,GAChD,OAAO6C,EAAK3mC,QAAQ0V,IAAa,SAAU7V,GACzC,IAAI+mC,EAAYhxB,GAAe/V,GAC/B,MAAO,QAAW6T,GAAeowB,EAAa8C,GAAa,QAmmI3CC,CADVtxB,EAtlIV,SAA4BoxB,GAC1B,OAAOA,EAAK3mC,QAAQkW,GAAe,IAqlIjB4wB,CADVvxB,EAA4BA,EA1lIxBvV,QAAQiW,GAAkB,KA4lIwBmwB,GACtDC,EAAgB1gB,GAAWhQ,GAAgBJ,GAC3C1L,EAAG7E,MAAQ,EAEb,KAAK,EACH6E,EAAG3E,KAAK/I,KAAK,CAAC,EAAG,GAAI,GAAI,KAEzBmqC,EAAkB5gC,EAAS2gC,GAAgBE,EAAoBD,EAAgBhiC,OAC/EuF,EAAG7E,MAAQ,EAEb,KAAK,EACH,OAAMuhC,EAAkB9hC,KAAa,CAAC,EAAG,IACzC5E,EAAQ0mC,EAAkBniC,MAC1BoiC,EA3DD5wB,GA2D6B/V,EA3DI+X,UAAU,GAAG5X,QAAQ,KAAM,KA4D3DymC,EAAc/yB,GAAe0yB,EAAUI,GACvCE,OAAc,EACT5+B,EAAM2J,IAAIg1B,IACfC,EAAc5+B,EAAMI,IAAIu+B,GACjB,CAAC,EAAG,IAFyB,CAAC,EAAG,IAI1C,KAAK,EAGH,OAFA58B,EAAG3E,KAAK/I,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAAGioC,GAASqC,IAEtB,KAAK,EAGH,OAFAC,EAAc78B,EAAG5E,OACjB6C,EAAMgL,IAAI2zB,EAAaC,GAChB,CAAC,EAAGrC,GAAkBqC,EAAa5wB,GAAe2wB,GAAc3+B,IAEzE,KAAK,EAEH,OADA4+B,EAAc78B,EAAG5E,OACV,CAAC,EAAG,GAEb,KAAK,EAIH,OAFA0H,EADQ9C,EAAG5E,QAEXyhC,EAAc,GACP,CAAC,EAAG,GAEb,KAAK,EACHnxB,EAAUA,EAAQjV,MAAMT,GAAOO,KAAKsmC,GACpC78B,EAAG7E,MAAQ,EAEb,KAAK,EAEH,OADAuhC,EAAoBD,EAAgBhiC,OAC7B,CAAC,EAAG,GAEb,KAAK,EACH,MAAO,CAAC,EAAG,IAEb,KAAK,GAKH,OAJA+H,EAAQxC,EAAG5E,OACX+G,EAAM,CACJhG,MAAOqG,GAEF,CAAC,EAAG,IAEb,KAAK,GACH,IACMk6B,IAAsBA,EAAkB9hC,OAASmD,EAAK0+B,EAAgBh6B,SAAS1E,EAAGnH,KAAK6lC,GAC3F,QACA,GAAIt6B,EAAK,MAAMA,EAAIhG,MAGrB,MAAO,CAAC,GAEV,KAAK,GAEH,MAAO,CAAC,EADRuP,EAAUA,EAAQD,eAplB5BhO,SAASlJ,iBAAiB,sCAAsC,WAC9DmkC,IAA0B,KA0mB5B,IACIwE,GAEAC,GAHAC,GAAY,GAEZC,GAAkB,IAAIh2B,IAG1B,SAASi2B,GAAyBx3B,GAC3BtI,GAIL5F,EAAQkO,EAAKurB,iBAAiB,mBAAmB,SAAUE,GACzD,IAAIgM,EAAMhM,EAAGiM,QAAQ9gC,cAEhB2gC,GAAgBz1B,IAAI21B,KACvBF,GAAgBp0B,IAAIs0B,EAAK,IAAI/9B,KA6BnC,SAAmC+9B,GACjC,OAAOzjC,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,MAAO,CAAC,EAAG,IAAI5D,SAAQ,SAAUC,GAC3BzG,OAAO8pC,gBAAwD,mBAA/BA,eAAeC,YACjDD,eAAeC,YAAYH,GAAK1iC,KAAKT,GAC5BujC,IACTC,GAAU30B,IAAIs0B,EAAKnjC,GACnBqD,SAASogC,cAAc,IAAIC,YAAY,qCAAsC,CAC3EC,OAAQ,CACNR,IAAKA,OAgBTp6B,uBAZuB,SAAS66B,IAC9B,IAAIC,EAAWZ,GAAgBh/B,IAAIk/B,GAE/BU,GAAYA,EAAS/0B,KAAO,IAC1B+0B,EAASvmC,SAAS+C,OAAOF,MAAMnG,QAAQ,YACzCgG,IAEA+I,sBAAsB66B,iBAjDhCE,CAA0BX,GAAK1iC,MAAK,WAClC,GAAIsiC,GAA4B,CAC9B,IAAIc,EAAWZ,GAAgBh/B,IAAIk/B,GACnCF,GAAgBt2B,OAAOw2B,GACvBJ,GAA2B7yB,MAAMjO,KAAK4hC,SAK5CZ,GAAgBh/B,IAAIk/B,GAAKh9B,IAAIgxB,MAIjC,IAAIoM,IAAwB,EAC5BlgC,SAASlJ,iBAAiB,sCAAsC,WAC9DopC,IAAwB,KAE1B,IAAIC,GAAY,IAAIv2B,IAEpB,SAAS82B,GAAgBzjC,GACvBijC,IAAwB,EAEpBC,GAAUh2B,IAAIlN,EAAEqjC,OAAOR,MACXK,GAAUv/B,IAAI3D,EAAEqjC,OAAOR,IACrCnjC,GA+CJ,SAASgkC,GAAqBC,EAAe/pC,EAAQ08B,GACnDsN,KACA,IAAIxF,EAAa,IAAIt5B,IAAI6+B,GACrBE,EAAoB,IAAIh3B,QACxBi3B,EAAoB,IAAIj3B,QAE5B,SAASk3B,EAAkBlzB,GACzBgzB,EAAkBt1B,IAAIsC,EAAOA,EAAMmzB,wBACnCF,EAAkBv1B,IAAIsC,EAAOA,EAAMwtB,oBAcrC,SAAS4F,EAAsBC,GAC7B,IAAIC,EAAgBD,EAAWC,cAC3BC,EAAgBF,EAAWE,cAC3BC,EAAcH,EAAWG,YAC7BF,EAAcjnC,SAAQ,SAAU2B,GAC9B,OAAOklC,EAAkBllC,MAE3BwlC,EAAYnnC,SAAQ,SAAU2B,GAC5B,OAAOklC,EAAkBllC,MAE3BulC,EAAclnC,SAAQ,SAAU2B,GAC9B,OAtByBgS,EAsBEhS,EArB7BglC,EAAkBx3B,OAAOwE,QACzBizB,EAAkBz3B,OAAOwE,GAF3B,IAA6BA,KAwB3BszB,EAAcjnC,SAAQ,SAAU2B,GAC9B,OAAOu/B,EAAWv4B,IAAIhH,MAExBulC,EAAclnC,SAAQ,SAAU2B,GAC9B,OAAOu/B,EAAW/xB,OAAOxN,MAGvBslC,EAAc31B,KAAO41B,EAAc51B,KAAO61B,EAAY71B,KAAO,GAC/D5U,EAAO,CACL0qC,QAAS10B,MAAMjO,KAAKwiC,GACpBI,QAAS30B,MAAMjO,KAAKyiC,GACpBI,MAAO50B,MAAMjO,KAAK0iC,GAClBI,QAAS,KAKf,SAASC,EAAyBrhC,GAChC,IAAIsK,EAAYtK,EAAGsK,UACfE,EAAQxK,EAAGwK,MACXD,EAAYvK,EAAGuK,UACfu2B,EAAgB,IAAIr/B,IACpBs/B,EAAgB,IAAIt/B,IACpBu/B,EAAc,IAAIv/B,IACtB6I,EAAUzQ,SAAQ,SAAU7C,GAC1B,OAAOsjC,GAAoBtjC,GAAM6C,SAAQ,SAAU2T,GACjD,OAAOszB,EAAct+B,IAAIgL,SAG7BjD,EAAU1Q,SAAQ,SAAU7C,GAC1B,OAAOsjC,GAAoBtjC,GAAM6C,SAAQ,SAAU2T,GACjD,OAAOuzB,EAAcv+B,IAAIgL,SAG7BhD,EAAM3Q,SAAQ,SAAU7C,GACtB,OAAOsjC,GAAoBtjC,GAAM6C,SAAQ,SAAU2T,GACjD,OAAOwzB,EAAYx+B,IAAIgL,SAG3BozB,EAAsB,CACpBE,cAAeA,EACfC,cAAeA,EACfC,YAAaA,IAEf12B,EAAUzQ,SAAQ,SAAU4B,GAC1BqM,EAAmBrM,EAAG6lC,GACtB/B,GAAyB9jC,MAI7B,SAAS8lC,EAAwBx5B,GAC/B,IAAIpN,EAAS,IAAI8G,IAAI64B,GAAoBvyB,IACrC+4B,EAAgB,IAAIr/B,IACpBs/B,EAAgB,IAAIt/B,IACpBu/B,EAAc,IAAIv/B,IACtB9G,EAAOd,SAAQ,SAAU2B,GAClBu/B,EAAWlxB,IAAIrO,IAClBslC,EAAct+B,IAAIhH,MAGtBu/B,EAAWlhC,SAAQ,SAAU2B,GACtBb,EAAOkP,IAAIrO,IACdulC,EAAcv+B,IAAIhH,MAGtBb,EAAOd,SAAQ,SAAU2B,GApF3B,IAAgCgS,EAqFvBszB,EAAcj3B,IAAIrO,IAAOulC,EAAcl3B,IAAIrO,KArFpBgS,EAqFiDhS,GApFlEmlC,yBAA2BH,EAAkBlgC,IAAIkN,IAAUA,EAAMwtB,qBAAuByF,EAAkBngC,IAAIkN,IAqFvHwzB,EAAYx+B,IAAIhH,MAGpBolC,EAAsB,CACpBE,cAAeA,EACfC,cAAeA,EACfC,YAAaA,IAEfl5B,EAAmBC,EAAMu5B,GACzB/B,GAAyBx3B,GAG3B,SAAS6rB,EAAyB5pB,GAChC,IAAIw3B,EAAgB,IAAI//B,IACpBs/B,EAAgB,IAAIt/B,IACxBuI,EAAUnQ,SAAQ,SAAUmE,GAC1B,IAAI81B,EAAS91B,EAAE81B,OAEXA,EAAOppB,cACLovB,GAAkBhG,GACpB0N,EAAch/B,IAAIsxB,GACTA,aAAkBmG,iBAAmBnG,EAAOqG,UACrD4G,EAAcv+B,IAAIsxB,OAKpB0N,EAAcr2B,KAAO41B,EAAc51B,KAAO,GAC5C5U,EAAO,CACL6qC,QAAS70B,MAAMjO,KAAKkjC,GACpBP,QAAS,GACTC,QAAS30B,MAAMjO,KAAKyiC,GACpBI,MAAO,KAKb,SAAS15B,EAAQM,GACf,IAAI0rB,EAAehqB,EAA4B1B,EAAM,CACnDiD,iBAAkBq2B,EAClBj3B,gBAAiBm3B,IAEfxN,EAAe,IAAIxsB,iBAAiBqsB,GACxCG,EAAatsB,QAAQM,EAAM,CACzBksB,YAAY,EACZC,gBAAiB,CAAC,MAAO,WAAY,SACrCjpB,SAAS,IAEXo0B,GAAU9qC,KAAKk/B,EAAcM,GAC7BoL,GAAc38B,IAAIuF,GAGpB,SAASu5B,EAA8BtqC,GACrC,IAAIqR,EAAarR,EAAKqR,WAEJ,MAAdA,GAAsB82B,GAAct1B,IAAIxB,KAI5CZ,EAAQY,GACR4qB,EAAqB5qB,IA9IvBi4B,EAAczmC,QAAQ6mC,GAiJtBj5B,EAAQ/H,UACRoI,EAAmBpI,SAASuvB,gBAAiBqS,GA/K7ClC,GAgL+B,SAAUqC,GACvC,IAAIC,EAAY,GAChBD,EAAM5nC,SAAQ,SAAU2gC,GACtB,OAAOjmC,EAAKmtC,EAAWpH,GAAoBE,EAAKnyB,gBAElD9R,EAAO,CACL0qC,QAASS,EACTN,QAAS,GACTF,QAAS,GACTC,MAAO,KAETM,EAAM5nC,SAAQ,SAAU2gC,GACtB,IAAInyB,EAAamyB,EAAKnyB,WAEJ,MAAdA,IAIJi5B,EAA8B9G,GAC9B1yB,EAAmBO,EAAYi5B,GAC/B/B,GAAyBl3B,QAG7B3I,SAASlJ,iBAAiB,0BAA2B4pC,IACrDb,GAAyB7/B,UAW3B,SAAS6gC,KAPPlB,GAAUxlC,SAAQ,SAAUkE,GAC1B,OAAOA,EAAE6J,gBAEXy3B,GAAUtT,OAAO,EAAGsT,GAAUtnC,QAC9BonC,GAAgB,IAAIhM,QA5MpBiM,GAA6B,KAC7BE,GAAgBp2B,QAChBxJ,SAASjJ,oBAAoB,0BAA2B2pC,IA4N1D,IAAIuB,GAAwB,IAAIn4B,QAC5Bo4B,GAAe,IAAIzO,QAEvB,SAAS0O,GAAgC7qC,GACvC,IAAIqkC,GAAwB,EA0E5B,MAAO,CACLyC,OAnCF,SAAgBrf,EAAOoY,GACrB7/B,EAAK8qC,mBAAmBjoC,SAAQ,SAAUq2B,GACxC,IAAI0R,GAAa/3B,IAAIqmB,GAArB,CAIA,IAAIhkB,EAAQgkB,EAAMhkB,MACd61B,EAAW,IAAI7gC,cAaCm1B,KACNM,YAAY,CACxBI,aAbF,WACE,IAAK,IAAI1+B,EAAI0pC,EAASp1B,SAAS5U,OAAS,EAAGM,GAAK,EAAGA,IACjD0pC,EAAS5R,WAAW93B,GAMtB,OAvDN,SAAqB63B,EAAO6R,GAC1B,IAAIC,EAAY3jC,EAAc,GAAIJ,EAAOjH,EAAK8qC,qBAE1CG,EAAaD,EAAUnyB,QAAQqgB,GAC/BgS,EAAgBF,EAAUnyB,QAAQkyB,GAElCE,IAAeC,EAAgB,IAI/BA,GAAiB,GACnBF,EAAUjW,OAAOmW,EAAe,GAGlCF,EAAUjW,OAAOkW,EAAa,EAAG,EAAGF,GACpC/qC,EAAK8qC,mBAAqBE,GAqCtBG,CAAYjS,EAAO6R,GACnBJ,GAAsBz2B,IAAIglB,EAAO6R,GACjCH,GAAap/B,IAAIu/B,GACVA,GAMPnL,eAAgB1qB,EAChBuS,MAAOA,EACPoY,oBAAqBA,EACrBC,OAAO,EACPE,iBAAkB,WAChB,OAAOqE,UAQb6C,QAxDF,WACE7C,GAAwB,EAExB,IAAI2G,EAAY3jC,EAAc,GAAIJ,EAAOjH,EAAK8qC,qBAE9C9qC,EAAK8qC,mBAAmBjoC,SAAQ,SAAUuoC,GACxC,GAAIR,GAAa/3B,IAAIu4B,GAAoB,CACvC,IAAIF,EAAgBF,EAAUnyB,QAAQuyB,GAElCF,GAAiB,GACnBF,EAAUjW,OAAOmW,EAAe,GAGlCP,GAAsB34B,OAAOo5B,GAC7BR,GAAa54B,OAAOo5B,OAGxBprC,EAAK8qC,mBAAqBE,IA2C9B,SAASK,KACP3iC,SAASogC,cAAc,IAAIC,YAAY,uCACvC,IAAIuC,EAAoBjnC,OAAOknC,yBAAyBrhC,cAAcvF,UAAW,WAC7E6mC,EAAuBnnC,OAAOknC,yBAAyBrhC,cAAcvF,UAAW,cAChF8mC,EAAuBpnC,OAAOknC,yBAAyBrhC,cAAcvF,UAAW,cAChF+mC,EAAuBrnC,OAAOknC,yBAAyBrhC,cAAcvF,UAAW,cAChFgnC,EAA2Bve,SAASwe,SAASxiC,SAAS,mBAAqBgkB,SAASwe,SAASxiC,SAAS,oBAAsBgkB,SAASwe,SAASxiC,SAAS,cACvJyiC,EAAgCF,EAA2BtnC,OAAOknC,yBAAyBlP,SAAS13B,UAAW,eAAiB,KAehImnC,EAAuB,SAA8BnmC,GACvD+iC,eAAeC,YAAYhjC,EAAEqjC,OAAOR,KAAK1iC,MAAK,WAC5C4C,SAASogC,cAAc,IAAIC,YAAY,0BAA2B,CAChEC,OAAQ,CACNR,IAAK7iC,EAAEqjC,OAAOR,YAMtB9/B,SAASlJ,iBAAiB,yBAvBZ,SAAS6nC,IACrBhjC,OAAO0nC,eAAe7hC,cAAcvF,UAAW,UAAW2mC,GAC1DjnC,OAAO0nC,eAAe7hC,cAAcvF,UAAW,aAAc6mC,GAC7DnnC,OAAO0nC,eAAe7hC,cAAcvF,UAAW,aAAc8mC,GAC7DpnC,OAAO0nC,eAAe7hC,cAAcvF,UAAW,aAAc+mC,GAC7DhjC,SAASjJ,oBAAoB,wBAAyB4nC,GACtD3+B,SAASjJ,oBAAoB,qCAAsCqsC,GAE/DH,GACFtnC,OAAO0nC,eAAe1P,SAAS13B,UAAW,cAAeknC,MAe7DnjC,SAASlJ,iBAAiB,qCAAsCssC,GAChE,IAAIE,EAAmB,IAAIC,MAAM,6BAgDjC5nC,OAAO0nC,eAAe7hC,cAAcvF,UAAW,UAAWN,OAAOC,OAAO,GAAIgnC,EAAmB,CAC7F9lC,MA/CF,SAAsBm7B,EAAUnqB,EAAOuC,GAOrC,OANAuyB,EAAkB9lC,MAAM3D,KAAKiD,KAAM67B,EAAUnqB,EAAOuC,GAEhDjU,KAAKquB,YAAcruB,KAAKquB,UAAUiQ,UAAUC,SAAS,eACvDv+B,KAAKquB,UAAU2V,cAAckD,IAGvB,MA0CV3nC,OAAO0nC,eAAe7hC,cAAcvF,UAAW,aAAcN,OAAOC,OAAO,GAAIknC,EAAsB,CACnGhmC,MAxCF,SAAyB4P,EAAM2D,GAC7B,IAAImzB,EAAcV,EAAqBhmC,MAAM3D,KAAKiD,KAAMsQ,EAAM2D,GAM9D,OAJIjU,KAAKquB,YAAcruB,KAAKquB,UAAUiQ,UAAUC,SAAS,eACvDv+B,KAAKquB,UAAU2V,cAAckD,GAGxBE,MAmCT7nC,OAAO0nC,eAAe7hC,cAAcvF,UAAW,aAAcN,OAAOC,OAAO,GAAImnC,EAAsB,CACnGjmC,MAjCF,SAAyBuT,GACvB0yB,EAAqBjmC,MAAM3D,KAAKiD,KAAMiU,GAElCjU,KAAKquB,YAAcruB,KAAKquB,UAAUiQ,UAAUC,SAAS,eACvDv+B,KAAKquB,UAAU2V,cAAckD,OA+BjC3nC,OAAO0nC,eAAe7hC,cAAcvF,UAAW,aAAcN,OAAOC,OAAO,GAAIonC,EAAsB,CACnGlmC,MA5BF,SAAyBuT,GACvB2yB,EAAqBlmC,MAAM3D,KAAKiD,KAAMiU,GAElCjU,KAAKquB,YAAcruB,KAAKquB,UAAUiQ,UAAUC,SAAS,eACvDv+B,KAAKquB,UAAU2V,cAAckD,OA2B7BL,GACFtnC,OAAO0nC,eAAe1P,SAAS13B,UAAW,cAAeN,OAAOC,OAAO,GAAIunC,EAA+B,CACxGviC,IAzBJ,WACE,IAEI6iC,EAAW9kC,EAAc,GAAIJ,EAFjB4kC,EAA8BviC,IAAIzH,KAAKiD,QAEHpG,QAAO,SAAUoX,GACnE,OAAQA,EAAWqd,UAAUiQ,UAAUC,SAAS,iBAGlD,OAAOh/B,OAAO+nC,eAAeD,EAAUE,eAAe1nC,eAuB1D,IAAI2nC,GA/LK/2B,MAAMjO,KAAKilC,OAAOC,gBAAgB,IAAI5e,WAAW,MAAM/pB,KAAI,SAAU8T,GAC1E,QANY5X,EAME4X,GALC,GAAK,IAAM,IAAM5X,EAAO8oB,SAAS,IADpD,IAAgB9oB,KAOXyB,KAAK,IA8LNirC,GAAgB,IAAIn6B,IACpBo6B,GAAuB,GACvBhuC,GAAS,KACTiuC,GAAQ,KACRC,GAAa,KACbC,GAAgC,KAChCC,GAAyB,KAE7B,SAASC,GAAoBrpC,EAAWqN,QACzB,IAATA,IACFA,EAAOrI,SAASskC,MAAQtkC,UAG1B,IAAI60B,EAAUxsB,EAAKpI,cAAc,IAAMjF,GAUvC,OARK65B,KACHA,EAAU70B,SAAS6L,cAAc,UACzB6uB,UAAU53B,IAAI,cACtB+xB,EAAQ6F,UAAU53B,IAAI9H,GACtB65B,EAAQjoB,MAAQ,SAChBioB,EAAQoH,YAAc,IAGjBpH,EAmBT,IAAI0P,GAAuB,IAAI36B,IAE/B,SAAS46B,GAAyBltC,EAAMmtC,GACtCF,GAAqBp6B,IAAIs6B,IAAUF,GAAqB3jC,IAAI6jC,GAAOn9B,OACnEi9B,GAAqB/4B,IAAIi5B,EAAOl+B,EAAqBjP,EAAM,WAU7D,SAASotC,KACP,IAAIC,EAAgBN,GAAoB,uBAAwBrkC,UAChE2kC,EAAc1I,YAAcrT,GAAyB5yB,GAAQ,CAC3D6yB,QAAQ,IAEV7oB,SAASskC,KAAK98B,aAAam9B,EAAe3kC,SAASskC,KAAK58B,YACxD88B,GAAyBG,EAAe,YACxC,IAAIC,EAAiBP,GAAoB,0BACzCO,EAAe3I,YAAc1U,GAA0BvxB,GAAQkuC,GAAYluC,GAAOwO,qBAClFxE,SAASskC,KAAK98B,aAAao9B,EAAgBD,EAAcl9B,aACzD+8B,GAAyBI,EAAgB,cACzC,IAxrHuB3wC,EACnBwzB,EAurHAod,EAAYR,GAAoB,oBAEhCruC,GAAO6N,SAAW7N,GAAO+N,WAAa,EACxC8gC,EAAU5I,aA3rHWhoC,EA2rHmB+B,IA1rHtCyxB,EAAQ,IACN5yB,KAAK,0JAEPZ,EAAO4P,SAAW5P,EAAO6P,YAC3B2jB,EAAM5yB,KAAK,kBAAoBZ,EAAO6P,WAAa,gBAGjD7P,EAAO8P,WAAa,IACtB0jB,EAAM5yB,KAAK,0BAA4BZ,EAAO8P,WAAa,kBAC3D0jB,EAAM5yB,KAAK,kBAAoBZ,EAAO8P,WAAa,mBAGrD0jB,EAAM5yB,KAAK,KACJ4yB,EAAM3uB,KAAK,OA+qHhB+rC,EAAU5I,YAAc,GAG1Bj8B,SAASskC,KAAK98B,aAAaq9B,EAAWF,EAAcl9B,aACpD+8B,GAAyBK,EAAW,QACpC,IAAIC,EAAcT,GAAoB,sBAElCJ,IAASp3B,MAAMk4B,QAAQd,GAAMe,SAAWf,GAAMe,OAAO3sC,OAAS,EAChEysC,EAAY7I,YAAc,CAACgI,GAAMe,OAAOlsC,KAAK,MAAQ,KAAM,eAAiBmpB,GAAkBvmB,EAAQA,EAAQ,GAAI1F,IAAS,CACzHL,SAA0B,IAAhBK,GAAO2N,KAAa3N,GAAOL,SAAWkoB,GAAM7nB,GAAOL,SAAW,GAAI,EAAG,QAC3E,eAAgB,KAAKmD,KAAK,MAEhCgsC,EAAY7I,YAAc,GAG5Bj8B,SAASskC,KAAK98B,aAAas9B,EAAaD,EAAUp9B,aAClD+8B,GAAyBM,EAAa,UACtC,IAAIG,EAAcZ,GAAoB,sBACtCY,EAAYhJ,YAAc/I,KAC1BlzB,SAASskC,KAAK98B,aAAay9B,EAAaH,EAAYr9B,aACpD+8B,GAAyBS,EAAa,UACtC,IAAIC,EAAgBb,GAAoB,wBACxCa,EAAcjJ,YAAcgI,IAASA,GAAMkB,IAAMC,GAAoBnB,GAAMkB,KAAO,GAClFnlC,SAASskC,KAAKe,YAAYH,GAC1BV,GAAyBU,EAAe,YACxC,IAAII,EAAgBjB,GAAoB,yBACpCkB,EAAkBhd,GAAkBvyB,IACpCkO,EAA4BlO,GAAOkO,0BACnCC,EAAsBnO,GAAOmO,oBAC7BC,EAA6BpO,GAAOoO,2BACpCC,EAAuBrO,GAAOqO,qBAC9BV,EAAO3N,GAAO2N,KACd6hC,EAAiC,IAAT7hC,EAAaS,EAA6BF,EAClEuhC,EAA2B,IAAT9hC,EAAaU,EAAuBF,EAC1DqhC,EAAwBpkB,GAAsBxQ,GAAM40B,GAAwBxvC,IAC5EyvC,EAAkB5jB,GAAsBjR,GAAM60B,GAAkBzvC,IAChEsvC,EAAcrJ,YAAc,CAAC,UAAW,uCAAyCuJ,EAAwB,IAAK,iCAAmCC,EAAkB,IAAK,yCAA2CF,EAAgB/c,yBAA2B,IAAK,mCAAqC+c,EAAgB9c,yBAA2B,IAAK,KAAK3vB,KAAK,MAClWkH,SAASskC,KAAK98B,aAAa89B,EAAeL,EAAYx9B,aACtD+8B,GAAyBc,EAAe,aACxC,IAAII,EAAgBrB,GAAoB,yBACxCrkC,SAASskC,KAAK98B,aAAak+B,EAAeJ,EAAc79B,aACxD,IAAIk+B,EAvFN,SAA8B3qC,EAAWqN,QAC1B,IAATA,IACFA,EAAOrI,SAASskC,MAAQtkC,UAG1B,IAAI60B,EAAUxsB,EAAKpI,cAAc,IAAMjF,GAQvC,OANK65B,KACHA,EAAU70B,SAAS6L,cAAc,WACzB6uB,UAAU53B,IAAI,cACtB+xB,EAAQ6F,UAAU53B,IAAI9H,IAGjB65B,EA0EW+Q,CAAqB,qBACvCD,EAAY1J,YAAc,IAAM0G,GAAc,MAC9C3iC,SAASskC,KAAK98B,aAAam+B,EAAaD,EAAcj+B,aAGxD,IAAIo+B,GAA2B,IAAI9jC,IAEnC,SAAS+jC,GAAiCz9B,GACxC,IAAI48B,EAAcZ,GAAoB,qBAAsBh8B,GAC5D48B,EAAYhJ,YAAc/I,KAC1B7qB,EAAKb,aAAay9B,EAAa58B,EAAKX,YACpC,IAAIw9B,EAAgBb,GAAoB,uBAAwBh8B,GAChE68B,EAAcjJ,YAAcgI,IAASA,GAAMkB,IAAMC,GAAoBnB,GAAMkB,KAAO,GAClF98B,EAAKb,aAAa09B,EAAeD,EAAYx9B,aAC7Co+B,GAAyB/iC,IAAIuF,GAG/B,SAAS+8B,GAAoBW,GAC3B,OAAOA,EAASrtC,QAAQ,cAAc,SAAUstC,EAAIn1B,GAClD,IACE,IAAIlZ,EAAQ+uB,GAAoB7V,GAChC,OA5/HGyO,GA4/HgB3nB,EAAO3B,GA5/HUsqB,IA6/HpC,MAAOpgB,GAEP,OADAmF,EAAQnF,GACD2Q,MAKb,SAASo1B,KACP,IAAIjY,EAAWhuB,SAASC,cAAc,yBAElC+tB,IACFA,EAASiO,YAAc,IA+C3B,IAAIiK,GAAuB,EACvBC,GAAgB,IAAIpkC,IAExB,SAASqkC,GAAcvR,GACrB,IAAIwR,IAAmBH,GAmCnBI,EAAUpL,GAAYrG,EAAS,CACjCh+B,OAbF,WACE,IAAIqnC,EAAUoI,EAAQpI,UAEjBA,IAILxY,GAAe8G,oBAAoB0R,EAAQ1xB,OAC3CkZ,GAAe+G,8BACf6Z,EAAQlI,OAAOpoC,GAAQmuC,MAKvBhJ,aAnCF,WACE,IAAKnyB,MAAiBu9B,GAAmB,CACvCJ,GAAcrjC,IAAIujC,GAClB,IAAI1B,EAAgB3kC,SAASC,cAAc,yBAEtC0kC,EAAc1I,cACjB0I,EAAc1I,YAAcrT,GAAyB5yB,GAAQ,CAC3D6yB,QAAQ,OA6BduS,WAvBF,WACE+K,GAAc78B,OAAO+8B,GAEM,IAAvBF,GAAc16B,MAAczC,KAC9Bi9B,QAsBJ,OADAlC,GAAcv4B,IAAIqpB,EAASyR,GACpBA,EAGT,SAASE,GAAc3R,GACrB,IAAIyR,EAAUvC,GAAcnjC,IAAIi0B,GAE5ByR,IACFA,EAAQ9H,UACRuF,GAAcz6B,OAAOurB,IAIzB,IAAI4R,GAA2BnhC,GAAS,SAAUzC,GAChDkhC,GAAc5pC,SAAQ,SAAUmsC,GAC9B,OAAOA,EAAQlI,OAAOpoC,GAAQmuC,OAEhCH,GAAqB7pC,SAAQ,SAAUmsC,GACrC,OAAOA,EAAQlI,OAAOpoC,GAAQmuC,OAEhCthC,GAAYA,OAGV6jC,GAAkB,WACpBD,GAAyB9gC,UAG3B,SAASghC,KACoB,IAAvBR,GAAc16B,MAChBw6B,KAIJ,IAAIW,GAA6B,KAC7BL,IAAqBvmC,SAAS6mC,OAkBlC,SAASC,KACP9mC,SAASjJ,oBAAoB,mBAAoB6vC,IACjDA,GAA6B,KAG/B,SAASG,KAGP,SAASC,IAwBX,IA3kE8B1T,EAAuBC,GAg6DrD,WACEmT,KACA,IACIO,EADYrM,GAAoB56B,UACRhK,QAAO,SAAU8X,GAC3C,OAAQi2B,GAAc55B,IAAI2D,MACzB3S,KAAI,SAAU2S,GACf,OAAOs4B,GAAct4B,MAEvBm5B,EAAY9rC,KAAI,SAAUmrC,GACxB,OAAOA,EAAQpI,aACdloC,QAAO,SAAUsqC,GAClB,OAAOA,GAAUA,EAAO9zB,MAAMnU,OAAS,KACtC8B,SAAQ,SAAUmmC,GACnB5a,GAAe8G,oBAAoB8T,EAAO9zB,UAE5CkZ,GAAe+G,8BACf/G,GAAe2K,YAAYrwB,SAASskC,KAAKrkC,cAAc,0BAA2BjK,IAClF+tC,GAAc5pC,SAAQ,SAAUmsC,GAC9B,OAAOA,EAAQlI,OAAOpoC,GAAQmuC,OAGL,IAAvBgC,GAAc16B,MAChBw6B,KAGFgB,EAAY9sC,SAAQ,SAAUmsC,GAC5B,OAAOA,EAAQ7H,WAEjB,IAAIyI,EAt4KN,SAAiBziC,GAGf,IAFA,IAAI4mB,EAAU,GAEL1yB,EAAI,EAAGiM,EAAMH,EAAMpM,OAAQM,EAAIiM,EAAKjM,IAC3C0yB,EAAQx2B,KAAK4P,EAAM9L,IAGrB,OAAO0yB,EA+3KmB8b,CAAQnnC,SAAS4zB,iBAAiBZ,KAC5D5qB,EAAmBpI,SAASuvB,iBAAiB,SAAUuL,GACrDgL,GAAiChL,EAAKnyB,YACtC,IAAI63B,EAAW1F,EAAKnyB,WAAWirB,iBAAiBZ,IAE5CwN,EAASnoC,OAAS,GACpBxD,EAAKqyC,EAAqB1G,MAG9B0G,EAAoB/sC,SAAQ,SAAU25B,GACpC,OAAOc,GAAoBd,EAAI99B,GAAQouC,GAAwBD,OAEjEiD,GAAyBpnC,UA4GvBqnC,GAyBF1G,GADoB9zB,MAAMjO,KAAKmlC,GAAcjqC,SACT,SAAUwG,GAC5C,IAAIihC,EAAUjhC,EAAGihC,QACbG,EAAUphC,EAAGohC,QACbF,EAAUlhC,EAAGkhC,QACbC,EAAQnhC,EAAGmhC,MACX6F,EAAiB9F,EACjB+F,EAAiBhG,EAAQ3hB,OAAO8hB,GAAS9hB,OAAO6hB,GAAOzrC,QAAO,SAAU8X,GAC1E,OAAQi2B,GAAc55B,IAAI2D,MAExB05B,EAAkB/F,EAAMzrC,QAAO,SAAU8X,GAC3C,OAAOi2B,GAAc55B,IAAI2D,MAE3Bw5B,EAAentC,SAAQ,SAAU2T,GAC/B,OAAO04B,GAAc14B,MAEvB,IAAIm5B,EAAcM,EAAepsC,KAAI,SAAU2S,GAC7C,OAAOs4B,GAAct4B,MAEvBm5B,EAAY9rC,KAAI,SAAUmrC,GACxB,OAAOA,EAAQpI,aACdloC,QAAO,SAAUsqC,GAClB,OAAOA,GAAUA,EAAO9zB,MAAMnU,OAAS,KACtC8B,SAAQ,SAAUmmC,GACnB5a,GAAe8G,oBAAoB8T,EAAO9zB,UAE5CkZ,GAAe+G,8BACfwa,EAAY9sC,SAAQ,SAAUmsC,GAC5B,OAAOA,EAAQlI,OAAOpoC,GAAQmuC,OAEhC8C,EAAY9sC,SAAQ,SAAUmsC,GAC5B,OAAOA,EAAQ7H,WAEjB+I,EAAgBrtC,SAAQ,SAAU2T,GAChC,OAAOi2B,GAAcnjC,IAAIkN,GAAO5G,gBAEjC,SAAUyB,GACXm9B,GAAiCn9B,GACjCy+B,GAAyBz+B,MAlnEC2qB,EAonEP,SAAUuB,GAC7BD,GAAoBC,EAAS7+B,GAAQouC,GAAwBD,IAEzDtP,IAAY70B,SAASuvB,iBACPsF,EAAQF,aAAa,SAEvBv1B,SAAS,QACrBsmB,GAAe+G,8BACf/G,GAAe2K,YAAYrwB,SAASskC,KAAKrkC,cAAc,0BAA2BjK,MA5nErCu9B,EA+nEhD,SAAUlrB,GACXy9B,GAAiCz9B,GACjC,IAAI6+B,EAAsB7+B,EAAKurB,iBAAiBZ,IAE5CkU,EAAoB7uC,OAAS,GAC/B8B,EAAQ+sC,GAAqB,SAAUpT,GACrC,OAAOc,GAAoBd,EAAI99B,GAAQouC,GAAwBD,QApoErE9Q,GAAyBrzB,SAAUszB,EAAuBC,GAC1DnrB,EAAmBpI,SAASuvB,iBAAiB,SAAUuL,GACrDzH,GAAyByH,EAAKnyB,WAAY2qB,EAAuBC,MAsoEnEpqB,EAAoBw9B,IA9GtB,IAAoC9jC,EAC9B4kC,EAjxDqC1oB,EACrCtjB,EAqyDJipC,KAOI1kC,SAAS6mC,QA7BqBhkC,EA8BLmkC,EA7BzBS,EAAkB3hB,QAAQ8gB,IAE9BA,GAA6B,WACtB5mC,SAAS6mC,SACZC,KACAjkC,IACA0jC,IAAoB,IAInBkB,GACHznC,SAASlJ,iBAAiB,mBAAoB8vC,KAoB9CI,IAhzDuCjoB,EAmzDP/oB,IAlzD9ByF,EAAOuE,SAASC,cAAci2B,KAGhCE,GAAqB36B,EAAMsjB,IAEvBpX,IACFA,GAASO,cAGXP,GAAW,IAAIE,kBAAiB,SAAUyC,GACxCo9B,EAAM,IAAK,IAAI/uC,EAAI,EAAGA,EAAI2R,EAAUjS,OAAQM,IAG1C,IAFA,IAAI6R,EAAaF,EAAU3R,GAAG6R,WAErB1L,EAAI,EAAGA,EAAI0L,EAAWnS,OAAQyG,IAAK,CAC1C,IAAIxH,EAAOkT,EAAW1L,GAEtB,GAAIxH,aAAgBqwC,iBAAmBrwC,EAAK5C,OAASuhC,GAAoB,CACvEtuB,GAASO,aACTP,GAAW,KACXyuB,GAAqB9+B,EAAMynB,GAC3B,MAAM2oB,QAKL3/B,QAAQ/H,SAASskC,KAAM,CAC9Bt8B,WAAW,KA2xDjB,SAASo/B,GAAyB9vC,GAChC,GAAIuV,MAAMk4B,QAAQztC,EAAK8qC,qBACjB9qC,EAAK8qC,mBAAmB/pC,OAAS,EAAG,CACtC,IAAIuvC,EAAYzF,GAAgC7qC,GAChD0sC,GAAqBnvC,KAAK+yC,GAC1BA,EAAUxJ,OAAOpoC,GAAQmuC,KAsE/B,SAAS0D,KACP9D,GAAc5pC,SAAQ,SAAUmsC,GAC9B,OAAOA,EAAQvI,WAlVjB5jC,EAAQoqC,GAAqBtqC,UAAU,SAAU6tC,GAC/C,OAAOA,EAAQxgC,UAEjBi9B,GAAqB/6B,QAkVrBq3B,KAriEA1N,GAAch5B,SAAQ,SAAUkE,GAC9B,OAAOA,EAAE6J,gBAEXkrB,GAAcj5B,SAAQ,SAAUkE,GAC9B,OAAOA,EAAE6J,gBAEXirB,GAAc3pB,QACd4pB,GAAc5pB,QAgiEdH,EAAuBs9B,IAUzB,SAASoB,KACP,IAPIC,EAOAvsC,EAAOuE,SAASC,cAAc,2BAElC,OAAIxE,EACEA,EAAKvG,UAAY0uC,KAVnBoE,EAAchoC,SAAS6L,cAAc,SAC7BnX,KAAO,aACnBszC,EAAY9yC,QAAU0uC,GACtB5jC,SAASskC,KAAKe,YAAY2C,IAcjB,GAIX,SAASC,GAA2BC,EAAcC,EAAmBC,GAcnE,GAbApyC,GAASkyC,GACTjE,GAAQkE,IAGNhE,GAAgCt3B,MAAMk4B,QAAQd,GAAM9M,qBAAuB8M,GAAM9M,oBAAsB,GACvGiN,GAAyBv3B,MAAMk4B,QAAQd,GAAMoE,mBAAqBpE,GAAMoE,kBAAoB,KAE5FlE,GAAgC,GAChCC,GAAyB,IAG3BF,GAAakE,EAETpoC,SAASskC,KAAM,CACjB,GAAIyD,KACF,OAGF/nC,SAASuvB,gBAAgByG,aAAa,uBAAwB,WAC9Dh2B,SAASuvB,gBAAgByG,aAAa,yBAA0BhgC,GAAO2N,KAAO,OAAS,UACvFojC,SACK,CACL,IAAKznC,EAAW,CACd,IAAIqlC,EAAgBN,GAAoB,wBACxCrkC,SAASuvB,gBAAgB8V,YAAYV,GACrCA,EAAc1I,YAAcrT,GAAyB5yB,GAAQ,CAC3D6yB,QAAQ,IAIZ,IAAIyf,EAAiB,IAAIzgC,kBAAiB,WACxC,GAAI7H,SAASskC,KAAM,CAGjB,GAFAgE,EAAepgC,aAEX6/B,KAEF,YADAQ,KAIFxB,SAGJuB,EAAevgC,QAAQ/H,SAAU,CAC/BgI,WAAW,EACXuD,SAAS,KAUf,SAASg9B,KACPvoC,SAASuvB,gBAAgB2F,gBAAgB,wBACzCl1B,SAASuvB,gBAAgB2F,gBAAgB,0BAiCzCxP,GAAelc,QACfkC,EAAelC,QACfs9B,KACAJ,KACAmB,KACArc,KApCAplB,EAAWpG,SAASC,cAAc,0BAE9BD,SAASskC,OA97Df,WACM38B,KACFA,GAASO,aACTP,GAAW,MAGb,IAAIlM,EAAOuE,SAASC,cAAci2B,IAE9Bz6B,GAAQ06B,KACV16B,EAAKvG,QAAUihC,IAs7DfqS,GACApiC,EAAWpG,SAASskC,KAAKrkC,cAAc,4BACvCmG,EAAWpG,SAASskC,KAAKrkC,cAAc,sBACvCmG,EAAWpG,SAASskC,KAAKrkC,cAAc,wBACvCmG,EAAWpG,SAASskC,KAAKrkC,cAAc,wBACvCmG,EAAWpG,SAASskC,KAAKrkC,cAAc,0BACvCmG,EAAWpG,SAASskC,KAAKrkC,cAAc,2BACvCmG,EAAWpG,SAASskC,KAAKrkC,cAAc,2BACvCmG,EAAWpG,SAASskC,KAAKrkC,cAAc,4BAnBzCD,SAASogC,cAAc,IAAIC,YAAY,0BACvCj6B,EAAWpG,SAASskC,KAAKrkC,cAAc,wBAsBvC4lC,GAAyB1rC,SAAQ,SAAUkO,GACzCjC,EAAWiC,EAAKpI,cAAc,wBAC9BmG,EAAWiC,EAAKpI,cAAc,6BAEhC4lC,GAAyBr8B,QACzBrP,EAAQ4pC,GAAcjqC,QAAQ,SAAUg6B,GACtC,OAAO0S,GAAc1S,MAEvB35B,EAAQ6F,SAAS4zB,iBAAiB,eAAgBxtB,GAClD49B,GAAqB7pC,SAAQ,SAAUmsC,GACrCA,EAAQ9H,aAEVwF,GAAqB3X,OAAO,GAY9B,IAAIoc,GAAY,0BAEhB,SAASC,GAAajmC,GACpB,OAAOpG,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAIusC,EAAUlxC,EACd,OAAO4F,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EAMH,OALAirC,EAAW,GACXtqB,GAAWoqB,GAAWhmC,EAAM,GAAGtI,SAAQ,SAAU1F,GAC/C,IAAIm0C,EAAU3nC,EAAcxM,GAC5Bk0C,EAAS9zC,KAAK+zC,MAET,CAAC,EAAGlsC,QAAQ4uB,IAAIqd,IAEzB,KAAK,EAEH,OADAlxC,EAAO6I,EAAG3C,OACH,CAAC,EAAG8E,EAAK/J,QAAQ+vC,IAAW,WACjC,MAAO,QAAWhxC,EAAKgB,QAAU,gBAO7C,IAAIowC,GAAS,o4BAEb,SAASC,KACP,OAAOzsC,EAAUD,UAAM,OAAQ,GAAQ,WACrC,SAAS2sC,EAAa9Q,EAAU+Q,GAC9B,IAAIC,EAAcjpC,SAASC,cAAcg4B,GAErCgR,GAAeA,EAAYhN,cAC7BkJ,EAAItwC,KAAK,MAAQm0C,EAAU,OAC3B7D,EAAItwC,KAAKo0C,EAAYhN,aACrBkJ,EAAItwC,KAAK,KAIb,IAAIswC,EAAK+D,EAAaC,EAAc7oC,EAAIiC,EAExC,OAAOlF,EAAYjB,MAAM,SAAU4S,GACjC,OAAQA,EAAGtR,OACT,KAAK,EAaH,OAZAynC,EAAM,CAAC0D,IACPE,EAAa,wBAAyB,kBACtCA,EAAa,0BAA2B,oBACxCA,EAAa,oBAAqB,cAClCA,EAAa,sBAAuB,gBACpCA,EAAa,yBAA0B,mBACvCG,EAAc,GACdlpC,SAAS4zB,iBAAiB,qBAAqBz5B,SAAQ,SAAU06B,GAC/D16B,EAAQ06B,EAAQrE,MAAMvjB,UAAU,SAAUP,GACxCA,GAAQA,EAAKuB,SAAWi7B,EAAYr0C,KAAK6X,EAAKuB,eAGtB,GAAtBi7B,EAAY7wC,OAAqB,CAAC,EAAG,IAC3C8wC,EAvqJV,SAAmB1mC,GACjB,SAAS2mC,EAAS3mC,GAChB,OAAOA,EAAK/J,QAAQ,OAAQ,IAG9B,SAAS2wC,EAAUnY,GACjB,OAAc,IAAVA,EACK,GAGF,IAAIoY,OAAO,EAAIpY,GAKxB,IAFA,IAAIqY,EAAkB,eAEfA,EAAgBC,KAAK/mC,IAC1BA,EAAOA,EAAK/J,QAAQ6wC,EAAiB,IAOvC,IAJA,IAAIpE,EAAM1iC,EAAK/J,QAAQ,UAAW,KAAKA,QAAQ,MAAO,OAAOA,QAAQ,MAAO,SAASA,QAAQ,0BAA2B,OAAOA,QAAQ,0BAA2B,OAAOA,QAAQ,WAAY,MAAMM,MAAM,MACrMk4B,EAAQ,EACRuY,EAAY,GAEPx6B,EAAI,EAAGrK,EAAMugC,EAAI9sC,OAAQ4W,EAAIrK,EAAKqK,IAAK,CAC9C,IAAIy6B,EAAOvE,EAAIl2B,GAAK,KAEhBy6B,EAAKnxC,MAAM,MACbkxC,EAAU50C,KAAKw0C,EAAUnY,KAAWkY,EAASM,IACpCA,EAAKnxC,MAAM,MACpBkxC,EAAU50C,KAAKw0C,IAAYnY,GAASkY,EAASM,IAE7CD,EAAU50C,KAAKw0C,EAAUnY,GAASkY,EAASM,IAI/C,OAAOD,EAAU3wC,KAAK,IAAIkV,OAooJH27B,CAAUT,EAAYpwC,KAAK,OAC1CqsC,EAAItwC,KAAK,sBACT0N,GAAMjC,EAAK6kC,GAAKtwC,KACT,CAAC,EAAG6zC,GAAaS,KAE1B,KAAK,EACH5mC,EAAGpG,MAAMmE,EAAI,CAAC0O,EAAGrR,SAEjBwnC,EAAItwC,KAAK,IACTma,EAAGtR,MAAQ,EAEb,KAAK,EAEH,OADAqrC,EAAa,wBAAyB,kBAC/B,CAAC,EAAG5D,EAAIrsC,KAAK,cAM9B,IAAI8wC,IAAsB,EAEtBpiB,GAAW,WACb,IACE,OAAOtxB,OAAO2zC,OAAS3zC,OAAO4zC,IAC9B,MAAO5pC,GAEP,OADAyC,QAAQonC,KAAK7pC,IACN,GALI,GASf,SAAS/J,GAAO6zC,EAAc/F,QACP,IAAjB+F,IACFA,EAAe,SAGH,IAAV/F,IACFA,EAAQ,MAGV,IAAIllB,EAAQrjB,EAAQA,EAAQ,GAAIgI,GAAgBsmC,GAEhD,GAAIjrB,EAAM/a,SAAWb,EAAaI,aAChC,MAAM,IAAI1C,MAAM,kCAGlBonC,GAA2BlpB,EAAOklB,EAAOzc,IACzCoiB,IAAsB,EAOxB,SAASvzC,KACPkyC,KACAqB,IAAsB,EAGxB,IAAIK,GAAazzC,WAAW,gCACxB0zC,GAAQ,CACVF,aAAc,KACd/F,MAAO,MAGT,SAASkG,KACHF,GAAWtzC,QACbR,GAAO+zC,GAAMF,aAAcE,GAAMjG,OAEjC5tC,KAkDJ,IAAI+zC,GAhmMJ,SAA0B7pC,GAEtBmB,EADEnB,GAGQkB,GA6lMdpI,EAAQgxC,KA/CR,SAAcL,EAAc/F,QACL,IAAjB+F,IACFA,EAAe,SAGH,IAAV/F,IACFA,EAAQ,MAGN+F,GACFE,GAAQ,CACNF,aAAcA,EACd/F,MAAOA,GAETkG,KAEItqC,EACFoqC,GAAWnzC,iBAAiB,SAAUqzC,IAEtCF,GAAWhnC,YAAYknC,MAGrBtqC,EACFoqC,GAAWlzC,oBAAoB,SAAUozC,IAEzCF,GAAWK,eAAeH,IAG5B9zC,OAoBJgD,EAAQhD,QAAUA,GAClBgD,EAAQlD,OAASA,GACjBkD,EAAQkxC,mBAlBR,WACE,OAAOluC,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOiB,EAAYjB,MAAM,SAAUkE,GACjC,OAAQA,EAAG5C,OACT,KAAK,EACH,MAAO,CAAC,EAAGorC,MAEb,KAAK,EACH,MAAO,CAAC,EAAGxoC,EAAG3C,gBAWxBtE,EAAQmxC,UA1ER,WACE,OAAOZ,IA0ETvwC,EAAQ+wC,eAAiBA,GACzBzuC,OAAO0nC,eAAehqC,EAAS,aAAc,CAC3CyD,OAAO,IAh9MsD2tC,CAAQpxC","file":"component---src-pages-index-js-8dc61b3632fd5108538f.js","sourcesContent":["// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport urljoin from 'url-join'\nimport config from '../../data/SiteConfig'\n\nconst SEO = ({ postNode, postPath, postSEO }) => {\n  let title;\n  let description;\n  let image;\n  let postURL;\n  if (postSEO) {\n    const postMeta = postNode.frontmatter;\n    ({ title } = postMeta);\n    description = postMeta.description\n      ? postMeta.description\n      : postNode.excerpt;\n    // image = postMeta.cover;\n    postURL = urljoin(config.siteUrl, config.pathPrefix, postPath);\n  } else {\n    title = config.siteTitle;\n    description = config.siteDescription;\n    image = config.siteLogo;\n  }\n\n  // image = urljoin(config.siteUrl, config.pathPrefix, image);\n  const blogURL = urljoin(config.siteUrl, config.pathPrefix);\n  const schemaOrgJSONLD = [\n    {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"WebSite\",\n      url: blogURL,\n      name: title,\n      alternateName: config.siteTitleAlt ? config.siteTitleAlt : \"\"\n    }\n  ];\n  if (postSEO) {\n    schemaOrgJSONLD.push(\n      {\n        \"@context\": \"http://schema.org\",\n        \"@type\": \"BreadcrumbList\",\n        itemListElement: [\n          {\n            \"@type\": \"ListItem\",\n            position: 1,\n            item: {\n              \"@id\": postURL,\n              name: title,\n              image\n            }\n          }\n        ]\n      },\n      {\n        \"@context\": \"http://schema.org\",\n        \"@type\": \"BlogPosting\",\n        url: blogURL,\n        name: title,\n        alternateName: config.siteTitleAlt ? config.siteTitleAlt : \"\",\n        headline: title,\n        image: {\n          \"@type\": \"ImageObject\",\n          url: image\n        },\n        description\n      }\n    );\n  }\n  return (\n    <Helmet>\n      {/* General tags */}\n      <meta name=\"description\" content={description} />\n      <meta name=\"image\" content={image} />\n\n      {/* Schema.org tags */}\n      <script type=\"application/ld+json\">\n        {JSON.stringify(schemaOrgJSONLD)}\n      </script>\n\n      {/* OpenGraph tags */}\n      <meta property=\"og:url\" content={postSEO ? postURL : blogURL} />\n      {postSEO ? <meta property=\"og:type\" content=\"article\" /> : null}\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:description\" content={description} />\n      <meta property=\"og:image\" content={image} />\n      <meta\n        property=\"fb:app_id\"\n        content={config.siteFBAppID ? config.siteFBAppID : \"\"}\n      />\n\n      {/* Twitter Card tags */}\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\n      <meta\n        name=\"twitter:creator\"\n        content={config.userTwitter ? config.userTwitter : \"\"}\n      />\n      <meta name=\"twitter:title\" content={title} />\n      <meta name=\"twitter:description\" content={description} />\n      <meta name=\"twitter:image\" content={image} />\n    </Helmet>\n  )\n}\n\nexport default SEO\n","import {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\n\nconst defaultFilter = {\n  brightness: 100,\n  contrast: 90,\n  sepia: 10\n};\n\nexport default function Interpolator({\n  appearance,\n  watchSystem = false,\n  filter,\n  children\n}) {\n  if (window) {\n    const {\n      enable: enableDarkMode,\n      disable: disableDarkMode\n    } = require('darkreader');\n    const mq = window.matchMedia('(prefers-color-scheme: dark)');\n    const [watchIsDark, setWatchIsDark] = useState(mq.matches);\n\n    function updateWatch(update) {\n      setWatchIsDark(update.matches);\n    }\n\n    useEffect(() => {\n      mq.addEventListener('change', updateWatch);\n      return () => mq.removeEventListener('change', updateWatch);\n    }, [mq]);\n\n    const filterProps = filter ? filter : defaultFilter;\n    const {\n      brightness = defaultFilter.brightness,\n      contrast = defaultFilter.contrast,\n      sepia = defaultFilter.sepia\n    } = filterProps;\n\n    if (\n      (watchSystem && watchIsDark) ||\n      (!watchSystem && appearance === 'dark')\n    ) {\n      enableDarkMode({brightness, contrast, sepia});\n    } else if (\n      (watchSystem && !watchIsDark) ||\n      (!watchSystem && appearance !== 'dark')\n    ) {\n      disableDarkMode();\n    }\n  }\n\n  return children;\n}\n\nInterpolator.propTypes = {\n  appearance: PropTypes.string,\n  watchSystem: PropTypes.bool,\n  filter: PropTypes.shape({\n    brightness: PropTypes.number,\n    contrast: PropTypes.number,\n    sepia: PropTypes.number\n  }),\n  children: PropTypes.node\n};\n","import React from \"react\";\nimport Helmet from \"react-helmet\";\nimport { graphql } from \"gatsby\";\nimport { view, store } from \"@risingstack/react-easy-state\";\nimport Layout from \"../layout\";\nimport PostListing from \"../components/PostListing\";\nimport SEO from \"../components/SEO\";\nimport config from \"../../data/SiteConfig\";\nimport appStore from \"../utils/appStore\";\nimport Interpolator from \"react-apply-darkmode/interpolator\";\n\nconst Index = view(({ data }) => (\n  <Layout>\n    <main>\n      <h1>{JSON.stringify(appStore.color)}</h1>\n      <Interpolator appearance={appStore.color ? \"dark\" : \"light\"}>\n        {/*<style>{'body { background-color: red; }'}</style>*/}\n        <Helmet title={config.siteTitle} />\n        <SEO />\n        <PostListing postEdges={data.allMarkdownRemark.edges} />\n      </Interpolator>\n    </main>\n  </Layout>\n));\n\nexport default Index;\n\n/* eslint no-undef: \"off\" */\nexport const pageQuery = graphql`\n  query IndexQuery {\n    allMarkdownRemark(\n      limit: 2000\n      sort: { fields: [fields___date], order: DESC }\n      filter: { fields: { draft: { eq: false } } }\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n            date(formatString: \"MMMM DD, YYYY\")\n          }\n          excerpt\n          timeToRead\n          frontmatter {\n            title\n            tags\n            date\n            categories\n            extract\n            thumbnail\n          }\n        }\n      }\n    }\n  }\n`;\n","require(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\n(function (name, context, definition) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = definition();else if (typeof define === 'function' && define.amd) define(definition);else context[name] = definition();\n})('urljoin', this, function () {\n  function normalize(strArray) {\n    var resultArray = [];\n\n    if (strArray.length === 0) {\n      return '';\n    }\n\n    if (typeof strArray[0] !== 'string') {\n      throw new TypeError('Url must be a string. Received ' + strArray[0]);\n    } // If the first part is a plain protocol, we combine it with the next part.\n\n\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n      var first = strArray.shift();\n      strArray[0] = first + strArray[0];\n    } // There must be two or three slashes in the file protocol, two slashes in anything else.\n\n\n    if (strArray[0].match(/^file:\\/\\/\\//)) {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\n    } else {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\n    }\n\n    for (var i = 0; i < strArray.length; i++) {\n      var component = strArray[i];\n\n      if (typeof component !== 'string') {\n        throw new TypeError('Url must be a string. Received ' + component);\n      }\n\n      if (component === '') {\n        continue;\n      }\n\n      if (i > 0) {\n        // Removing the starting slashes for each component but the first.\n        component = component.replace(/^[\\/]+/, '');\n      }\n\n      if (i < strArray.length - 1) {\n        // Removing the ending slashes for each component but the last.\n        component = component.replace(/[\\/]+$/, '');\n      } else {\n        // For the last component we will combine multiple slashes to a single one.\n        component = component.replace(/[\\/]+$/, '/');\n      }\n\n      resultArray.push(component);\n    }\n\n    var str = resultArray.join('/'); // Each input component is now separated by a single slash except the possible first plain protocol part.\n    // remove trailing slash before parameters or hash\n\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1'); // replace ? in parameters with &\n\n    var parts = str.split('?');\n    str = parts.shift() + (parts.length > 0 ? '?' : '') + parts.join('&');\n    return str;\n  }\n\n  return function () {\n    var input;\n\n    if (typeof arguments[0] === 'object') {\n      input = arguments[0];\n    } else {\n      input = [].slice.call(arguments);\n    }\n\n    return normalize(input);\n  };\n});","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport styles from  './PostsListing.module.scss'\n\n  const PostListing = ({ postEdges }) => {\n    const getPostList = () => {\n    const postList = [];\n    postEdges.forEach(postEdge => {\n      postList.push({\n        path: postEdge.node.fields.slug,\n        tags: postEdge.node.frontmatter.tags,\n        categories: postEdge.node.frontmatter.categories,\n        extract: postEdge.node.frontmatter.extract,\n        thumbnail: postEdge.node.frontmatter.thumbnail,\n        cover: postEdge.node.frontmatter.cover,\n        title: postEdge.node.frontmatter.title,\n        date: postEdge.node.fields.date,\n        excerpt: postEdge.node.excerpt,\n        timeToRead: postEdge.node.timeToRead\n      })\n    });\n    return postList;\n    };\n\n    const postList = getPostList();\n    return (\n      <div className={styles.articleList}>\n        {/* Your post list here. */\n        postList.map(post => (\n          <Link to={post.path} key={post.title}>\n            <article className={styles.articleBox}>\n              <div className={styles.right}>\n                <img src={post.thumbnail}/>\n                <h2>{post.title}</h2>\n                <div className={styles.meta}>{post.date}  &mdash; <span>{post.categories.join(' / ')}</span></div>\n                <p>{post.extract}</p>\n              </div>\n            </article>\n          </Link>\n        ))}\n      </div>\n    )\n    \n  };\n\nexport default PostListing\n","require(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.weak-set\");\n\nrequire(\"core-js/modules/es7.object.values\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.typed.uint8-array\");\n\nrequire(\"core-js/modules/es6.string.repeat\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es7.object.entries\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.weak-map\");\n\nrequire(\"core-js/modules/es6.map\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.set\");\n\nrequire(\"core-js/modules/es6.string.ends-with\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.string.starts-with\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\n/**\n * Dark Reader v4.9.33\n * https://darkreader.org/\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.DarkReader = {}));\n})(this, function (exports) {\n  'use strict';\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation.\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n  purpose with or without fee is hereby granted.\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n  PERFORMANCE OF THIS SOFTWARE.\r\n  ***************************************************************************** */\n\n  var _assign = function __assign() {\n    _assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return _assign.apply(this, arguments);\n  };\n\n  function __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  }\n\n  function __generator(thisArg, body) {\n    var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n        f,\n        y,\n        t,\n        g;\n    return g = {\n      next: verb(0),\n      \"throw\": verb(1),\n      \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n      return this;\n    }), g;\n\n    function verb(n) {\n      return function (v) {\n        return step([n, v]);\n      };\n    }\n\n    function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n\n      while (_) {\n        try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n\n          switch (op[0]) {\n            case 0:\n            case 1:\n              t = op;\n              break;\n\n            case 4:\n              _.label++;\n              return {\n                value: op[1],\n                done: false\n              };\n\n            case 5:\n              _.label++;\n              y = op[1];\n              op = [0];\n              continue;\n\n            case 7:\n              op = _.ops.pop();\n\n              _.trys.pop();\n\n              continue;\n\n            default:\n              if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                _ = 0;\n                continue;\n              }\n\n              if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                _.label = op[1];\n                break;\n              }\n\n              if (op[0] === 6 && _.label < t[1]) {\n                _.label = t[1];\n                t = op;\n                break;\n              }\n\n              if (t && _.label < t[2]) {\n                _.label = t[2];\n\n                _.ops.push(op);\n\n                break;\n              }\n\n              if (t[2]) _.ops.pop();\n\n              _.trys.pop();\n\n              continue;\n          }\n\n          op = body.call(thisArg, _);\n        } catch (e) {\n          op = [6, e];\n          y = 0;\n        } finally {\n          f = t = 0;\n        }\n      }\n\n      if (op[0] & 5) throw op[1];\n      return {\n        value: op[0] ? op[1] : void 0,\n        done: true\n      };\n    }\n  }\n\n  function __values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator,\n        m = s && o[s],\n        i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n      next: function next() {\n        if (o && i >= o.length) o = void 0;\n        return {\n          value: o && o[i++],\n          done: !o\n        };\n      }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n  }\n\n  function __read(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o),\n        r,\n        ar = [],\n        e;\n\n    try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n        ar.push(r.value);\n      }\n    } catch (error) {\n      e = {\n        error: error\n      };\n    } finally {\n      try {\n        if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      } finally {\n        if (e) throw e.error;\n      }\n    }\n\n    return ar;\n  }\n\n  function __spreadArray(to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n      to[j] = from[i];\n    }\n\n    return to;\n  }\n\n  var userAgent = typeof navigator === 'undefined' ? 'some useragent' : navigator.userAgent.toLowerCase();\n  var platform = typeof navigator === 'undefined' ? 'some platform' : navigator.platform.toLowerCase();\n  var isChromium = userAgent.includes('chrome') || userAgent.includes('chromium');\n  var isThunderbird = userAgent.includes('thunderbird');\n  var isFirefox = userAgent.includes('firefox') || isThunderbird;\n  userAgent.includes('vivaldi');\n  userAgent.includes('yabrowser');\n  userAgent.includes('opr') || userAgent.includes('opera');\n  userAgent.includes('edg');\n  var isSafari = userAgent.includes('safari') && !isChromium;\n  var isWindows = platform.startsWith('win');\n  var isMacOS = platform.startsWith('mac');\n  userAgent.includes('mobile');\n  var isShadowDomSupported = typeof ShadowRoot === 'function';\n  var isMatchMediaChangeEventListenerSupported = typeof MediaQueryList === 'function' && typeof MediaQueryList.prototype.addEventListener === 'function';\n\n  (function () {\n    var m = userAgent.match(/chrom[e|ium]\\/([^ ]+)/);\n\n    if (m && m[1]) {\n      return m[1];\n    } else {\n      return '';\n    }\n  })();\n\n  var isDefinedSelectorSupported = function () {\n    try {\n      document.querySelector(':defined');\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }();\n\n  (function () {\n    try {\n      new CSSStyleSheet();\n      return true;\n    } catch (err) {\n      return false;\n    }\n  })();\n\n  function getOKResponse(url, mimeType) {\n    return __awaiter(this, void 0, void 0, function () {\n      var response;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, fetch(url, {\n              cache: 'force-cache',\n              credentials: 'omit'\n            })];\n\n          case 1:\n            response = _a.sent();\n\n            if (isFirefox && mimeType === 'text/css' && url.startsWith('moz-extension://') && url.endsWith('.css')) {\n              return [2, response];\n            }\n\n            if (mimeType && !response.headers.get('Content-Type').startsWith(mimeType)) {\n              throw new Error(\"Mime type mismatch when loading \" + url);\n            }\n\n            if (!response.ok) {\n              throw new Error(\"Unable to load \" + url + \" \" + response.status + \" \" + response.statusText);\n            }\n\n            return [2, response];\n        }\n      });\n    });\n  }\n\n  function loadAsDataURL(url, mimeType) {\n    return __awaiter(this, void 0, void 0, function () {\n      var response;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, getOKResponse(url, mimeType)];\n\n          case 1:\n            response = _a.sent();\n            return [4, readResponseAsDataURL(response)];\n\n          case 2:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function readResponseAsDataURL(response) {\n    return __awaiter(this, void 0, void 0, function () {\n      var blob, dataURL;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, response.blob()];\n\n          case 1:\n            blob = _a.sent();\n            return [4, new Promise(function (resolve) {\n              var reader = new FileReader();\n\n              reader.onloadend = function () {\n                return resolve(reader.result);\n              };\n\n              reader.readAsDataURL(blob);\n            })];\n\n          case 2:\n            dataURL = _a.sent();\n            return [2, dataURL];\n        }\n      });\n    });\n  }\n\n  var throwCORSError = function throwCORSError(url) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, Promise.reject(new Error(['Embedded Dark Reader cannot access a cross-origin resource', url, 'Overview your URLs and CORS policies or use', '`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.', 'See if using `DarkReader.setFetchMethod(window.fetch)`', 'before `DarkReader.enable()` works.'].join(' ')))];\n      });\n    });\n  };\n\n  var fetcher = throwCORSError;\n\n  function setFetchMethod$1(fetch) {\n    if (fetch) {\n      fetcher = fetch;\n    } else {\n      fetcher = throwCORSError;\n    }\n  }\n\n  function callFetchMethod(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, fetcher(url)];\n\n          case 1:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  if (!window.chrome) {\n    window.chrome = {};\n  }\n\n  if (!chrome.runtime) {\n    chrome.runtime = {};\n  }\n\n  var messageListeners = new Set();\n\n  function sendMessage() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var id_1, _a, url, responseType, response, text_1, err_1;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!(args[0] && args[0].type === 'fetch')) return [3, 8];\n            id_1 = args[0].id;\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 7,, 8]);\n\n            _a = args[0].data, url = _a.url, responseType = _a.responseType;\n            return [4, callFetchMethod(url)];\n\n          case 2:\n            response = _b.sent();\n            if (!(responseType === 'data-url')) return [3, 4];\n            return [4, readResponseAsDataURL(response)];\n\n          case 3:\n            text_1 = _b.sent();\n            return [3, 6];\n\n          case 4:\n            return [4, response.text()];\n\n          case 5:\n            text_1 = _b.sent();\n            _b.label = 6;\n\n          case 6:\n            messageListeners.forEach(function (cb) {\n              return cb({\n                type: 'fetch-response',\n                data: text_1,\n                error: null,\n                id: id_1\n              });\n            });\n            return [3, 8];\n\n          case 7:\n            err_1 = _b.sent();\n            console.error(err_1);\n            messageListeners.forEach(function (cb) {\n              return cb({\n                type: 'fetch-response',\n                data: null,\n                err: err_1,\n                id: id_1\n              });\n            });\n            return [3, 8];\n\n          case 8:\n            return [2];\n        }\n      });\n    });\n  }\n\n  function addMessageListener(callback) {\n    messageListeners.add(callback);\n  }\n\n  if (typeof chrome.runtime.sendMessage === 'function') {\n    var nativeSendMessage_1 = chrome.runtime.sendMessage;\n\n    chrome.runtime.sendMessage = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      sendMessage.apply(void 0, __spreadArray([], __read(args)));\n      nativeSendMessage_1.apply(chrome.runtime, args);\n    };\n  } else {\n    chrome.runtime.sendMessage = sendMessage;\n  }\n\n  if (!chrome.runtime.onMessage) {\n    chrome.runtime.onMessage = {};\n  }\n\n  if (typeof chrome.runtime.onMessage.addListener === 'function') {\n    var nativeAddListener_1 = chrome.runtime.onMessage.addListener;\n\n    chrome.runtime.onMessage.addListener = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      addMessageListener.apply(void 0, __spreadArray([], __read(args)));\n      nativeAddListener_1.apply(chrome.runtime.onMessage, args);\n    };\n  } else {\n    chrome.runtime.onMessage.addListener = addMessageListener;\n  }\n\n  var ThemeEngines = {\n    cssFilter: 'cssFilter',\n    svgFilter: 'svgFilter',\n    staticTheme: 'staticTheme',\n    dynamicTheme: 'dynamicTheme'\n  };\n  var DEFAULT_COLORS = {\n    darkScheme: {\n      background: '#181a1b',\n      text: '#e8e6e3'\n    },\n    lightScheme: {\n      background: '#dcdad7',\n      text: '#181a1b'\n    }\n  };\n  var DEFAULT_THEME = {\n    mode: 1,\n    brightness: 100,\n    contrast: 100,\n    grayscale: 0,\n    sepia: 0,\n    useFont: false,\n    fontFamily: isMacOS ? 'Helvetica Neue' : isWindows ? 'Segoe UI' : 'Open Sans',\n    textStroke: 0,\n    engine: ThemeEngines.dynamicTheme,\n    stylesheet: '',\n    darkSchemeBackgroundColor: DEFAULT_COLORS.darkScheme.background,\n    darkSchemeTextColor: DEFAULT_COLORS.darkScheme.text,\n    lightSchemeBackgroundColor: DEFAULT_COLORS.lightScheme.background,\n    lightSchemeTextColor: DEFAULT_COLORS.lightScheme.text,\n    scrollbarColor: isMacOS ? '' : 'auto',\n    selectionColor: 'auto',\n    styleSystemControls: true\n  };\n\n  function isArrayLike(items) {\n    return items.length != null;\n  }\n\n  function forEach(items, iterator) {\n    var e_1, _a;\n\n    if (isArrayLike(items)) {\n      for (var i = 0, len = items.length; i < len; i++) {\n        iterator(items[i]);\n      }\n    } else {\n      try {\n        for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n          var item = items_1_1.value;\n          iterator(item);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n  }\n\n  function push(array, addition) {\n    forEach(addition, function (a) {\n      return array.push(a);\n    });\n  }\n\n  function toArray(items) {\n    var results = [];\n\n    for (var i = 0, len = items.length; i < len; i++) {\n      results.push(items[i]);\n    }\n\n    return results;\n  }\n\n  function logInfo() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n  }\n\n  function logWarn() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n  }\n\n  function throttle(callback) {\n    var pending = false;\n    var frameId = null;\n    var lastArgs;\n\n    var throttled = function throttled() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      lastArgs = args;\n\n      if (frameId) {\n        pending = true;\n      } else {\n        callback.apply(void 0, __spreadArray([], __read(lastArgs)));\n        frameId = requestAnimationFrame(function () {\n          frameId = null;\n\n          if (pending) {\n            callback.apply(void 0, __spreadArray([], __read(lastArgs)));\n            pending = false;\n          }\n        });\n      }\n    };\n\n    var cancel = function cancel() {\n      cancelAnimationFrame(frameId);\n      pending = false;\n      frameId = null;\n    };\n\n    return Object.assign(throttled, {\n      cancel: cancel\n    });\n  }\n\n  function createAsyncTasksQueue() {\n    var tasks = [];\n    var frameId = null;\n\n    function runTasks() {\n      var task;\n\n      while (task = tasks.shift()) {\n        task();\n      }\n\n      frameId = null;\n    }\n\n    function add(task) {\n      tasks.push(task);\n\n      if (!frameId) {\n        frameId = requestAnimationFrame(runTasks);\n      }\n    }\n\n    function cancel() {\n      tasks.splice(0);\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n\n    return {\n      add: add,\n      cancel: cancel\n    };\n  }\n\n  function getDuration(time) {\n    var duration = 0;\n\n    if (time.seconds) {\n      duration += time.seconds * 1000;\n    }\n\n    if (time.minutes) {\n      duration += time.minutes * 60 * 1000;\n    }\n\n    if (time.hours) {\n      duration += time.hours * 60 * 60 * 1000;\n    }\n\n    if (time.days) {\n      duration += time.days * 24 * 60 * 60 * 1000;\n    }\n\n    return duration;\n  }\n\n  function removeNode(node) {\n    node && node.parentNode && node.parentNode.removeChild(node);\n  }\n\n  function watchForNodePosition(node, mode, onRestore) {\n    if (onRestore === void 0) {\n      onRestore = Function.prototype;\n    }\n\n    var MAX_ATTEMPTS_COUNT = 10;\n    var RETRY_TIMEOUT = getDuration({\n      seconds: 2\n    });\n    var ATTEMPTS_INTERVAL = getDuration({\n      seconds: 10\n    });\n    var prevSibling = node.previousSibling;\n    var parent = node.parentNode;\n\n    if (!parent) {\n      throw new Error('Unable to watch for node position: parent element not found');\n    }\n\n    if (mode === 'prev-sibling' && !prevSibling) {\n      throw new Error('Unable to watch for node position: there is no previous sibling');\n    }\n\n    var attempts = 0;\n    var start = null;\n    var timeoutId = null;\n    var restore = throttle(function () {\n      if (timeoutId) {\n        return;\n      }\n\n      attempts++;\n      var now = Date.now();\n\n      if (start == null) {\n        start = now;\n      } else if (attempts >= MAX_ATTEMPTS_COUNT) {\n        if (now - start < ATTEMPTS_INTERVAL) {\n          logWarn(\"Node position watcher paused: retry in \" + RETRY_TIMEOUT + \"ms\", node, prevSibling);\n          timeoutId = setTimeout(function () {\n            start = null;\n            attempts = 0;\n            timeoutId = null;\n            restore();\n          }, RETRY_TIMEOUT);\n          return;\n        }\n\n        start = now;\n        attempts = 1;\n      }\n\n      if (mode === 'parent') {\n        if (prevSibling && prevSibling.parentNode !== parent) {\n          logWarn('Unable to restore node position: sibling parent changed', node, prevSibling, parent);\n          stop();\n          return;\n        }\n      }\n\n      if (mode === 'prev-sibling') {\n        if (prevSibling.parentNode == null) {\n          logWarn('Unable to restore node position: sibling was removed', node, prevSibling, parent);\n          stop();\n          return;\n        }\n\n        if (prevSibling.parentNode !== parent) {\n          logWarn('Style was moved to another parent', node, prevSibling, parent);\n          updateParent(prevSibling.parentNode);\n        }\n      }\n\n      logWarn('Restoring node position', node, prevSibling, parent);\n      parent.insertBefore(node, prevSibling ? prevSibling.nextSibling : parent.firstChild);\n      observer.takeRecords();\n      onRestore && onRestore();\n    });\n    var observer = new MutationObserver(function () {\n      if (mode === 'parent' && node.parentNode !== parent || mode === 'prev-sibling' && node.previousSibling !== prevSibling) {\n        restore();\n      }\n    });\n\n    var run = function run() {\n      observer.observe(parent, {\n        childList: true\n      });\n    };\n\n    var stop = function stop() {\n      clearTimeout(timeoutId);\n      observer.disconnect();\n      restore.cancel();\n    };\n\n    var skip = function skip() {\n      observer.takeRecords();\n    };\n\n    var updateParent = function updateParent(parentNode) {\n      parent = parentNode;\n      stop();\n      run();\n    };\n\n    run();\n    return {\n      run: run,\n      stop: stop,\n      skip: skip\n    };\n  }\n\n  function iterateShadowHosts(root, iterator) {\n    if (root == null) {\n      return;\n    }\n\n    var walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n      acceptNode: function acceptNode(node) {\n        return node.shadowRoot == null ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n      }\n    });\n\n    for (var node = root.shadowRoot ? walker.currentNode : walker.nextNode(); node != null; node = walker.nextNode()) {\n      iterator(node);\n      iterateShadowHosts(node.shadowRoot, iterator);\n    }\n  }\n\n  function isDOMReady() {\n    return document.readyState === 'complete' || document.readyState === 'interactive';\n  }\n\n  var readyStateListeners = new Set();\n\n  function addDOMReadyListener(listener) {\n    readyStateListeners.add(listener);\n  }\n\n  function removeDOMReadyListener(listener) {\n    readyStateListeners.delete(listener);\n  }\n\n  if (!isDOMReady()) {\n    var onReadyStateChange_1 = function onReadyStateChange_1() {\n      if (isDOMReady()) {\n        document.removeEventListener('readystatechange', onReadyStateChange_1);\n        readyStateListeners.forEach(function (listener) {\n          return listener();\n        });\n        readyStateListeners.clear();\n      }\n    };\n\n    document.addEventListener('readystatechange', onReadyStateChange_1);\n  }\n\n  var HUGE_MUTATIONS_COUNT = 1000;\n\n  function isHugeMutation(mutations) {\n    if (mutations.length > HUGE_MUTATIONS_COUNT) {\n      return true;\n    }\n\n    var addedNodesCount = 0;\n\n    for (var i = 0; i < mutations.length; i++) {\n      addedNodesCount += mutations[i].addedNodes.length;\n\n      if (addedNodesCount > HUGE_MUTATIONS_COUNT) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function getElementsTreeOperations(mutations) {\n    var additions = new Set();\n    var deletions = new Set();\n    var moves = new Set();\n    mutations.forEach(function (m) {\n      forEach(m.addedNodes, function (n) {\n        if (n instanceof Element && n.isConnected) {\n          additions.add(n);\n        }\n      });\n      forEach(m.removedNodes, function (n) {\n        if (n instanceof Element) {\n          if (n.isConnected) {\n            moves.add(n);\n          } else {\n            deletions.add(n);\n          }\n        }\n      });\n    });\n    moves.forEach(function (n) {\n      return additions.delete(n);\n    });\n    var duplicateAdditions = [];\n    var duplicateDeletions = [];\n    additions.forEach(function (node) {\n      if (additions.has(node.parentElement)) {\n        duplicateAdditions.push(node);\n      }\n    });\n    deletions.forEach(function (node) {\n      if (deletions.has(node.parentElement)) {\n        duplicateDeletions.push(node);\n      }\n    });\n    duplicateAdditions.forEach(function (node) {\n      return additions.delete(node);\n    });\n    duplicateDeletions.forEach(function (node) {\n      return deletions.delete(node);\n    });\n    return {\n      additions: additions,\n      moves: moves,\n      deletions: deletions\n    };\n  }\n\n  var optimizedTreeObservers = new Map();\n  var optimizedTreeCallbacks = new WeakMap();\n\n  function createOptimizedTreeObserver(root, callbacks) {\n    var observer;\n    var observerCallbacks;\n    var domReadyListener;\n\n    if (optimizedTreeObservers.has(root)) {\n      observer = optimizedTreeObservers.get(root);\n      observerCallbacks = optimizedTreeCallbacks.get(observer);\n    } else {\n      var hadHugeMutationsBefore_1 = false;\n      var subscribedForReadyState_1 = false;\n      observer = new MutationObserver(function (mutations) {\n        if (isHugeMutation(mutations)) {\n          if (!hadHugeMutationsBefore_1 || isDOMReady()) {\n            observerCallbacks.forEach(function (_a) {\n              var onHugeMutations = _a.onHugeMutations;\n              return onHugeMutations(root);\n            });\n          } else {\n            if (!subscribedForReadyState_1) {\n              domReadyListener = function domReadyListener() {\n                return observerCallbacks.forEach(function (_a) {\n                  var onHugeMutations = _a.onHugeMutations;\n                  return onHugeMutations(root);\n                });\n              };\n\n              addDOMReadyListener(domReadyListener);\n              subscribedForReadyState_1 = true;\n            }\n          }\n\n          hadHugeMutationsBefore_1 = true;\n        } else {\n          var elementsOperations_1 = getElementsTreeOperations(mutations);\n          observerCallbacks.forEach(function (_a) {\n            var onMinorMutations = _a.onMinorMutations;\n            return onMinorMutations(elementsOperations_1);\n          });\n        }\n      });\n      observer.observe(root, {\n        childList: true,\n        subtree: true\n      });\n      optimizedTreeObservers.set(root, observer);\n      observerCallbacks = new Set();\n      optimizedTreeCallbacks.set(observer, observerCallbacks);\n    }\n\n    observerCallbacks.add(callbacks);\n    return {\n      disconnect: function disconnect() {\n        observerCallbacks.delete(callbacks);\n\n        if (domReadyListener) {\n          removeDOMReadyListener(domReadyListener);\n        }\n\n        if (observerCallbacks.size === 0) {\n          observer.disconnect();\n          optimizedTreeCallbacks.delete(observer);\n          optimizedTreeObservers.delete(root);\n        }\n      }\n    };\n  }\n\n  var anchor;\n  var parsedURLCache = new Map();\n\n  function fixBaseURL($url) {\n    if (!anchor) {\n      anchor = document.createElement('a');\n    }\n\n    anchor.href = $url;\n    return anchor.href;\n  }\n\n  function parseURL($url, $base) {\n    if ($base === void 0) {\n      $base = null;\n    }\n\n    var key = \"\" + $url + ($base ? ';' + $base : '');\n\n    if (parsedURLCache.has(key)) {\n      return parsedURLCache.get(key);\n    }\n\n    if ($base) {\n      var parsedURL_1 = new URL($url, fixBaseURL($base));\n      parsedURLCache.set(key, parsedURL_1);\n      return parsedURL_1;\n    }\n\n    var parsedURL = new URL(fixBaseURL($url));\n    parsedURLCache.set($url, parsedURL);\n    return parsedURL;\n  }\n\n  function getAbsoluteURL($base, $relative) {\n    if ($relative.match(/^data\\\\?\\:/)) {\n      return $relative;\n    }\n\n    var b = parseURL($base);\n    var a = parseURL($relative, b.href);\n    return a.href;\n  }\n\n  function iterateCSSRules(rules, iterate) {\n    forEach(rules, function (rule) {\n      if (rule instanceof CSSMediaRule) {\n        var media = Array.from(rule.media);\n        var isScreenOrAll = media.some(function (m) {\n          return m.startsWith('screen') || m.startsWith('all');\n        });\n        var isPrintOrSpeech = media.some(function (m) {\n          return m.startsWith('print') || m.startsWith('speech');\n        });\n\n        if (isScreenOrAll || !isPrintOrSpeech) {\n          iterateCSSRules(rule.cssRules, iterate);\n        }\n      } else if (rule instanceof CSSStyleRule) {\n        iterate(rule);\n      } else if (rule instanceof CSSImportRule) {\n        try {\n          iterateCSSRules(rule.styleSheet.cssRules, iterate);\n        } catch (err) {\n          logWarn(err);\n        }\n      } else if (rule instanceof CSSSupportsRule) {\n        if (CSS.supports(rule.conditionText)) {\n          iterateCSSRules(rule.cssRules, iterate);\n        }\n      } else {\n        logWarn(\"CSSRule type not supported\", rule);\n      }\n    });\n  }\n\n  var shorthandVarDependantProperties = ['background', 'border', 'border-color', 'border-bottom', 'border-left', 'border-right', 'border-top', 'outline', 'outline-color'];\n  var shorthandVarDepPropRegexps = isSafari ? shorthandVarDependantProperties.map(function (prop) {\n    var regexp = new RegExp(prop + \":\\\\s*(.*?)\\\\s*;\");\n    return [prop, regexp];\n  }) : null;\n\n  function iterateCSSDeclarations(style, iterate) {\n    forEach(style, function (property) {\n      var value = style.getPropertyValue(property).trim();\n\n      if (!value) {\n        return;\n      }\n\n      iterate(property, value);\n    });\n\n    if (isSafari && style.cssText.includes('var(')) {\n      shorthandVarDepPropRegexps.forEach(function (_a) {\n        var _b = __read(_a, 2),\n            prop = _b[0],\n            regexp = _b[1];\n\n        var match = style.cssText.match(regexp);\n\n        if (match && match[1]) {\n          var val = match[1].trim();\n          iterate(prop, val);\n        }\n      });\n    } else {\n      shorthandVarDependantProperties.forEach(function (prop) {\n        var val = style.getPropertyValue(prop);\n\n        if (val && val.includes('var(')) {\n          iterate(prop, val);\n        }\n      });\n    }\n  }\n\n  var cssURLRegex = /url\\((('.+?')|(\".+?\")|([^\\)]*?))\\)/g;\n  var cssImportRegex = /@import\\s*(url\\()?(('.+?')|(\".+?\")|([^\\)]*?))\\)?;?/g;\n\n  function getCSSURLValue(cssURL) {\n    return cssURL.replace(/^url\\((.*)\\)$/, '$1').replace(/^\"(.*)\"$/, '$1').replace(/^'(.*)'$/, '$1');\n  }\n\n  function getCSSBaseBath(url) {\n    var cssURL = parseURL(url);\n    return \"\" + cssURL.origin + cssURL.pathname.replace(/\\?.*$/, '').replace(/(\\/)([^\\/]+)$/i, '$1');\n  }\n\n  function replaceCSSRelativeURLsWithAbsolute($css, cssBasePath) {\n    return $css.replace(cssURLRegex, function (match) {\n      var pathValue = getCSSURLValue(match);\n      return \"url(\\\"\" + getAbsoluteURL(cssBasePath, pathValue) + \"\\\")\";\n    });\n  }\n\n  var cssCommentsRegex = /\\/\\*[\\s\\S]*?\\*\\//g;\n\n  function removeCSSComments($css) {\n    return $css.replace(cssCommentsRegex, '');\n  }\n\n  var fontFaceRegex = /@font-face\\s*{[^}]*}/g;\n\n  function replaceCSSFontFace($css) {\n    return $css.replace(fontFaceRegex, '');\n  }\n\n  function hslToRGB(_a) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        _b = _a.a,\n        a = _b === void 0 ? 1 : _b;\n\n    if (s === 0) {\n      var _c = __read([l, l, l].map(function (x) {\n        return Math.round(x * 255);\n      }), 3),\n          r_1 = _c[0],\n          b_1 = _c[1],\n          g_1 = _c[2];\n\n      return {\n        r: r_1,\n        g: g_1,\n        b: b_1,\n        a: a\n      };\n    }\n\n    var c = (1 - Math.abs(2 * l - 1)) * s;\n    var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n    var m = l - c / 2;\n\n    var _d = __read((h < 60 ? [c, x, 0] : h < 120 ? [x, c, 0] : h < 180 ? [0, c, x] : h < 240 ? [0, x, c] : h < 300 ? [x, 0, c] : [c, 0, x]).map(function (n) {\n      return Math.round((n + m) * 255);\n    }), 3),\n        r = _d[0],\n        g = _d[1],\n        b = _d[2];\n\n    return {\n      r: r,\n      g: g,\n      b: b,\n      a: a\n    };\n  }\n\n  function rgbToHSL(_a) {\n    var r255 = _a.r,\n        g255 = _a.g,\n        b255 = _a.b,\n        _b = _a.a,\n        a = _b === void 0 ? 1 : _b;\n    var r = r255 / 255;\n    var g = g255 / 255;\n    var b = b255 / 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var c = max - min;\n    var l = (max + min) / 2;\n\n    if (c === 0) {\n      return {\n        h: 0,\n        s: 0,\n        l: l,\n        a: a\n      };\n    }\n\n    var h = (max === r ? (g - b) / c % 6 : max === g ? (b - r) / c + 2 : (r - g) / c + 4) * 60;\n\n    if (h < 0) {\n      h += 360;\n    }\n\n    var s = c / (1 - Math.abs(2 * l - 1));\n    return {\n      h: h,\n      s: s,\n      l: l,\n      a: a\n    };\n  }\n\n  function toFixed(n, digits) {\n    if (digits === void 0) {\n      digits = 0;\n    }\n\n    var fixed = n.toFixed(digits);\n\n    if (digits === 0) {\n      return fixed;\n    }\n\n    var dot = fixed.indexOf('.');\n\n    if (dot >= 0) {\n      var zerosMatch = fixed.match(/0+$/);\n\n      if (zerosMatch) {\n        if (zerosMatch.index === dot + 1) {\n          return fixed.substring(0, dot);\n        }\n\n        return fixed.substring(0, zerosMatch.index);\n      }\n    }\n\n    return fixed;\n  }\n\n  function rgbToString(rgb) {\n    var r = rgb.r,\n        g = rgb.g,\n        b = rgb.b,\n        a = rgb.a;\n\n    if (a != null && a < 1) {\n      return \"rgba(\" + toFixed(r) + \", \" + toFixed(g) + \", \" + toFixed(b) + \", \" + toFixed(a, 2) + \")\";\n    }\n\n    return \"rgb(\" + toFixed(r) + \", \" + toFixed(g) + \", \" + toFixed(b) + \")\";\n  }\n\n  function rgbToHexString(_a) {\n    var r = _a.r,\n        g = _a.g,\n        b = _a.b,\n        a = _a.a;\n    return \"#\" + (a != null && a < 1 ? [r, g, b, Math.round(a * 255)] : [r, g, b]).map(function (x) {\n      return \"\" + (x < 16 ? '0' : '') + x.toString(16);\n    }).join('');\n  }\n\n  function hslToString(hsl) {\n    var h = hsl.h,\n        s = hsl.s,\n        l = hsl.l,\n        a = hsl.a;\n\n    if (a != null && a < 1) {\n      return \"hsla(\" + toFixed(h) + \", \" + toFixed(s * 100) + \"%, \" + toFixed(l * 100) + \"%, \" + toFixed(a, 2) + \")\";\n    }\n\n    return \"hsl(\" + toFixed(h) + \", \" + toFixed(s * 100) + \"%, \" + toFixed(l * 100) + \"%)\";\n  }\n\n  var rgbMatch = /^rgba?\\([^\\(\\)]+\\)$/;\n  var hslMatch = /^hsla?\\([^\\(\\)]+\\)$/;\n  var hexMatch = /^#[0-9a-f]+$/i;\n\n  function parse($color) {\n    var c = $color.trim().toLowerCase();\n\n    if (c.match(rgbMatch)) {\n      return parseRGB(c);\n    }\n\n    if (c.match(hslMatch)) {\n      return parseHSL(c);\n    }\n\n    if (c.match(hexMatch)) {\n      return parseHex(c);\n    }\n\n    if (knownColors.has(c)) {\n      return getColorByName(c);\n    }\n\n    if (systemColors.has(c)) {\n      return getSystemColor(c);\n    }\n\n    if ($color === 'transparent') {\n      return {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 0\n      };\n    }\n\n    throw new Error(\"Unable to parse \" + $color);\n  }\n\n  function getNumbersFromString(str, splitter, range, units) {\n    var raw = str.split(splitter).filter(function (x) {\n      return x;\n    });\n    var unitsList = Object.entries(units);\n    var numbers = raw.map(function (r) {\n      return r.trim();\n    }).map(function (r, i) {\n      var n;\n      var unit = unitsList.find(function (_a) {\n        var _b = __read(_a, 1),\n            u = _b[0];\n\n        return r.endsWith(u);\n      });\n\n      if (unit) {\n        n = parseFloat(r.substring(0, r.length - unit[0].length)) / unit[1] * range[i];\n      } else {\n        n = parseFloat(r);\n      }\n\n      if (range[i] > 1) {\n        return Math.round(n);\n      }\n\n      return n;\n    });\n    return numbers;\n  }\n\n  var rgbSplitter = /rgba?|\\(|\\)|\\/|,|\\s/ig;\n  var rgbRange = [255, 255, 255, 1];\n  var rgbUnits = {\n    '%': 100\n  };\n\n  function parseRGB($rgb) {\n    var _a = __read(getNumbersFromString($rgb, rgbSplitter, rgbRange, rgbUnits), 4),\n        r = _a[0],\n        g = _a[1],\n        b = _a[2],\n        _b = _a[3],\n        a = _b === void 0 ? 1 : _b;\n\n    return {\n      r: r,\n      g: g,\n      b: b,\n      a: a\n    };\n  }\n\n  var hslSplitter = /hsla?|\\(|\\)|\\/|,|\\s/ig;\n  var hslRange = [360, 1, 1, 1];\n  var hslUnits = {\n    '%': 100,\n    'deg': 360,\n    'rad': 2 * Math.PI,\n    'turn': 1\n  };\n\n  function parseHSL($hsl) {\n    var _a = __read(getNumbersFromString($hsl, hslSplitter, hslRange, hslUnits), 4),\n        h = _a[0],\n        s = _a[1],\n        l = _a[2],\n        _b = _a[3],\n        a = _b === void 0 ? 1 : _b;\n\n    return hslToRGB({\n      h: h,\n      s: s,\n      l: l,\n      a: a\n    });\n  }\n\n  function parseHex($hex) {\n    var h = $hex.substring(1);\n\n    switch (h.length) {\n      case 3:\n      case 4:\n        {\n          var _a = __read([0, 1, 2].map(function (i) {\n            return parseInt(\"\" + h[i] + h[i], 16);\n          }), 3),\n              r = _a[0],\n              g = _a[1],\n              b = _a[2];\n\n          var a = h.length === 3 ? 1 : parseInt(\"\" + h[3] + h[3], 16) / 255;\n          return {\n            r: r,\n            g: g,\n            b: b,\n            a: a\n          };\n        }\n\n      case 6:\n      case 8:\n        {\n          var _b = __read([0, 2, 4].map(function (i) {\n            return parseInt(h.substring(i, i + 2), 16);\n          }), 3),\n              r = _b[0],\n              g = _b[1],\n              b = _b[2];\n\n          var a = h.length === 6 ? 1 : parseInt(h.substring(6, 8), 16) / 255;\n          return {\n            r: r,\n            g: g,\n            b: b,\n            a: a\n          };\n        }\n    }\n\n    throw new Error(\"Unable to parse \" + $hex);\n  }\n\n  function getColorByName($color) {\n    var n = knownColors.get($color);\n    return {\n      r: n >> 16 & 255,\n      g: n >> 8 & 255,\n      b: n >> 0 & 255,\n      a: 1\n    };\n  }\n\n  function getSystemColor($color) {\n    var n = systemColors.get($color);\n    return {\n      r: n >> 16 & 255,\n      g: n >> 8 & 255,\n      b: n >> 0 & 255,\n      a: 1\n    };\n  }\n\n  var knownColors = new Map(Object.entries({\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgrey: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    grey: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgrey: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n  }));\n  var systemColors = new Map(Object.entries({\n    ActiveBorder: 0x3b99fc,\n    ActiveCaption: 0x000000,\n    AppWorkspace: 0xaaaaaa,\n    Background: 0x6363ce,\n    ButtonFace: 0xffffff,\n    ButtonHighlight: 0xe9e9e9,\n    ButtonShadow: 0x9fa09f,\n    ButtonText: 0x000000,\n    CaptionText: 0x000000,\n    GrayText: 0x7f7f7f,\n    Highlight: 0xb2d7ff,\n    HighlightText: 0x000000,\n    InactiveBorder: 0xffffff,\n    InactiveCaption: 0xffffff,\n    InactiveCaptionText: 0x000000,\n    InfoBackground: 0xfbfcc5,\n    InfoText: 0x000000,\n    Menu: 0xf6f6f6,\n    MenuText: 0xffffff,\n    Scrollbar: 0xaaaaaa,\n    ThreeDDarkShadow: 0x000000,\n    ThreeDFace: 0xc0c0c0,\n    ThreeDHighlight: 0xffffff,\n    ThreeDLightShadow: 0xffffff,\n    ThreeDShadow: 0x000000,\n    Window: 0xececec,\n    WindowFrame: 0xaaaaaa,\n    WindowText: 0x000000,\n    '-webkit-focus-ring-color': 0xe59700\n  }).map(function (_a) {\n    var _b = __read(_a, 2),\n        key = _b[0],\n        value = _b[1];\n\n    return [key.toLowerCase(), value];\n  }));\n\n  function scale(x, inLow, inHigh, outLow, outHigh) {\n    return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n  }\n\n  function clamp(x, min, max) {\n    return Math.min(max, Math.max(min, x));\n  }\n\n  function multiplyMatrices(m1, m2) {\n    var result = [];\n\n    for (var i = 0, len = m1.length; i < len; i++) {\n      result[i] = [];\n\n      for (var j = 0, len2 = m2[0].length; j < len2; j++) {\n        var sum = 0;\n\n        for (var k = 0, len3 = m1[0].length; k < len3; k++) {\n          sum += m1[i][k] * m2[k][j];\n        }\n\n        result[i][j] = sum;\n      }\n    }\n\n    return result;\n  }\n\n  function getMatches(regex, input, group) {\n    if (group === void 0) {\n      group = 0;\n    }\n\n    var matches = [];\n    var m;\n\n    while (m = regex.exec(input)) {\n      matches.push(m[group]);\n    }\n\n    return matches;\n  }\n\n  function formatCSS(text) {\n    function trimLeft(text) {\n      return text.replace(/^\\s+/, '');\n    }\n\n    function getIndent(depth) {\n      if (depth === 0) {\n        return '';\n      }\n\n      return ' '.repeat(4 * depth);\n    }\n\n    var emptyRuleRegexp = /[^{}]+{\\s*}/g;\n\n    while (emptyRuleRegexp.test(text)) {\n      text = text.replace(emptyRuleRegexp, '');\n    }\n\n    var css = text.replace(/\\s{2,}/g, ' ').replace(/\\{/g, '{\\n').replace(/\\}/g, '\\n}\\n').replace(/\\;(?![^\\(|\\\"]*(\\)|\\\"))/g, ';\\n').replace(/\\,(?![^\\(|\\\"]*(\\)|\\\"))/g, ',\\n').replace(/\\n\\s*\\n/g, '\\n').split('\\n');\n    var depth = 0;\n    var formatted = [];\n\n    for (var x = 0, len = css.length; x < len; x++) {\n      var line = css[x] + '\\n';\n\n      if (line.match(/\\{/)) {\n        formatted.push(getIndent(depth++) + trimLeft(line));\n      } else if (line.match(/\\}/)) {\n        formatted.push(getIndent(--depth) + trimLeft(line));\n      } else {\n        formatted.push(getIndent(depth) + trimLeft(line));\n      }\n    }\n\n    return formatted.join('').trim();\n  }\n\n  function getParenthesesRange(input, searchStartIndex) {\n    if (searchStartIndex === void 0) {\n      searchStartIndex = 0;\n    }\n\n    var length = input.length;\n    var depth = 0;\n    var firstOpenIndex = -1;\n\n    for (var i = searchStartIndex; i < length; i++) {\n      if (depth === 0) {\n        var openIndex = input.indexOf('(', i);\n\n        if (openIndex < 0) {\n          break;\n        }\n\n        firstOpenIndex = openIndex;\n        depth++;\n        i = openIndex;\n      } else {\n        var closingIndex = input.indexOf(')', i);\n\n        if (closingIndex < 0) {\n          break;\n        }\n\n        var openIndex = input.indexOf('(', i);\n\n        if (openIndex < 0 || closingIndex < openIndex) {\n          depth--;\n\n          if (depth === 0) {\n            return {\n              start: firstOpenIndex,\n              end: closingIndex + 1\n            };\n          }\n\n          i = closingIndex;\n        } else {\n          depth++;\n          i = openIndex;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  function createFilterMatrix(config) {\n    var m = Matrix.identity();\n\n    if (config.sepia !== 0) {\n      m = multiplyMatrices(m, Matrix.sepia(config.sepia / 100));\n    }\n\n    if (config.grayscale !== 0) {\n      m = multiplyMatrices(m, Matrix.grayscale(config.grayscale / 100));\n    }\n\n    if (config.contrast !== 100) {\n      m = multiplyMatrices(m, Matrix.contrast(config.contrast / 100));\n    }\n\n    if (config.brightness !== 100) {\n      m = multiplyMatrices(m, Matrix.brightness(config.brightness / 100));\n    }\n\n    if (config.mode === 1) {\n      m = multiplyMatrices(m, Matrix.invertNHue());\n    }\n\n    return m;\n  }\n\n  function applyColorMatrix(_a, matrix) {\n    var _b = __read(_a, 3),\n        r = _b[0],\n        g = _b[1],\n        b = _b[2];\n\n    var rgb = [[r / 255], [g / 255], [b / 255], [1], [1]];\n    var result = multiplyMatrices(matrix, rgb);\n    return [0, 1, 2].map(function (i) {\n      return clamp(Math.round(result[i][0] * 255), 0, 255);\n    });\n  }\n\n  var Matrix = {\n    identity: function identity() {\n      return [[1, 0, 0, 0, 0], [0, 1, 0, 0, 0], [0, 0, 1, 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    invertNHue: function invertNHue() {\n      return [[0.333, -0.667, -0.667, 0, 1], [-0.667, 0.333, -0.667, 0, 1], [-0.667, -0.667, 0.333, 0, 1], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    brightness: function brightness(v) {\n      return [[v, 0, 0, 0, 0], [0, v, 0, 0, 0], [0, 0, v, 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    contrast: function contrast(v) {\n      var t = (1 - v) / 2;\n      return [[v, 0, 0, 0, t], [0, v, 0, 0, t], [0, 0, v, 0, t], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    sepia: function sepia(v) {\n      return [[0.393 + 0.607 * (1 - v), 0.769 - 0.769 * (1 - v), 0.189 - 0.189 * (1 - v), 0, 0], [0.349 - 0.349 * (1 - v), 0.686 + 0.314 * (1 - v), 0.168 - 0.168 * (1 - v), 0, 0], [0.272 - 0.272 * (1 - v), 0.534 - 0.534 * (1 - v), 0.131 + 0.869 * (1 - v), 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    grayscale: function grayscale(v) {\n      return [[0.2126 + 0.7874 * (1 - v), 0.7152 - 0.7152 * (1 - v), 0.0722 - 0.0722 * (1 - v), 0, 0], [0.2126 - 0.2126 * (1 - v), 0.7152 + 0.2848 * (1 - v), 0.0722 - 0.0722 * (1 - v), 0, 0], [0.2126 - 0.2126 * (1 - v), 0.7152 - 0.7152 * (1 - v), 0.0722 + 0.9278 * (1 - v), 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    }\n  };\n\n  function getBgPole(theme) {\n    var isDarkScheme = theme.mode === 1;\n    var prop = isDarkScheme ? 'darkSchemeBackgroundColor' : 'lightSchemeBackgroundColor';\n    return theme[prop];\n  }\n\n  function getFgPole(theme) {\n    var isDarkScheme = theme.mode === 1;\n    var prop = isDarkScheme ? 'darkSchemeTextColor' : 'lightSchemeTextColor';\n    return theme[prop];\n  }\n\n  var colorModificationCache = new Map();\n  var colorParseCache$1 = new Map();\n\n  function parseToHSLWithCache(color) {\n    if (colorParseCache$1.has(color)) {\n      return colorParseCache$1.get(color);\n    }\n\n    var rgb = parse(color);\n    var hsl = rgbToHSL(rgb);\n    colorParseCache$1.set(color, hsl);\n    return hsl;\n  }\n\n  function clearColorModificationCache() {\n    colorModificationCache.clear();\n    colorParseCache$1.clear();\n  }\n\n  var rgbCacheKeys = ['r', 'g', 'b', 'a'];\n  var themeCacheKeys$1 = ['mode', 'brightness', 'contrast', 'grayscale', 'sepia', 'darkSchemeBackgroundColor', 'darkSchemeTextColor', 'lightSchemeBackgroundColor', 'lightSchemeTextColor'];\n\n  function getCacheId(rgb, theme) {\n    return rgbCacheKeys.map(function (k) {\n      return rgb[k];\n    }).concat(themeCacheKeys$1.map(function (k) {\n      return theme[k];\n    })).join(';');\n  }\n\n  function modifyColorWithCache(rgb, theme, modifyHSL, poleColor, anotherPoleColor) {\n    var fnCache;\n\n    if (colorModificationCache.has(modifyHSL)) {\n      fnCache = colorModificationCache.get(modifyHSL);\n    } else {\n      fnCache = new Map();\n      colorModificationCache.set(modifyHSL, fnCache);\n    }\n\n    var id = getCacheId(rgb, theme);\n\n    if (fnCache.has(id)) {\n      return fnCache.get(id);\n    }\n\n    var hsl = rgbToHSL(rgb);\n    var pole = poleColor == null ? null : parseToHSLWithCache(poleColor);\n    var anotherPole = anotherPoleColor == null ? null : parseToHSLWithCache(anotherPoleColor);\n    var modified = modifyHSL(hsl, pole, anotherPole);\n\n    var _a = hslToRGB(modified),\n        r = _a.r,\n        g = _a.g,\n        b = _a.b,\n        a = _a.a;\n\n    var matrix = createFilterMatrix(theme);\n\n    var _b = __read(applyColorMatrix([r, g, b], matrix), 3),\n        rf = _b[0],\n        gf = _b[1],\n        bf = _b[2];\n\n    var color = a === 1 ? rgbToHexString({\n      r: rf,\n      g: gf,\n      b: bf\n    }) : rgbToString({\n      r: rf,\n      g: gf,\n      b: bf,\n      a: a\n    });\n    fnCache.set(id, color);\n    return color;\n  }\n\n  function noopHSL(hsl) {\n    return hsl;\n  }\n\n  function modifyColor(rgb, theme) {\n    return modifyColorWithCache(rgb, theme, noopHSL);\n  }\n\n  function modifyLightSchemeColor(rgb, theme) {\n    var poleBg = getBgPole(theme);\n    var poleFg = getFgPole(theme);\n    return modifyColorWithCache(rgb, theme, modifyLightModeHSL, poleFg, poleBg);\n  }\n\n  function modifyLightModeHSL(_a, poleFg, poleBg) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isNeutral;\n\n    if (isDark) {\n      isNeutral = l < 0.2 || s < 0.12;\n    } else {\n      var isBlue = h > 200 && h < 280;\n      isNeutral = s < 0.24 || l > 0.8 && isBlue;\n    }\n\n    var hx = h;\n    var sx = l;\n\n    if (isNeutral) {\n      if (isDark) {\n        hx = poleFg.h;\n        sx = poleFg.s;\n      } else {\n        hx = poleBg.h;\n        sx = poleBg.s;\n      }\n    }\n\n    var lx = scale(l, 0, 1, poleFg.l, poleBg.l);\n    return {\n      h: hx,\n      s: sx,\n      l: lx,\n      a: a\n    };\n  }\n\n  var MAX_BG_LIGHTNESS = 0.4;\n\n  function modifyBgHSL(_a, pole) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isBlue = h > 200 && h < 280;\n    var isNeutral = s < 0.12 || l > 0.8 && isBlue;\n\n    if (isDark) {\n      var lx_1 = scale(l, 0, 0.5, 0, MAX_BG_LIGHTNESS);\n\n      if (isNeutral) {\n        var hx_1 = pole.h;\n        var sx = pole.s;\n        return {\n          h: hx_1,\n          s: sx,\n          l: lx_1,\n          a: a\n        };\n      }\n\n      return {\n        h: h,\n        s: s,\n        l: lx_1,\n        a: a\n      };\n    }\n\n    var lx = scale(l, 0.5, 1, MAX_BG_LIGHTNESS, pole.l);\n\n    if (isNeutral) {\n      var hx_2 = pole.h;\n      var sx = pole.s;\n      return {\n        h: hx_2,\n        s: sx,\n        l: lx,\n        a: a\n      };\n    }\n\n    var hx = h;\n    var isYellow = h > 60 && h < 180;\n\n    if (isYellow) {\n      var isCloserToGreen = h > 120;\n\n      if (isCloserToGreen) {\n        hx = scale(h, 120, 180, 135, 180);\n      } else {\n        hx = scale(h, 60, 120, 60, 105);\n      }\n    }\n\n    return {\n      h: hx,\n      s: s,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyBackgroundColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var pole = getBgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyBgHSL, pole);\n  }\n\n  var MIN_FG_LIGHTNESS = 0.55;\n\n  function modifyBlueFgHue(hue) {\n    return scale(hue, 205, 245, 205, 220);\n  }\n\n  function modifyFgHSL(_a, pole) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isLight = l > 0.5;\n    var isNeutral = l < 0.2 || s < 0.24;\n    var isBlue = !isNeutral && h > 205 && h < 245;\n\n    if (isLight) {\n      var lx_2 = scale(l, 0.5, 1, MIN_FG_LIGHTNESS, pole.l);\n\n      if (isNeutral) {\n        var hx_3 = pole.h;\n        var sx = pole.s;\n        return {\n          h: hx_3,\n          s: sx,\n          l: lx_2,\n          a: a\n        };\n      }\n\n      var hx_4 = h;\n\n      if (isBlue) {\n        hx_4 = modifyBlueFgHue(h);\n      }\n\n      return {\n        h: hx_4,\n        s: s,\n        l: lx_2,\n        a: a\n      };\n    }\n\n    if (isNeutral) {\n      var hx_5 = pole.h;\n      var sx = pole.s;\n      var lx_3 = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n      return {\n        h: hx_5,\n        s: sx,\n        l: lx_3,\n        a: a\n      };\n    }\n\n    var hx = h;\n    var lx;\n\n    if (isBlue) {\n      hx = modifyBlueFgHue(h);\n      lx = scale(l, 0, 0.5, pole.l, Math.min(1, MIN_FG_LIGHTNESS + 0.05));\n    } else {\n      lx = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n    }\n\n    return {\n      h: hx,\n      s: s,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyForegroundColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var pole = getFgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyFgHSL, pole);\n  }\n\n  function modifyBorderHSL(_a, poleFg, poleBg) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isNeutral = l < 0.2 || s < 0.24;\n    var hx = h;\n    var sx = s;\n\n    if (isNeutral) {\n      if (isDark) {\n        hx = poleFg.h;\n        sx = poleFg.s;\n      } else {\n        hx = poleBg.h;\n        sx = poleBg.s;\n      }\n    }\n\n    var lx = scale(l, 0, 1, 0.5, 0.2);\n    return {\n      h: hx,\n      s: sx,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyBorderColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var poleFg = getFgPole(theme);\n    var poleBg = getBgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyBorderHSL, poleFg, poleBg);\n  }\n\n  function modifyShadowColor(rgb, filter) {\n    return modifyBackgroundColor(rgb, filter);\n  }\n\n  function modifyGradientColor(rgb, filter) {\n    return modifyBackgroundColor(rgb, filter);\n  }\n\n  function createTextStyle(config) {\n    var lines = [];\n    lines.push('*:not(pre, .far, .fa, .glyphicon, [class*=\"vjs-\"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*=\"mu-\"], .glyphicon, .icon) {');\n\n    if (config.useFont && config.fontFamily) {\n      lines.push(\"  font-family: \" + config.fontFamily + \" !important;\");\n    }\n\n    if (config.textStroke > 0) {\n      lines.push(\"  -webkit-text-stroke: \" + config.textStroke + \"px !important;\");\n      lines.push(\"  text-stroke: \" + config.textStroke + \"px !important;\");\n    }\n\n    lines.push('}');\n    return lines.join('\\n');\n  }\n\n  var FilterMode;\n\n  (function (FilterMode) {\n    FilterMode[FilterMode[\"light\"] = 0] = \"light\";\n    FilterMode[FilterMode[\"dark\"] = 1] = \"dark\";\n  })(FilterMode || (FilterMode = {}));\n\n  function getCSSFilterValue(config) {\n    var filters = [];\n\n    if (config.mode === FilterMode.dark) {\n      filters.push('invert(100%) hue-rotate(180deg)');\n    }\n\n    if (config.brightness !== 100) {\n      filters.push(\"brightness(\" + config.brightness + \"%)\");\n    }\n\n    if (config.contrast !== 100) {\n      filters.push(\"contrast(\" + config.contrast + \"%)\");\n    }\n\n    if (config.grayscale !== 0) {\n      filters.push(\"grayscale(\" + config.grayscale + \"%)\");\n    }\n\n    if (config.sepia !== 0) {\n      filters.push(\"sepia(\" + config.sepia + \"%)\");\n    }\n\n    if (filters.length === 0) {\n      return null;\n    }\n\n    return filters.join(' ');\n  }\n\n  function toSVGMatrix(matrix) {\n    return matrix.slice(0, 4).map(function (m) {\n      return m.map(function (m) {\n        return m.toFixed(3);\n      }).join(' ');\n    }).join(' ');\n  }\n\n  function getSVGFilterMatrixValue(config) {\n    return toSVGMatrix(createFilterMatrix(config));\n  }\n\n  var counter = 0;\n  var resolvers$1 = new Map();\n  var rejectors = new Map();\n\n  function bgFetch(request) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var id = ++counter;\n          resolvers$1.set(id, resolve);\n          rejectors.set(id, reject);\n          chrome.runtime.sendMessage({\n            type: 'fetch',\n            data: request,\n            id: id\n          });\n        })];\n      });\n    });\n  }\n\n  chrome.runtime.onMessage.addListener(function (_a) {\n    var type = _a.type,\n        data = _a.data,\n        error = _a.error,\n        id = _a.id;\n\n    if (type === 'fetch-response') {\n      var resolve = resolvers$1.get(id);\n      var reject = rejectors.get(id);\n      resolvers$1.delete(id);\n      rejectors.delete(id);\n\n      if (error) {\n        reject && reject(error);\n      } else {\n        resolve && resolve(data);\n      }\n    }\n  });\n\n  function getImageDetails(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      var dataURL, image, info;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!url.startsWith('data:')) return [3, 1];\n            dataURL = url;\n            return [3, 3];\n\n          case 1:\n            return [4, getImageDataURL(url)];\n\n          case 2:\n            dataURL = _a.sent();\n            _a.label = 3;\n\n          case 3:\n            return [4, urlToImage(dataURL)];\n\n          case 4:\n            image = _a.sent();\n            info = analyzeImage(image);\n            return [2, _assign({\n              src: url,\n              dataURL: dataURL,\n              width: image.naturalWidth,\n              height: image.naturalHeight\n            }, info)];\n        }\n      });\n    });\n  }\n\n  function getImageDataURL(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      var parsedURL;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            parsedURL = new URL(url);\n            if (!(parsedURL.origin === location.origin)) return [3, 2];\n            return [4, loadAsDataURL(url)];\n\n          case 1:\n            return [2, _a.sent()];\n\n          case 2:\n            return [4, bgFetch({\n              url: url,\n              responseType: 'data-url'\n            })];\n\n          case 3:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function urlToImage(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var image = new Image();\n\n          image.onload = function () {\n            return resolve(image);\n          };\n\n          image.onerror = function () {\n            return reject(\"Unable to load image \" + url);\n          };\n\n          image.src = url;\n        })];\n      });\n    });\n  }\n\n  var MAX_ANALIZE_PIXELS_COUNT = 32 * 32;\n  var canvas;\n  var context;\n\n  function createCanvas() {\n    var maxWidth = MAX_ANALIZE_PIXELS_COUNT;\n    var maxHeight = MAX_ANALIZE_PIXELS_COUNT;\n    canvas = document.createElement('canvas');\n    canvas.width = maxWidth;\n    canvas.height = maxHeight;\n    context = canvas.getContext('2d');\n    context.imageSmoothingEnabled = false;\n  }\n\n  function removeCanvas() {\n    canvas = null;\n    context = null;\n  }\n\n  function analyzeImage(image) {\n    if (!canvas) {\n      createCanvas();\n    }\n\n    var naturalWidth = image.naturalWidth,\n        naturalHeight = image.naturalHeight;\n\n    if (naturalHeight === 0 || naturalWidth === 0) {\n      logWarn(\"logWarn(Image is empty \" + image.currentSrc + \")\");\n      return null;\n    }\n\n    var naturalPixelsCount = naturalWidth * naturalHeight;\n    var k = Math.min(1, Math.sqrt(MAX_ANALIZE_PIXELS_COUNT / naturalPixelsCount));\n    var width = Math.ceil(naturalWidth * k);\n    var height = Math.ceil(naturalHeight * k);\n    context.clearRect(0, 0, width, height);\n    context.drawImage(image, 0, 0, naturalWidth, naturalHeight, 0, 0, width, height);\n    var imageData = context.getImageData(0, 0, width, height);\n    var d = imageData.data;\n    var TRANSPARENT_ALPHA_THRESHOLD = 0.05;\n    var DARK_LIGHTNESS_THRESHOLD = 0.4;\n    var LIGHT_LIGHTNESS_THRESHOLD = 0.7;\n    var transparentPixelsCount = 0;\n    var darkPixelsCount = 0;\n    var lightPixelsCount = 0;\n    var i, x, y;\n    var r, g, b, a;\n    var l;\n\n    for (y = 0; y < height; y++) {\n      for (x = 0; x < width; x++) {\n        i = 4 * (y * width + x);\n        r = d[i + 0] / 255;\n        g = d[i + 1] / 255;\n        b = d[i + 2] / 255;\n        a = d[i + 3] / 255;\n\n        if (a < TRANSPARENT_ALPHA_THRESHOLD) {\n          transparentPixelsCount++;\n        } else {\n          l = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n\n          if (l < DARK_LIGHTNESS_THRESHOLD) {\n            darkPixelsCount++;\n          }\n\n          if (l > LIGHT_LIGHTNESS_THRESHOLD) {\n            lightPixelsCount++;\n          }\n        }\n      }\n    }\n\n    var totalPixelsCount = width * height;\n    var opaquePixelsCount = totalPixelsCount - transparentPixelsCount;\n    var DARK_IMAGE_THRESHOLD = 0.7;\n    var LIGHT_IMAGE_THRESHOLD = 0.7;\n    var TRANSPARENT_IMAGE_THRESHOLD = 0.1;\n    var LARGE_IMAGE_PIXELS_COUNT = 800 * 600;\n    return {\n      isDark: darkPixelsCount / opaquePixelsCount >= DARK_IMAGE_THRESHOLD,\n      isLight: lightPixelsCount / opaquePixelsCount >= LIGHT_IMAGE_THRESHOLD,\n      isTransparent: transparentPixelsCount / totalPixelsCount >= TRANSPARENT_IMAGE_THRESHOLD,\n      isLarge: naturalPixelsCount >= LARGE_IMAGE_PIXELS_COUNT\n    };\n  }\n\n  var objectURLs = new Set();\n\n  function getFilteredImageDataURL(_a, filter) {\n    var dataURL = _a.dataURL,\n        width = _a.width,\n        height = _a.height;\n    var matrix = getSVGFilterMatrixValue(filter);\n    var svg = [\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\">\", '<defs>', '<filter id=\"darkreader-image-filter\">', \"<feColorMatrix type=\\\"matrix\\\" values=\\\"\" + matrix + \"\\\" />\", '</filter>', '</defs>', \"<image width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\" filter=\\\"url(#darkreader-image-filter)\\\" xlink:href=\\\"\" + dataURL + \"\\\" />\", '</svg>'].join('');\n    var bytes = new Uint8Array(svg.length);\n\n    for (var i = 0; i < svg.length; i++) {\n      bytes[i] = svg.charCodeAt(i);\n    }\n\n    var blob = new Blob([bytes], {\n      type: 'image/svg+xml'\n    });\n    var objectURL = URL.createObjectURL(blob);\n    objectURLs.add(objectURL);\n    return objectURL;\n  }\n\n  function cleanImageProcessingCache() {\n    removeCanvas();\n    objectURLs.forEach(function (u) {\n      return URL.revokeObjectURL(u);\n    });\n    objectURLs.clear();\n  }\n\n  function getModifiableCSSDeclaration(property, value, rule, variablesStore, ignoreImageSelectors, isCancelled) {\n    var important = Boolean(rule && rule.style && rule.style.getPropertyPriority(property));\n    var sourceValue = value;\n\n    if (property.startsWith('--')) {\n      var modifier = getVariableModifier(variablesStore, property, value, rule, ignoreImageSelectors, isCancelled);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    } else if (value.includes('var(')) {\n      var modifier = getVariableDependantModifier(variablesStore, property, value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    } else if (property.includes('color') && property !== '-webkit-print-color-adjust' || property === 'fill' || property === 'stroke' || property === 'stop-color') {\n      var modifier = getColorModifier(property, value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    } else if (property === 'background-image' || property === 'list-style-image') {\n      var modifier = getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    } else if (property.includes('shadow')) {\n      var modifier = getShadowModifier(value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: important,\n          sourceValue: sourceValue\n        };\n      }\n    }\n\n    return null;\n  }\n\n  function getModifiedUserAgentStyle(theme, isIFrame, styleSystemControls) {\n    var lines = [];\n\n    if (!isIFrame) {\n      lines.push('html {');\n      lines.push(\"    background-color: \" + modifyBackgroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, theme) + \" !important;\");\n      lines.push('}');\n    }\n\n    lines.push(\"\" + (isIFrame ? '' : 'html, body, ') + (styleSystemControls ? 'input, textarea, select, button' : '') + \" {\");\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 255,\n      g: 255,\n      b: 255\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push(\"html, body, \" + (styleSystemControls ? 'input, textarea, select, button' : '') + \" {\");\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 76,\n      g: 76,\n      b: 76\n    }, theme) + \";\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('a {');\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 64,\n      b: 255\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('table {');\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 128,\n      g: 128,\n      b: 128\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('::placeholder {');\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 169,\n      g: 169,\n      b: 169\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('input:-webkit-autofill,');\n    lines.push('textarea:-webkit-autofill,');\n    lines.push('select:-webkit-autofill {');\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 250,\n      g: 255,\n      b: 189\n    }, theme) + \" !important;\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, theme) + \" !important;\");\n    lines.push('}');\n\n    if (theme.scrollbarColor) {\n      lines.push(getModifiedScrollbarStyle(theme));\n    }\n\n    if (theme.selectionColor) {\n      lines.push(getModifiedSelectionStyle(theme));\n    }\n\n    return lines.join('\\n');\n  }\n\n  function getSelectionColor(theme) {\n    var backgroundColorSelection;\n    var foregroundColorSelection;\n\n    if (theme.selectionColor === 'auto') {\n      backgroundColorSelection = modifyBackgroundColor({\n        r: 0,\n        g: 96,\n        b: 212\n      }, _assign(_assign({}, theme), {\n        grayscale: 0\n      }));\n      foregroundColorSelection = modifyForegroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, _assign(_assign({}, theme), {\n        grayscale: 0\n      }));\n    } else {\n      var rgb = parse(theme.selectionColor);\n      var hsl = rgbToHSL(rgb);\n      backgroundColorSelection = theme.selectionColor;\n\n      if (hsl.l < 0.5) {\n        foregroundColorSelection = '#FFF';\n      } else {\n        foregroundColorSelection = '#000';\n      }\n    }\n\n    return {\n      backgroundColorSelection: backgroundColorSelection,\n      foregroundColorSelection: foregroundColorSelection\n    };\n  }\n\n  function getModifiedSelectionStyle(theme) {\n    var lines = [];\n    var modifiedSelectionColor = getSelectionColor(theme);\n    var backgroundColorSelection = modifiedSelectionColor.backgroundColorSelection;\n    var foregroundColorSelection = modifiedSelectionColor.foregroundColorSelection;\n    ['::selection', '::-moz-selection'].forEach(function (selection) {\n      lines.push(selection + \" {\");\n      lines.push(\"    background-color: \" + backgroundColorSelection + \" !important;\");\n      lines.push(\"    color: \" + foregroundColorSelection + \" !important;\");\n      lines.push('}');\n    });\n    return lines.join('\\n');\n  }\n\n  function getModifiedScrollbarStyle(theme) {\n    var lines = [];\n    var colorTrack;\n    var colorIcons;\n    var colorThumb;\n    var colorThumbHover;\n    var colorThumbActive;\n    var colorCorner;\n\n    if (theme.scrollbarColor === 'auto') {\n      colorTrack = modifyBackgroundColor({\n        r: 241,\n        g: 241,\n        b: 241\n      }, theme);\n      colorIcons = modifyForegroundColor({\n        r: 96,\n        g: 96,\n        b: 96\n      }, theme);\n      colorThumb = modifyBackgroundColor({\n        r: 176,\n        g: 176,\n        b: 176\n      }, theme);\n      colorThumbHover = modifyBackgroundColor({\n        r: 144,\n        g: 144,\n        b: 144\n      }, theme);\n      colorThumbActive = modifyBackgroundColor({\n        r: 96,\n        g: 96,\n        b: 96\n      }, theme);\n      colorCorner = modifyBackgroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, theme);\n    } else {\n      var rgb = parse(theme.scrollbarColor);\n      var hsl_1 = rgbToHSL(rgb);\n      var isLight = hsl_1.l > 0.5;\n\n      var lighten = function lighten(lighter) {\n        return _assign(_assign({}, hsl_1), {\n          l: clamp(hsl_1.l + lighter, 0, 1)\n        });\n      };\n\n      var darken = function darken(darker) {\n        return _assign(_assign({}, hsl_1), {\n          l: clamp(hsl_1.l - darker, 0, 1)\n        });\n      };\n\n      colorTrack = hslToString(darken(0.4));\n      colorIcons = hslToString(isLight ? darken(0.4) : lighten(0.4));\n      colorThumb = hslToString(hsl_1);\n      colorThumbHover = hslToString(lighten(0.1));\n      colorThumbActive = hslToString(lighten(0.2));\n    }\n\n    lines.push('::-webkit-scrollbar {');\n    lines.push(\"    background-color: \" + colorTrack + \";\");\n    lines.push(\"    color: \" + colorIcons + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb {');\n    lines.push(\"    background-color: \" + colorThumb + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb:hover {');\n    lines.push(\"    background-color: \" + colorThumbHover + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb:active {');\n    lines.push(\"    background-color: \" + colorThumbActive + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-corner {');\n    lines.push(\"    background-color: \" + colorCorner + \";\");\n    lines.push('}');\n\n    if (isFirefox) {\n      lines.push('* {');\n      lines.push(\"    scrollbar-color: \" + colorThumb + \" \" + colorTrack + \";\");\n      lines.push('}');\n    }\n\n    return lines.join('\\n');\n  }\n\n  function getModifiedFallbackStyle(filter, _a) {\n    var strict = _a.strict;\n    var lines = [];\n    lines.push(\"html, body, \" + (strict ? 'body :not(iframe)' : 'body > :not(iframe)') + \" {\");\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 255,\n      g: 255,\n      b: 255\n    }, filter) + \" !important;\");\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 64,\n      g: 64,\n      b: 64\n    }, filter) + \" !important;\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, filter) + \" !important;\");\n    lines.push('}');\n    return lines.join('\\n');\n  }\n\n  var unparsableColors = new Set(['inherit', 'transparent', 'initial', 'currentcolor', 'none', 'unset']);\n  var colorParseCache = new Map();\n\n  function parseColorWithCache($color) {\n    $color = $color.trim();\n\n    if (colorParseCache.has($color)) {\n      return colorParseCache.get($color);\n    }\n\n    var color = parse($color);\n    colorParseCache.set($color, color);\n    return color;\n  }\n\n  function tryParseColor($color) {\n    try {\n      return parseColorWithCache($color);\n    } catch (err) {\n      return null;\n    }\n  }\n\n  function getColorModifier(prop, value) {\n    if (unparsableColors.has(value.toLowerCase())) {\n      return value;\n    }\n\n    try {\n      var rgb_1 = parseColorWithCache(value);\n\n      if (prop.includes('background')) {\n        return function (filter) {\n          return modifyBackgroundColor(rgb_1, filter);\n        };\n      }\n\n      if (prop.includes('border') || prop.includes('outline')) {\n        return function (filter) {\n          return modifyBorderColor(rgb_1, filter);\n        };\n      }\n\n      return function (filter) {\n        return modifyForegroundColor(rgb_1, filter);\n      };\n    } catch (err) {\n      logWarn('Color parse error', err);\n      return null;\n    }\n  }\n\n  var gradientRegex = /[\\-a-z]+gradient\\(([^\\(\\)]*(\\(([^\\(\\)]*(\\(.*?\\)))*[^\\(\\)]*\\))){0,15}[^\\(\\)]*\\)/g;\n  var imageDetailsCache = new Map();\n  var awaitingForImageLoading = new Map();\n\n  function shouldIgnoreImage(selectorText, selectors) {\n    if (!selectorText || selectors.length === 0) {\n      return false;\n    }\n\n    if (selectors.some(function (s) {\n      return s === '*';\n    })) {\n      return true;\n    }\n\n    var ruleSelectors = selectorText.split(/,\\s*/g);\n\n    var _loop_1 = function _loop_1(i) {\n      var ignoredSelector = selectors[i];\n\n      if (ruleSelectors.some(function (s) {\n        return s === ignoredSelector;\n      })) {\n        return {\n          value: true\n        };\n      }\n    };\n\n    for (var i = 0; i < selectors.length; i++) {\n      var state_1 = _loop_1(i);\n\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n\n    return false;\n  }\n\n  function getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled) {\n    var _this = this;\n\n    try {\n      var gradients = getMatches(gradientRegex, value);\n      var urls = getMatches(cssURLRegex, value);\n\n      if (urls.length === 0 && gradients.length === 0) {\n        return value;\n      }\n\n      var getIndices = function getIndices(matches) {\n        var index = 0;\n        return matches.map(function (match) {\n          var valueIndex = value.indexOf(match, index);\n          index = valueIndex + match.length;\n          return {\n            match: match,\n            index: valueIndex\n          };\n        });\n      };\n\n      var matches_1 = getIndices(urls).map(function (i) {\n        return _assign({\n          type: 'url'\n        }, i);\n      }).concat(getIndices(gradients).map(function (i) {\n        return _assign({\n          type: 'gradient'\n        }, i);\n      })).sort(function (a, b) {\n        return a.index - b.index;\n      });\n\n      var getGradientModifier_1 = function getGradientModifier_1(gradient) {\n        var match = gradient.match(/^(.*-gradient)\\((.*)\\)$/);\n        var type = match[1];\n        var content = match[2];\n        var partsRegex = /([^\\(\\),]+(\\([^\\(\\)]*(\\([^\\(\\)]*\\)*[^\\(\\)]*)?\\))?[^\\(\\),]*),?/g;\n        var colorStopRegex = /^(from|color-stop|to)\\(([^\\(\\)]*?,\\s*)?(.*?)\\)$/;\n        var parts = getMatches(partsRegex, content, 1).map(function (part) {\n          part = part.trim();\n          var rgb = tryParseColor(part);\n\n          if (rgb) {\n            return function (filter) {\n              return modifyGradientColor(rgb, filter);\n            };\n          }\n\n          var space = part.lastIndexOf(' ');\n          rgb = tryParseColor(part.substring(0, space));\n\n          if (rgb) {\n            return function (filter) {\n              return modifyGradientColor(rgb, filter) + \" \" + part.substring(space + 1);\n            };\n          }\n\n          var colorStopMatch = part.match(colorStopRegex);\n\n          if (colorStopMatch) {\n            rgb = tryParseColor(colorStopMatch[3]);\n\n            if (rgb) {\n              return function (filter) {\n                return colorStopMatch[1] + \"(\" + (colorStopMatch[2] ? colorStopMatch[2] + \", \" : '') + modifyGradientColor(rgb, filter) + \")\";\n              };\n            }\n          }\n\n          return function () {\n            return part;\n          };\n        });\n        return function (filter) {\n          return type + \"(\" + parts.map(function (modify) {\n            return modify(filter);\n          }).join(', ') + \")\";\n        };\n      };\n\n      var getURLModifier_1 = function getURLModifier_1(urlValue) {\n        var _a;\n\n        if (shouldIgnoreImage(rule.selectorText, ignoreImageSelectors)) {\n          return null;\n        }\n\n        var url = getCSSURLValue(urlValue);\n        var parentStyleSheet = rule.parentStyleSheet;\n        var baseURL = parentStyleSheet.href ? getCSSBaseBath(parentStyleSheet.href) : ((_a = parentStyleSheet.ownerNode) === null || _a === void 0 ? void 0 : _a.baseURI) || location.origin;\n        url = getAbsoluteURL(baseURL, url);\n        var absoluteValue = \"url(\\\"\" + url + \"\\\")\";\n        return function (filter) {\n          return __awaiter(_this, void 0, void 0, function () {\n            var imageDetails, awaiters_1, err_1, bgImageValue;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  if (!imageDetailsCache.has(url)) return [3, 1];\n                  imageDetails = imageDetailsCache.get(url);\n                  return [3, 7];\n\n                case 1:\n                  _a.trys.push([1, 6,, 7]);\n\n                  if (!awaitingForImageLoading.has(url)) return [3, 3];\n                  awaiters_1 = awaitingForImageLoading.get(url);\n                  return [4, new Promise(function (resolve) {\n                    return awaiters_1.push(resolve);\n                  })];\n\n                case 2:\n                  imageDetails = _a.sent();\n\n                  if (!imageDetails) {\n                    return [2, null];\n                  }\n\n                  return [3, 5];\n\n                case 3:\n                  awaitingForImageLoading.set(url, []);\n                  return [4, getImageDetails(url)];\n\n                case 4:\n                  imageDetails = _a.sent();\n                  imageDetailsCache.set(url, imageDetails);\n                  awaitingForImageLoading.get(url).forEach(function (resolve) {\n                    return resolve(imageDetails);\n                  });\n                  awaitingForImageLoading.delete(url);\n                  _a.label = 5;\n\n                case 5:\n                  if (isCancelled()) {\n                    return [2, null];\n                  }\n\n                  return [3, 7];\n\n                case 6:\n                  err_1 = _a.sent();\n                  logWarn(err_1);\n\n                  if (awaitingForImageLoading.has(url)) {\n                    awaitingForImageLoading.get(url).forEach(function (resolve) {\n                      return resolve(null);\n                    });\n                    awaitingForImageLoading.delete(url);\n                  }\n\n                  return [2, absoluteValue];\n\n                case 7:\n                  bgImageValue = getBgImageValue_1(imageDetails, filter) || absoluteValue;\n                  return [2, bgImageValue];\n              }\n            });\n          });\n        };\n      };\n\n      var getBgImageValue_1 = function getBgImageValue_1(imageDetails, filter) {\n        var isDark = imageDetails.isDark,\n            isLight = imageDetails.isLight,\n            isTransparent = imageDetails.isTransparent,\n            isLarge = imageDetails.isLarge,\n            width = imageDetails.width;\n        var result;\n\n        if (isDark && isTransparent && filter.mode === 1 && !isLarge && width > 2) {\n          logInfo(\"Inverting dark image \" + imageDetails.src);\n          var inverted = getFilteredImageDataURL(imageDetails, _assign(_assign({}, filter), {\n            sepia: clamp(filter.sepia + 10, 0, 100)\n          }));\n          result = \"url(\\\"\" + inverted + \"\\\")\";\n        } else if (isLight && !isTransparent && filter.mode === 1) {\n          if (isLarge) {\n            result = 'none';\n          } else {\n            logInfo(\"Dimming light image \" + imageDetails.src);\n            var dimmed = getFilteredImageDataURL(imageDetails, filter);\n            result = \"url(\\\"\" + dimmed + \"\\\")\";\n          }\n        } else if (filter.mode === 0 && isLight && !isLarge) {\n          logInfo(\"Applying filter to image \" + imageDetails.src);\n          var filtered = getFilteredImageDataURL(imageDetails, _assign(_assign({}, filter), {\n            brightness: clamp(filter.brightness - 10, 5, 200),\n            sepia: clamp(filter.sepia + 10, 0, 100)\n          }));\n          result = \"url(\\\"\" + filtered + \"\\\")\";\n        } else {\n          result = null;\n        }\n\n        return result;\n      };\n\n      var modifiers_1 = [];\n      var index_1 = 0;\n      matches_1.forEach(function (_a, i) {\n        var match = _a.match,\n            type = _a.type,\n            matchStart = _a.index;\n        var prefixStart = index_1;\n        var matchEnd = matchStart + match.length;\n        index_1 = matchEnd;\n        modifiers_1.push(function () {\n          return value.substring(prefixStart, matchStart);\n        });\n        modifiers_1.push(type === 'url' ? getURLModifier_1(match) : getGradientModifier_1(match));\n\n        if (i === matches_1.length - 1) {\n          modifiers_1.push(function () {\n            return value.substring(matchEnd);\n          });\n        }\n      });\n      return function (filter) {\n        var results = modifiers_1.filter(Boolean).map(function (modify) {\n          return modify(filter);\n        });\n\n        if (results.some(function (r) {\n          return r instanceof Promise;\n        })) {\n          return Promise.all(results).then(function (asyncResults) {\n            return asyncResults.join('');\n          });\n        }\n\n        return results.join('');\n      };\n    } catch (err) {\n      logWarn(\"Unable to parse gradient \" + value, err);\n      return null;\n    }\n  }\n\n  function getShadowModifier(value) {\n    try {\n      var index_2 = 0;\n      var colorMatches_1 = getMatches(/(^|\\s)([a-z]+\\(.+?\\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/ig, value, 2);\n      var modifiers_2 = colorMatches_1.map(function (match, i) {\n        var prefixIndex = index_2;\n        var matchIndex = value.indexOf(match, index_2);\n        var matchEnd = matchIndex + match.length;\n        index_2 = matchEnd;\n        var rgb = tryParseColor(match);\n\n        if (!rgb) {\n          return function () {\n            return value.substring(prefixIndex, matchEnd);\n          };\n        }\n\n        return function (filter) {\n          return \"\" + value.substring(prefixIndex, matchIndex) + modifyShadowColor(rgb, filter) + (i === colorMatches_1.length - 1 ? value.substring(matchEnd) : '');\n        };\n      });\n      return function (filter) {\n        return modifiers_2.map(function (modify) {\n          return modify(filter);\n        }).join('');\n      };\n    } catch (err) {\n      logWarn(\"Unable to parse shadow \" + value, err);\n      return null;\n    }\n  }\n\n  function getVariableModifier(variablesStore, prop, value, rule, ignoredImgSelectors, isCancelled) {\n    return variablesStore.getModifierForVariable({\n      varName: prop,\n      sourceValue: value,\n      rule: rule,\n      ignoredImgSelectors: ignoredImgSelectors,\n      isCancelled: isCancelled\n    });\n  }\n\n  function getVariableDependantModifier(variablesStore, prop, value) {\n    return variablesStore.getModifierForVarDependant(prop, value);\n  }\n\n  function cleanModificationCache() {\n    colorParseCache.clear();\n    clearColorModificationCache();\n    imageDetailsCache.clear();\n    cleanImageProcessingCache();\n    awaitingForImageLoading.clear();\n  }\n\n  var VAR_TYPE_BGCOLOR = 1 << 0;\n  var VAR_TYPE_TEXTCOLOR = 1 << 1;\n  var VAR_TYPE_BORDERCOLOR = 1 << 2;\n  var VAR_TYPE_BGIMG = 1 << 3;\n\n  var VariablesStore = function () {\n    function VariablesStore() {\n      this.varTypes = new Map();\n      this.rulesQueue = [];\n      this.definedVars = new Set();\n      this.varRefs = new Map();\n      this.unknownColorVars = new Set();\n      this.unknownBgVars = new Set();\n      this.undefinedVars = new Set();\n      this.initialVarTypes = new Map();\n      this.changedTypeVars = new Set();\n      this.typeChangeSubscriptions = new Map();\n      this.unstableVarValues = new Map();\n    }\n\n    VariablesStore.prototype.clear = function () {\n      this.varTypes.clear();\n      this.rulesQueue.splice(0);\n      this.definedVars.clear();\n      this.varRefs.clear();\n      this.unknownColorVars.clear();\n      this.unknownBgVars.clear();\n      this.undefinedVars.clear();\n      this.initialVarTypes.clear();\n      this.changedTypeVars.clear();\n      this.typeChangeSubscriptions.clear();\n      this.unstableVarValues.clear();\n    };\n\n    VariablesStore.prototype.isVarType = function (varName, typeNum) {\n      return this.varTypes.has(varName) && (this.varTypes.get(varName) & typeNum) > 0;\n    };\n\n    VariablesStore.prototype.addRulesForMatching = function (rules) {\n      this.rulesQueue.push(rules);\n    };\n\n    VariablesStore.prototype.matchVariablesAndDependants = function () {\n      var _this = this;\n\n      this.changedTypeVars.clear();\n      this.initialVarTypes = new Map(this.varTypes);\n      this.collectRootVariables();\n      this.rulesQueue.forEach(function (rules) {\n        return _this.collectVariables(rules);\n      });\n      this.rulesQueue.forEach(function (rules) {\n        return _this.collectVarDependants(rules);\n      });\n      this.rulesQueue.splice(0);\n      this.collectRootVarDependants();\n      this.varRefs.forEach(function (refs, v) {\n        refs.forEach(function (r) {\n          if (_this.varTypes.has(v)) {\n            _this.resolveVariableType(r, _this.varTypes.get(v));\n          }\n        });\n      });\n      this.unknownColorVars.forEach(function (v) {\n        if (_this.unknownBgVars.has(v)) {\n          _this.unknownColorVars.delete(v);\n\n          _this.unknownBgVars.delete(v);\n\n          _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n        } else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR)) {\n          _this.unknownColorVars.delete(v);\n        } else {\n          _this.undefinedVars.add(v);\n        }\n      });\n      this.unknownBgVars.forEach(function (v) {\n        var hasColor = _this.findVarRef(v, function (ref) {\n          return _this.unknownColorVars.has(ref) || _this.isVarType(ref, VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR);\n        }) != null;\n\n        if (hasColor) {\n          _this.itarateVarRefs(v, function (ref) {\n            _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n          });\n        } else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n          _this.unknownBgVars.delete(v);\n        } else {\n          _this.undefinedVars.add(v);\n        }\n      });\n      this.changedTypeVars.forEach(function (varName) {\n        if (_this.typeChangeSubscriptions.has(varName)) {\n          _this.typeChangeSubscriptions.get(varName).forEach(function (callback) {\n            callback();\n          });\n        }\n      });\n      this.changedTypeVars.clear();\n    };\n\n    VariablesStore.prototype.getModifierForVariable = function (options) {\n      var _this = this;\n\n      return function (theme) {\n        var varName = options.varName,\n            sourceValue = options.sourceValue,\n            rule = options.rule,\n            ignoredImgSelectors = options.ignoredImgSelectors,\n            isCancelled = options.isCancelled;\n\n        var getDeclarations = function getDeclarations() {\n          var declarations = [];\n\n          var addModifiedValue = function addModifiedValue(typeNum, varNameWrapper, colorModifier) {\n            if (!_this.isVarType(varName, typeNum)) {\n              return;\n            }\n\n            var property = varNameWrapper(varName);\n            var modifiedValue;\n\n            if (isVarDependant(sourceValue)) {\n              if (isConstructedColorVar(sourceValue)) {\n                var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n                if (!value) {\n                  value = typeNum === VAR_TYPE_BGCOLOR ? '#ffffff' : '#000000';\n                }\n\n                modifiedValue = colorModifier(value, theme);\n              } else {\n                modifiedValue = replaceCSSVariablesNames(sourceValue, function (v) {\n                  return varNameWrapper(v);\n                }, function (fallback) {\n                  return colorModifier(fallback, theme);\n                });\n              }\n            } else {\n              modifiedValue = colorModifier(sourceValue, theme);\n            }\n\n            declarations.push({\n              property: property,\n              value: modifiedValue\n            });\n          };\n\n          addModifiedValue(VAR_TYPE_BGCOLOR, wrapBgColorVariableName, tryModifyBgColor);\n          addModifiedValue(VAR_TYPE_TEXTCOLOR, wrapTextColorVariableName, tryModifyTextColor);\n          addModifiedValue(VAR_TYPE_BORDERCOLOR, wrapBorderColorVariableName, tryModifyBorderColor);\n\n          if (_this.isVarType(varName, VAR_TYPE_BGIMG)) {\n            var property = wrapBgImgVariableName(varName);\n            var modifiedValue = sourceValue;\n\n            if (isVarDependant(sourceValue)) {\n              modifiedValue = replaceCSSVariablesNames(sourceValue, function (v) {\n                return wrapBgColorVariableName(v);\n              }, function (fallback) {\n                return tryModifyBgColor(fallback, theme);\n              });\n            }\n\n            var bgModifier = getBgImageModifier(modifiedValue, rule, ignoredImgSelectors, isCancelled);\n            modifiedValue = typeof bgModifier === 'function' ? bgModifier(theme) : bgModifier;\n            declarations.push({\n              property: property,\n              value: modifiedValue\n            });\n          }\n\n          return declarations;\n        };\n\n        var callbacks = new Set();\n\n        var addListener = function addListener(onTypeChange) {\n          var callback = function callback() {\n            var decs = getDeclarations();\n            onTypeChange(decs);\n          };\n\n          callbacks.add(callback);\n\n          _this.subscribeForVarTypeChange(varName, callback);\n        };\n\n        var removeListeners = function removeListeners() {\n          callbacks.forEach(function (callback) {\n            _this.unsubscribeFromVariableTypeChanges(varName, callback);\n          });\n        };\n\n        return {\n          declarations: getDeclarations(),\n          onTypeChange: {\n            addListener: addListener,\n            removeListeners: removeListeners\n          }\n        };\n      };\n    };\n\n    VariablesStore.prototype.getModifierForVarDependant = function (property, sourceValue) {\n      var _this = this;\n\n      if (sourceValue.match(/^\\s*(rgb|hsl)a?\\(/)) {\n        var isBg_1 = property.startsWith('background');\n        var isText_1 = property === 'color';\n        return function (theme) {\n          var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n          if (!value) {\n            value = isBg_1 ? '#ffffff' : '#000000';\n          }\n\n          var modifier = isBg_1 ? tryModifyBgColor : isText_1 ? tryModifyTextColor : tryModifyBorderColor;\n          return modifier(value, theme);\n        };\n      }\n\n      if (property === 'background-color') {\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapBgColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyBgColor(fallback, theme);\n          });\n        };\n      }\n\n      if (property === 'color') {\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapTextColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyTextColor(fallback, theme);\n          });\n        };\n      }\n\n      if (property === 'background' || property === 'background-image' || property === 'box-shadow') {\n        return function (theme) {\n          var unknownVars = new Set();\n\n          var modify = function modify() {\n            return replaceCSSVariablesNames(sourceValue, function (v) {\n              if (_this.isVarType(v, VAR_TYPE_BGCOLOR)) {\n                return wrapBgColorVariableName(v);\n              }\n\n              if (_this.isVarType(v, VAR_TYPE_BGIMG)) {\n                return wrapBgImgVariableName(v);\n              }\n\n              unknownVars.add(v);\n              return v;\n            }, function (fallback) {\n              return tryModifyBgColor(fallback, theme);\n            });\n          };\n\n          var modified = modify();\n\n          if (unknownVars.size > 0) {\n            return new Promise(function (resolve) {\n              var firstUnknownVar = unknownVars.values().next().value;\n\n              var callback = function callback() {\n                _this.unsubscribeFromVariableTypeChanges(firstUnknownVar, callback);\n\n                var newValue = modify();\n                resolve(newValue);\n              };\n\n              _this.subscribeForVarTypeChange(firstUnknownVar, callback);\n            });\n          }\n\n          return modified;\n        };\n      }\n\n      if (property.startsWith('border') || property.startsWith('outline')) {\n        if (sourceValue.endsWith(')')) {\n          var colorTypeMatch = sourceValue.match(/((rgb|hsl)a?)\\(/);\n\n          if (colorTypeMatch) {\n            var index_1 = colorTypeMatch.index;\n            return function (theme) {\n              var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n              if (!value) {\n                return sourceValue;\n              }\n\n              var beginning = sourceValue.substring(0, index_1);\n              var color = sourceValue.substring(index_1, sourceValue.length);\n              var inserted = insertVarValues(color, _this.unstableVarValues);\n              var modified = tryModifyBorderColor(inserted, theme);\n              return \"\" + beginning + modified;\n            };\n          }\n        }\n\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapBorderColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyTextColor(fallback, theme);\n          });\n        };\n      }\n\n      return null;\n    };\n\n    VariablesStore.prototype.subscribeForVarTypeChange = function (varName, callback) {\n      if (!this.typeChangeSubscriptions.has(varName)) {\n        this.typeChangeSubscriptions.set(varName, new Set());\n      }\n\n      this.typeChangeSubscriptions.get(varName).add(callback);\n    };\n\n    VariablesStore.prototype.unsubscribeFromVariableTypeChanges = function (varName, callback) {\n      if (this.typeChangeSubscriptions.has(varName)) {\n        this.typeChangeSubscriptions.get(varName).delete(callback);\n      }\n    };\n\n    VariablesStore.prototype.collectVariables = function (rules) {\n      var _this = this;\n\n      iterateVariables(rules, function (varName, value) {\n        _this.inspectVariable(varName, value);\n      });\n    };\n\n    VariablesStore.prototype.collectRootVariables = function () {\n      var _this = this;\n\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVariable(property)) {\n          _this.inspectVariable(property, value);\n        }\n      });\n    };\n\n    VariablesStore.prototype.inspectVariable = function (varName, value) {\n      this.unstableVarValues.set(varName, value);\n\n      if (isVarDependant(value) && isConstructedColorVar(value)) {\n        this.unknownColorVars.add(varName);\n        this.definedVars.add(varName);\n      }\n\n      if (this.definedVars.has(varName)) {\n        return;\n      }\n\n      this.definedVars.add(varName);\n      var color = tryParseColor(value);\n\n      if (color) {\n        this.unknownColorVars.add(varName);\n      } else if (value.includes('url(') || value.includes('linear-gradient(') || value.includes('radial-gradient(')) {\n        this.resolveVariableType(varName, VAR_TYPE_BGIMG);\n      }\n    };\n\n    VariablesStore.prototype.resolveVariableType = function (varName, typeNum) {\n      var initialType = this.initialVarTypes.get(varName) || 0;\n      var currentType = this.varTypes.get(varName) || 0;\n      var newType = currentType | typeNum;\n      this.varTypes.set(varName, newType);\n\n      if (newType !== initialType || this.undefinedVars.has(varName)) {\n        this.changedTypeVars.add(varName);\n        this.undefinedVars.delete(varName);\n      }\n\n      this.unknownColorVars.delete(varName);\n      this.unknownBgVars.delete(varName);\n    };\n\n    VariablesStore.prototype.collectVarDependants = function (rules) {\n      var _this = this;\n\n      iterateVarDependants(rules, function (property, value) {\n        _this.inspectVerDependant(property, value);\n      });\n    };\n\n    VariablesStore.prototype.collectRootVarDependants = function () {\n      var _this = this;\n\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVarDependant(value)) {\n          _this.inspectVerDependant(property, value);\n        }\n      });\n    };\n\n    VariablesStore.prototype.inspectVerDependant = function (property, value) {\n      var _this = this;\n\n      if (isVariable(property)) {\n        this.iterateVarDeps(value, function (ref) {\n          if (!_this.varRefs.has(property)) {\n            _this.varRefs.set(property, new Set());\n          }\n\n          _this.varRefs.get(property).add(ref);\n        });\n      } else if (property === 'background-color' || property === 'box-shadow') {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n        });\n      } else if (property === 'color') {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_TEXTCOLOR);\n        });\n      } else if (property.startsWith('border') || property.startsWith('outline')) {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_BORDERCOLOR);\n        });\n      } else if (property === 'background' || property === 'background-image') {\n        this.iterateVarDeps(value, function (v) {\n          if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n            return;\n          }\n\n          var isBgColor = _this.findVarRef(v, function (ref) {\n            return _this.unknownColorVars.has(ref) || _this.isVarType(ref, VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR);\n          }) != null;\n\n          _this.itarateVarRefs(v, function (ref) {\n            if (isBgColor) {\n              _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n            } else {\n              _this.unknownBgVars.add(ref);\n            }\n          });\n        });\n      }\n    };\n\n    VariablesStore.prototype.iterateVarDeps = function (value, iterator) {\n      var varDeps = new Set();\n      iterateVarDependencies(value, function (v) {\n        return varDeps.add(v);\n      });\n      varDeps.forEach(function (v) {\n        return iterator(v);\n      });\n    };\n\n    VariablesStore.prototype.findVarRef = function (varName, iterator, stack) {\n      var e_1, _a;\n\n      if (stack === void 0) {\n        stack = new Set();\n      }\n\n      if (stack.has(varName)) {\n        return null;\n      }\n\n      stack.add(varName);\n      var result = iterator(varName);\n\n      if (result) {\n        return varName;\n      }\n\n      var refs = this.varRefs.get(varName);\n\n      if (!refs || refs.size === 0) {\n        return null;\n      }\n\n      try {\n        for (var refs_1 = __values(refs), refs_1_1 = refs_1.next(); !refs_1_1.done; refs_1_1 = refs_1.next()) {\n          var ref = refs_1_1.value;\n          var found = this.findVarRef(ref, iterator, stack);\n\n          if (found) {\n            return found;\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (refs_1_1 && !refs_1_1.done && (_a = refs_1.return)) _a.call(refs_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      return null;\n    };\n\n    VariablesStore.prototype.itarateVarRefs = function (varName, iterator) {\n      this.findVarRef(varName, function (ref) {\n        iterator(ref);\n        return false;\n      });\n    };\n\n    VariablesStore.prototype.putRootVars = function (styleElement, theme) {\n      var e_2, _a;\n\n      var _this = this;\n\n      var sheet = styleElement.sheet;\n\n      if (sheet.cssRules.length > 0) {\n        sheet.deleteRule(0);\n      }\n\n      var declarations = new Map();\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVariable(property)) {\n          if (_this.isVarType(property, VAR_TYPE_BGCOLOR)) {\n            declarations.set(wrapBgColorVariableName(property), tryModifyBgColor(value, theme));\n          }\n\n          if (_this.isVarType(property, VAR_TYPE_TEXTCOLOR)) {\n            declarations.set(wrapTextColorVariableName(property), tryModifyTextColor(value, theme));\n          }\n\n          if (_this.isVarType(property, VAR_TYPE_BORDERCOLOR)) {\n            declarations.set(wrapBorderColorVariableName(property), tryModifyBorderColor(value, theme));\n          }\n        }\n      });\n      var cssLines = [];\n      cssLines.push(':root {');\n\n      try {\n        for (var declarations_1 = __values(declarations), declarations_1_1 = declarations_1.next(); !declarations_1_1.done; declarations_1_1 = declarations_1.next()) {\n          var _b = __read(declarations_1_1.value, 2),\n              property = _b[0],\n              value = _b[1];\n\n          cssLines.push(\"    \" + property + \": \" + value + \";\");\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (declarations_1_1 && !declarations_1_1.done && (_a = declarations_1.return)) _a.call(declarations_1);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      cssLines.push('}');\n      var cssText = cssLines.join('\\n');\n      sheet.insertRule(cssText);\n    };\n\n    return VariablesStore;\n  }();\n\n  var variablesStore = new VariablesStore();\n\n  function getVariableRange(input, searchStart) {\n    if (searchStart === void 0) {\n      searchStart = 0;\n    }\n\n    var start = input.indexOf('var(', searchStart);\n\n    if (start >= 0) {\n      var range = getParenthesesRange(input, start + 3);\n\n      if (range) {\n        return {\n          start: start,\n          end: range.end\n        };\n      }\n\n      return null;\n    }\n  }\n\n  function getVariablesMatches(input) {\n    var ranges = [];\n    var i = 0;\n    var range;\n\n    while (range = getVariableRange(input, i)) {\n      var start = range.start,\n          end = range.end;\n      ranges.push({\n        start: start,\n        end: end,\n        value: input.substring(start, end)\n      });\n      i = range.end + 1;\n    }\n\n    return ranges;\n  }\n\n  function replaceVariablesMatches(input, replacer) {\n    var matches = getVariablesMatches(input);\n    var matchesCount = matches.length;\n\n    if (matchesCount === 0) {\n      return input;\n    }\n\n    var inputLength = input.length;\n    var replacements = matches.map(function (m) {\n      return replacer(m.value);\n    });\n    var parts = [];\n    parts.push(input.substring(0, matches[0].start));\n\n    for (var i = 0; i < matchesCount; i++) {\n      parts.push(replacements[i]);\n      var start = matches[i].end;\n      var end = i < matchesCount - 1 ? matches[i + 1].start : inputLength;\n      parts.push(input.substring(start, end));\n    }\n\n    return parts.join('');\n  }\n\n  function getVariableNameAndFallback(match) {\n    var commaIndex = match.indexOf(',');\n    var name;\n    var fallback;\n\n    if (commaIndex >= 0) {\n      name = match.substring(4, commaIndex).trim();\n      fallback = match.substring(commaIndex + 1, match.length - 1).trim();\n    } else {\n      name = match.substring(4, match.length - 1);\n      fallback = '';\n    }\n\n    return {\n      name: name,\n      fallback: fallback\n    };\n  }\n\n  function replaceCSSVariablesNames(value, nemeReplacer, fallbackReplacer) {\n    var matchReplacer = function matchReplacer(match) {\n      var _a = getVariableNameAndFallback(match),\n          name = _a.name,\n          fallback = _a.fallback;\n\n      var newName = nemeReplacer(name);\n\n      if (!fallback) {\n        return \"var(\" + newName + \")\";\n      }\n\n      var newFallback;\n\n      if (isVarDependant(fallback)) {\n        newFallback = replaceCSSVariablesNames(fallback, nemeReplacer, fallbackReplacer);\n      } else if (fallbackReplacer) {\n        newFallback = fallbackReplacer(fallback);\n      } else {\n        newFallback = fallback;\n      }\n\n      return \"var(\" + newName + \", \" + newFallback + \")\";\n    };\n\n    return replaceVariablesMatches(value, matchReplacer);\n  }\n\n  function iterateVariables(rules, iterator) {\n    iterateCSSRules(rules, function (rule) {\n      rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n        if (property.startsWith('--')) {\n          iterator(property, value);\n        }\n      });\n    });\n  }\n\n  function iterateVarDependants(rules, iterator) {\n    iterateCSSRules(rules, function (rule) {\n      rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n        if (isVarDependant(value)) {\n          iterator(property, value);\n        }\n      });\n    });\n  }\n\n  function iterateVarDependencies(value, iterator) {\n    replaceCSSVariablesNames(value, function (varName) {\n      iterator(varName);\n      return varName;\n    });\n  }\n\n  function wrapBgColorVariableName(name) {\n    return \"--darkreader-bg\" + name;\n  }\n\n  function wrapTextColorVariableName(name) {\n    return \"--darkreader-text\" + name;\n  }\n\n  function wrapBorderColorVariableName(name) {\n    return \"--darkreader-border\" + name;\n  }\n\n  function wrapBgImgVariableName(name) {\n    return \"--darkreader-bgimg\" + name;\n  }\n\n  function isVariable(property) {\n    return property.startsWith('--');\n  }\n\n  function isVarDependant(value) {\n    return value.includes('var(');\n  }\n\n  function isConstructedColorVar(value) {\n    return value.match(/^\\s*(rgb|hsl)a?\\(/);\n  }\n\n  function tryModifyBgColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyBackgroundColor(rgb, theme) : color;\n  }\n\n  function tryModifyTextColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyForegroundColor(rgb, theme) : color;\n  }\n\n  function tryModifyBorderColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyBorderColor(rgb, theme) : color;\n  }\n\n  function insertVarValues(source, varValues, stack) {\n    if (stack === void 0) {\n      stack = new Set();\n    }\n\n    var containsUnresolvedVar = false;\n\n    var matchReplacer = function matchReplacer(match) {\n      var _a = getVariableNameAndFallback(match),\n          name = _a.name,\n          fallback = _a.fallback;\n\n      if (stack.has(name)) {\n        containsUnresolvedVar = true;\n        return null;\n      }\n\n      stack.add(name);\n      var varValue = varValues.get(name) || fallback;\n      var inserted = null;\n\n      if (varValue) {\n        if (isVarDependant(varValue)) {\n          inserted = insertVarValues(varValue, varValues, stack);\n        } else {\n          inserted = varValue;\n        }\n      }\n\n      if (!inserted) {\n        containsUnresolvedVar = true;\n        return null;\n      }\n\n      return inserted;\n    };\n\n    var replaced = replaceVariablesMatches(source, matchReplacer);\n\n    if (containsUnresolvedVar) {\n      return null;\n    }\n\n    return replaced;\n  }\n\n  var overrides = {\n    'background-color': {\n      customProp: '--darkreader-inline-bgcolor',\n      cssProp: 'background-color',\n      dataAttr: 'data-darkreader-inline-bgcolor'\n    },\n    'background-image': {\n      customProp: '--darkreader-inline-bgimage',\n      cssProp: 'background-image',\n      dataAttr: 'data-darkreader-inline-bgimage'\n    },\n    'border-color': {\n      customProp: '--darkreader-inline-border',\n      cssProp: 'border-color',\n      dataAttr: 'data-darkreader-inline-border'\n    },\n    'border-bottom-color': {\n      customProp: '--darkreader-inline-border-bottom',\n      cssProp: 'border-bottom-color',\n      dataAttr: 'data-darkreader-inline-border-bottom'\n    },\n    'border-left-color': {\n      customProp: '--darkreader-inline-border-left',\n      cssProp: 'border-left-color',\n      dataAttr: 'data-darkreader-inline-border-left'\n    },\n    'border-right-color': {\n      customProp: '--darkreader-inline-border-right',\n      cssProp: 'border-right-color',\n      dataAttr: 'data-darkreader-inline-border-right'\n    },\n    'border-top-color': {\n      customProp: '--darkreader-inline-border-top',\n      cssProp: 'border-top-color',\n      dataAttr: 'data-darkreader-inline-border-top'\n    },\n    'box-shadow': {\n      customProp: '--darkreader-inline-boxshadow',\n      cssProp: 'box-shadow',\n      dataAttr: 'data-darkreader-inline-boxshadow'\n    },\n    'color': {\n      customProp: '--darkreader-inline-color',\n      cssProp: 'color',\n      dataAttr: 'data-darkreader-inline-color'\n    },\n    'fill': {\n      customProp: '--darkreader-inline-fill',\n      cssProp: 'fill',\n      dataAttr: 'data-darkreader-inline-fill'\n    },\n    'stroke': {\n      customProp: '--darkreader-inline-stroke',\n      cssProp: 'stroke',\n      dataAttr: 'data-darkreader-inline-stroke'\n    },\n    'outline-color': {\n      customProp: '--darkreader-inline-outline',\n      cssProp: 'outline-color',\n      dataAttr: 'data-darkreader-inline-outline'\n    },\n    'stop-color': {\n      customProp: '--darkreader-inline-stopcolor',\n      cssProp: 'stop-color',\n      dataAttr: 'data-darkreader-inline-stopcolor'\n    }\n  };\n  var overridesList = Object.values(overrides);\n  var INLINE_STYLE_ATTRS = ['style', 'fill', 'stop-color', 'stroke', 'bgcolor', 'color'];\n  var INLINE_STYLE_SELECTOR = INLINE_STYLE_ATTRS.map(function (attr) {\n    return \"[\" + attr + \"]\";\n  }).join(', ');\n\n  function getInlineOverrideStyle() {\n    return overridesList.map(function (_a) {\n      var dataAttr = _a.dataAttr,\n          customProp = _a.customProp,\n          cssProp = _a.cssProp;\n      return [\"[\" + dataAttr + \"] {\", \"  \" + cssProp + \": var(\" + customProp + \") !important;\", '}'].join('\\n');\n    }).join('\\n');\n  }\n\n  function getInlineStyleElements(root) {\n    var results = [];\n\n    if (root instanceof Element && root.matches(INLINE_STYLE_SELECTOR)) {\n      results.push(root);\n    }\n\n    if (root instanceof Element || isShadowDomSupported && root instanceof ShadowRoot || root instanceof Document) {\n      push(results, root.querySelectorAll(INLINE_STYLE_SELECTOR));\n    }\n\n    return results;\n  }\n\n  var treeObservers = new Map();\n  var attrObservers = new Map();\n\n  function watchForInlineStyles(elementStyleDidChange, shadowRootDiscovered) {\n    deepWatchForInlineStyles(document, elementStyleDidChange, shadowRootDiscovered);\n    iterateShadowHosts(document.documentElement, function (host) {\n      deepWatchForInlineStyles(host.shadowRoot, elementStyleDidChange, shadowRootDiscovered);\n    });\n  }\n\n  function deepWatchForInlineStyles(root, elementStyleDidChange, shadowRootDiscovered) {\n    if (treeObservers.has(root)) {\n      treeObservers.get(root).disconnect();\n      attrObservers.get(root).disconnect();\n    }\n\n    var discoveredNodes = new WeakSet();\n\n    function discoverNodes(node) {\n      getInlineStyleElements(node).forEach(function (el) {\n        if (discoveredNodes.has(el)) {\n          return;\n        }\n\n        discoveredNodes.add(el);\n        elementStyleDidChange(el);\n      });\n      iterateShadowHosts(node, function (n) {\n        if (discoveredNodes.has(node)) {\n          return;\n        }\n\n        discoveredNodes.add(node);\n        shadowRootDiscovered(n.shadowRoot);\n        deepWatchForInlineStyles(n.shadowRoot, elementStyleDidChange, shadowRootDiscovered);\n      });\n    }\n\n    var treeObserver = createOptimizedTreeObserver(root, {\n      onMinorMutations: function onMinorMutations(_a) {\n        var additions = _a.additions;\n        additions.forEach(function (added) {\n          return discoverNodes(added);\n        });\n      },\n      onHugeMutations: function onHugeMutations() {\n        discoverNodes(root);\n      }\n    });\n    treeObservers.set(root, treeObserver);\n    var attemptCount = 0;\n    var start = null;\n    var ATTEMPTS_INTERVAL = getDuration({\n      seconds: 10\n    });\n    var RETRY_TIMEOUT = getDuration({\n      seconds: 2\n    });\n    var MAX_ATTEMPTS_COUNT = 50;\n    var cache = [];\n    var timeoutId = null;\n    var handleAttributeMutations = throttle(function (mutations) {\n      mutations.forEach(function (m) {\n        if (INLINE_STYLE_ATTRS.includes(m.attributeName)) {\n          elementStyleDidChange(m.target);\n        }\n      });\n    });\n    var attrObserver = new MutationObserver(function (mutations) {\n      if (timeoutId) {\n        cache.push.apply(cache, __spreadArray([], __read(mutations)));\n        return;\n      }\n\n      attemptCount++;\n      var now = Date.now();\n\n      if (start == null) {\n        start = now;\n      } else if (attemptCount >= MAX_ATTEMPTS_COUNT) {\n        if (now - start < ATTEMPTS_INTERVAL) {\n          timeoutId = setTimeout(function () {\n            start = null;\n            attemptCount = 0;\n            timeoutId = null;\n            var attributeCache = cache;\n            cache = [];\n            handleAttributeMutations(attributeCache);\n          }, RETRY_TIMEOUT);\n          cache.push.apply(cache, __spreadArray([], __read(mutations)));\n          return;\n        }\n\n        start = now;\n        attemptCount = 1;\n      }\n\n      handleAttributeMutations(mutations);\n    });\n    attrObserver.observe(root, {\n      attributes: true,\n      attributeFilter: INLINE_STYLE_ATTRS.concat(overridesList.map(function (_a) {\n        var dataAttr = _a.dataAttr;\n        return dataAttr;\n      })),\n      subtree: true\n    });\n    attrObservers.set(root, attrObserver);\n  }\n\n  function stopWatchingForInlineStyles() {\n    treeObservers.forEach(function (o) {\n      return o.disconnect();\n    });\n    attrObservers.forEach(function (o) {\n      return o.disconnect();\n    });\n    treeObservers.clear();\n    attrObservers.clear();\n  }\n\n  var inlineStyleCache = new WeakMap();\n  var filterProps = ['brightness', 'contrast', 'grayscale', 'sepia', 'mode'];\n\n  function getInlineStyleCacheKey(el, theme) {\n    return INLINE_STYLE_ATTRS.map(function (attr) {\n      return attr + \"=\\\"\" + el.getAttribute(attr) + \"\\\"\";\n    }).concat(filterProps.map(function (prop) {\n      return prop + \"=\\\"\" + theme[prop] + \"\\\"\";\n    })).join(' ');\n  }\n\n  function shouldIgnoreInlineStyle(element, selectors) {\n    for (var i = 0, len = selectors.length; i < len; i++) {\n      var ingnoredSelector = selectors[i];\n\n      if (element.matches(ingnoredSelector)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function overrideInlineStyle(element, theme, ignoreInlineSelectors, ignoreImageSelectors) {\n    var cacheKey = getInlineStyleCacheKey(element, theme);\n\n    if (cacheKey === inlineStyleCache.get(element)) {\n      return;\n    }\n\n    var unsetProps = new Set(Object.keys(overrides));\n\n    function setCustomProp(targetCSSProp, modifierCSSProp, cssVal) {\n      var _a = overrides[targetCSSProp],\n          customProp = _a.customProp,\n          dataAttr = _a.dataAttr;\n      var mod = getModifiableCSSDeclaration(modifierCSSProp, cssVal, null, variablesStore, ignoreImageSelectors, null);\n\n      if (!mod) {\n        return;\n      }\n\n      var value = mod.value;\n\n      if (typeof value === 'function') {\n        value = value(theme);\n      }\n\n      element.style.setProperty(customProp, value);\n\n      if (!element.hasAttribute(dataAttr)) {\n        element.setAttribute(dataAttr, '');\n      }\n\n      unsetProps.delete(targetCSSProp);\n    }\n\n    if (ignoreInlineSelectors.length > 0) {\n      if (shouldIgnoreInlineStyle(element, ignoreInlineSelectors)) {\n        unsetProps.forEach(function (cssProp) {\n          element.removeAttribute(overrides[cssProp].dataAttr);\n        });\n        return;\n      }\n    }\n\n    if (element.hasAttribute('bgcolor')) {\n      var value = element.getAttribute('bgcolor');\n\n      if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {\n        value = \"#\" + value;\n      }\n\n      setCustomProp('background-color', 'background-color', value);\n    }\n\n    if (element.hasAttribute('color')) {\n      var value = element.getAttribute('color');\n\n      if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {\n        value = \"#\" + value;\n      }\n\n      setCustomProp('color', 'color', value);\n    }\n\n    if (element instanceof SVGElement) {\n      if (element.hasAttribute('fill')) {\n        var SMALL_SVG_LIMIT = 32;\n        var value = element.getAttribute('fill');\n        var isBg = false;\n\n        if (!(element instanceof SVGTextElement)) {\n          var _a = element.getBoundingClientRect(),\n              width = _a.width,\n              height = _a.height;\n\n          isBg = width > SMALL_SVG_LIMIT || height > SMALL_SVG_LIMIT;\n        }\n\n        setCustomProp('fill', isBg ? 'background-color' : 'color', value);\n      }\n\n      if (element.hasAttribute('stop-color')) {\n        setCustomProp('stop-color', 'background-color', element.getAttribute('stop-color'));\n      }\n    }\n\n    if (element.hasAttribute('stroke')) {\n      var value = element.getAttribute('stroke');\n      setCustomProp('stroke', element instanceof SVGLineElement || element instanceof SVGTextElement ? 'border-color' : 'color', value);\n    }\n\n    element.style && iterateCSSDeclarations(element.style, function (property, value) {\n      if (property === 'background-image' && value.includes('url')) {\n        return;\n      }\n\n      if (overrides.hasOwnProperty(property)) {\n        setCustomProp(property, property, value);\n      }\n    });\n\n    if (element.style && element instanceof SVGTextElement && element.style.fill) {\n      setCustomProp('fill', 'color', element.style.getPropertyValue('fill'));\n    }\n\n    forEach(unsetProps, function (cssProp) {\n      element.removeAttribute(overrides[cssProp].dataAttr);\n    });\n    inlineStyleCache.set(element, getInlineStyleCacheKey(element, theme));\n  }\n\n  var metaThemeColorName = 'theme-color';\n  var metaThemeColorSelector = \"meta[name=\\\"\" + metaThemeColorName + \"\\\"]\";\n  var srcMetaThemeColor = null;\n  var observer = null;\n\n  function changeMetaThemeColor(meta, theme) {\n    srcMetaThemeColor = srcMetaThemeColor || meta.content;\n\n    try {\n      var color = parse(srcMetaThemeColor);\n      meta.content = modifyBackgroundColor(color, theme);\n    } catch (err) {\n      logWarn(err);\n    }\n  }\n\n  function changeMetaThemeColorWhenAvailable(theme) {\n    var meta = document.querySelector(metaThemeColorSelector);\n\n    if (meta) {\n      changeMetaThemeColor(meta, theme);\n    } else {\n      if (observer) {\n        observer.disconnect();\n      }\n\n      observer = new MutationObserver(function (mutations) {\n        loop: for (var i = 0; i < mutations.length; i++) {\n          var addedNodes = mutations[i].addedNodes;\n\n          for (var j = 0; j < addedNodes.length; j++) {\n            var node = addedNodes[j];\n\n            if (node instanceof HTMLMetaElement && node.name === metaThemeColorName) {\n              observer.disconnect();\n              observer = null;\n              changeMetaThemeColor(node, theme);\n              break loop;\n            }\n          }\n        }\n      });\n      observer.observe(document.head, {\n        childList: true\n      });\n    }\n  }\n\n  function restoreMetaThemeColor() {\n    if (observer) {\n      observer.disconnect();\n      observer = null;\n    }\n\n    var meta = document.querySelector(metaThemeColorSelector);\n\n    if (meta && srcMetaThemeColor) {\n      meta.content = srcMetaThemeColor;\n    }\n  }\n\n  var themeCacheKeys = ['mode', 'brightness', 'contrast', 'grayscale', 'sepia', 'darkSchemeBackgroundColor', 'darkSchemeTextColor', 'lightSchemeBackgroundColor', 'lightSchemeTextColor'];\n\n  function getThemeKey(theme) {\n    return themeCacheKeys.map(function (p) {\n      return p + \":\" + theme[p];\n    }).join(';');\n  }\n\n  var asyncQueue = createAsyncTasksQueue();\n\n  function createStyleSheetModifier() {\n    var renderId = 0;\n    var rulesTextCache = new Map();\n    var rulesModCache = new Map();\n    var varTypeChangeCleaners = new Set();\n    var prevFilterKey = null;\n\n    function modifySheet(options) {\n      var rules = options.sourceCSSRules;\n      var theme = options.theme,\n          ignoreImageAnalysis = options.ignoreImageAnalysis,\n          force = options.force,\n          prepareSheet = options.prepareSheet,\n          isAsyncCancelled = options.isAsyncCancelled;\n      var rulesChanged = rulesModCache.size === 0;\n      var notFoundCacheKeys = new Set(rulesModCache.keys());\n      var themeKey = getThemeKey(theme);\n      var themeChanged = themeKey !== prevFilterKey;\n      var modRules = [];\n      iterateCSSRules(rules, function (rule) {\n        var cssText = rule.cssText;\n        var textDiffersFromPrev = false;\n        notFoundCacheKeys.delete(cssText);\n\n        if (!rulesTextCache.has(cssText)) {\n          rulesTextCache.set(cssText, cssText);\n          textDiffersFromPrev = true;\n        }\n\n        if (textDiffersFromPrev) {\n          rulesChanged = true;\n        } else {\n          modRules.push(rulesModCache.get(cssText));\n          return;\n        }\n\n        var modDecs = [];\n        rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n          var mod = getModifiableCSSDeclaration(property, value, rule, variablesStore, ignoreImageAnalysis, isAsyncCancelled);\n\n          if (mod) {\n            modDecs.push(mod);\n          }\n        });\n        var modRule = null;\n\n        if (modDecs.length > 0) {\n          var parentRule = rule.parentRule;\n          modRule = {\n            selector: rule.selectorText,\n            declarations: modDecs,\n            parentRule: parentRule\n          };\n          modRules.push(modRule);\n        }\n\n        rulesModCache.set(cssText, modRule);\n      });\n      notFoundCacheKeys.forEach(function (key) {\n        rulesTextCache.delete(key);\n        rulesModCache.delete(key);\n      });\n      prevFilterKey = themeKey;\n\n      if (!force && !rulesChanged && !themeChanged) {\n        return;\n      }\n\n      renderId++;\n\n      function setRule(target, index, rule) {\n        var selector = rule.selector,\n            declarations = rule.declarations;\n\n        var getDeclarationText = function getDeclarationText(dec) {\n          var property = dec.property,\n              value = dec.value,\n              important = dec.important,\n              sourceValue = dec.sourceValue;\n          return property + \": \" + (value == null ? sourceValue : value) + (important ? ' !important' : '') + \";\";\n        };\n\n        var ruleText = selector + \" { \" + declarations.map(getDeclarationText).join(' ') + \" }\";\n        target.insertRule(ruleText, index);\n      }\n\n      var asyncDeclarations = new Map();\n      var varDeclarations = new Map();\n      var asyncDeclarationCounter = 0;\n      var varDeclarationCounter = 0;\n      var rootReadyGroup = {\n        rule: null,\n        rules: [],\n        isGroup: true\n      };\n      var groupRefs = new WeakMap();\n\n      function getGroup(rule) {\n        if (rule == null) {\n          return rootReadyGroup;\n        }\n\n        if (groupRefs.has(rule)) {\n          return groupRefs.get(rule);\n        }\n\n        var group = {\n          rule: rule,\n          rules: [],\n          isGroup: true\n        };\n        groupRefs.set(rule, group);\n        var parentGroup = getGroup(rule.parentRule);\n        parentGroup.rules.push(group);\n        return group;\n      }\n\n      varTypeChangeCleaners.forEach(function (clear) {\n        return clear();\n      });\n      varTypeChangeCleaners.clear();\n      modRules.filter(function (r) {\n        return r;\n      }).forEach(function (_a) {\n        var selector = _a.selector,\n            declarations = _a.declarations,\n            parentRule = _a.parentRule;\n        var group = getGroup(parentRule);\n        var readyStyleRule = {\n          selector: selector,\n          declarations: [],\n          isGroup: false\n        };\n        var readyDeclarations = readyStyleRule.declarations;\n        group.rules.push(readyStyleRule);\n\n        function handleAsyncDeclaration(property, modified, important, sourceValue) {\n          var asyncKey = ++asyncDeclarationCounter;\n          var asyncDeclaration = {\n            property: property,\n            value: null,\n            important: important,\n            asyncKey: asyncKey,\n            sourceValue: sourceValue\n          };\n          readyDeclarations.push(asyncDeclaration);\n          var currentRenderId = renderId;\n          modified.then(function (asyncValue) {\n            if (!asyncValue || isAsyncCancelled() || currentRenderId !== renderId) {\n              return;\n            }\n\n            asyncDeclaration.value = asyncValue;\n            asyncQueue.add(function () {\n              if (isAsyncCancelled() || currentRenderId !== renderId) {\n                return;\n              }\n\n              rebuildAsyncRule(asyncKey);\n            });\n          });\n        }\n\n        function handleVarDeclarations(property, modified, important, sourceValue) {\n          var _a = modified,\n              varDecs = _a.declarations,\n              onTypeChange = _a.onTypeChange;\n          var varKey = ++varDeclarationCounter;\n          var currentRenderId = renderId;\n          var initialIndex = readyDeclarations.length;\n          var oldDecs = [];\n\n          if (varDecs.length === 0) {\n            var tempDec = {\n              property: property,\n              value: sourceValue,\n              important: important,\n              sourceValue: sourceValue,\n              varKey: varKey\n            };\n            readyDeclarations.push(tempDec);\n            oldDecs = [tempDec];\n          }\n\n          varDecs.forEach(function (mod) {\n            if (mod.value instanceof Promise) {\n              handleAsyncDeclaration(mod.property, mod.value, important, sourceValue);\n            } else {\n              var readyDec = {\n                property: mod.property,\n                value: mod.value,\n                important: important,\n                sourceValue: sourceValue,\n                varKey: varKey\n              };\n              readyDeclarations.push(readyDec);\n              oldDecs.push(readyDec);\n            }\n          });\n          onTypeChange.addListener(function (newDecs) {\n            if (isAsyncCancelled() || currentRenderId !== renderId) {\n              return;\n            }\n\n            var readyVarDecs = newDecs.map(function (mod) {\n              return {\n                property: mod.property,\n                value: mod.value,\n                important: important,\n                sourceValue: sourceValue,\n                varKey: varKey\n              };\n            });\n            var index = readyDeclarations.indexOf(oldDecs[0], initialIndex);\n            readyDeclarations.splice.apply(readyDeclarations, __spreadArray([index, oldDecs.length], __read(readyVarDecs)));\n            oldDecs = readyVarDecs;\n            rebuildVarRule(varKey);\n          });\n          varTypeChangeCleaners.add(function () {\n            return onTypeChange.removeListeners();\n          });\n        }\n\n        declarations.forEach(function (_a) {\n          var property = _a.property,\n              value = _a.value,\n              important = _a.important,\n              sourceValue = _a.sourceValue;\n\n          if (typeof value === 'function') {\n            var modified = value(theme);\n\n            if (modified instanceof Promise) {\n              handleAsyncDeclaration(property, modified, important, sourceValue);\n            } else if (property.startsWith('--')) {\n              handleVarDeclarations(property, modified, important, sourceValue);\n            } else {\n              readyDeclarations.push({\n                property: property,\n                value: modified,\n                important: important,\n                sourceValue: sourceValue\n              });\n            }\n          } else {\n            readyDeclarations.push({\n              property: property,\n              value: value,\n              important: important,\n              sourceValue: sourceValue\n            });\n          }\n        });\n      });\n      var sheet = prepareSheet();\n\n      function buildStyleSheet() {\n        function createTarget(group, parent) {\n          var rule = group.rule;\n\n          if (rule instanceof CSSMediaRule) {\n            var media = rule.media;\n            var index = parent.cssRules.length;\n            parent.insertRule(\"@media \" + media.mediaText + \" {}\", index);\n            return parent.cssRules[index];\n          }\n\n          return parent;\n        }\n\n        function iterateReadyRules(group, target, styleIterator) {\n          group.rules.forEach(function (r) {\n            if (r.isGroup) {\n              var t = createTarget(r, target);\n              iterateReadyRules(r, t, styleIterator);\n            } else {\n              styleIterator(r, target);\n            }\n          });\n        }\n\n        iterateReadyRules(rootReadyGroup, sheet, function (rule, target) {\n          var index = target.cssRules.length;\n          rule.declarations.forEach(function (_a) {\n            var asyncKey = _a.asyncKey,\n                varKey = _a.varKey;\n\n            if (asyncKey != null) {\n              asyncDeclarations.set(asyncKey, {\n                rule: rule,\n                target: target,\n                index: index\n              });\n            }\n\n            if (varKey != null) {\n              varDeclarations.set(varKey, {\n                rule: rule,\n                target: target,\n                index: index\n              });\n            }\n          });\n          setRule(target, index, rule);\n        });\n      }\n\n      function rebuildAsyncRule(key) {\n        var _a = asyncDeclarations.get(key),\n            rule = _a.rule,\n            target = _a.target,\n            index = _a.index;\n\n        target.deleteRule(index);\n        setRule(target, index, rule);\n        asyncDeclarations.delete(key);\n      }\n\n      function rebuildVarRule(key) {\n        var _a = varDeclarations.get(key),\n            rule = _a.rule,\n            target = _a.target,\n            index = _a.index;\n\n        target.deleteRule(index);\n        setRule(target, index, rule);\n      }\n\n      buildStyleSheet();\n    }\n\n    return {\n      modifySheet: modifySheet\n    };\n  }\n\n  var STYLE_SELECTOR = 'style, link[rel*=\"stylesheet\" i]:not([disabled])';\n\n  function shouldManageStyle(element) {\n    return (element instanceof HTMLStyleElement || element instanceof SVGStyleElement || element instanceof HTMLLinkElement && element.rel && element.rel.toLowerCase().includes('stylesheet') && !element.disabled) && !element.classList.contains('darkreader') && element.media !== 'print' && !element.classList.contains('stylus');\n  }\n\n  function getManageableStyles(node, results, deep) {\n    if (results === void 0) {\n      results = [];\n    }\n\n    if (deep === void 0) {\n      deep = true;\n    }\n\n    if (shouldManageStyle(node)) {\n      results.push(node);\n    } else if (node instanceof Element || isShadowDomSupported && node instanceof ShadowRoot || node === document) {\n      forEach(node.querySelectorAll(STYLE_SELECTOR), function (style) {\n        return getManageableStyles(style, results, false);\n      });\n\n      if (deep) {\n        iterateShadowHosts(node, function (host) {\n          return getManageableStyles(host.shadowRoot, results, false);\n        });\n      }\n    }\n\n    return results;\n  }\n\n  var syncStyleSet = new WeakSet();\n  var corsStyleSet = new WeakSet();\n  var canOptimizeUsingProxy$1 = false;\n  document.addEventListener('__darkreader__inlineScriptsAllowed', function () {\n    canOptimizeUsingProxy$1 = true;\n  });\n\n  function manageStyle(element, _a) {\n    var update = _a.update,\n        loadingStart = _a.loadingStart,\n        loadingEnd = _a.loadingEnd;\n    var prevStyles = [];\n    var next = element;\n\n    while ((next = next.nextElementSibling) && next.matches('.darkreader')) {\n      prevStyles.push(next);\n    }\n\n    var corsCopy = prevStyles.find(function (el) {\n      return el.matches('.darkreader--cors') && !corsStyleSet.has(el);\n    }) || null;\n    var syncStyle = prevStyles.find(function (el) {\n      return el.matches('.darkreader--sync') && !syncStyleSet.has(el);\n    }) || null;\n    var corsCopyPositionWatcher = null;\n    var syncStylePositionWatcher = null;\n    var cancelAsyncOperations = false;\n    var isOverrideEmpty = true;\n    var sheetModifier = createStyleSheetModifier();\n    var observer = new MutationObserver(function () {\n      update();\n    });\n    var observerOptions = {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: true\n    };\n\n    function containsCSSImport() {\n      return element instanceof HTMLStyleElement && element.textContent.trim().match(cssImportRegex);\n    }\n\n    function getRulesSync() {\n      if (corsCopy) {\n        return corsCopy.sheet.cssRules;\n      }\n\n      if (containsCSSImport()) {\n        return null;\n      }\n\n      return safeGetSheetRules();\n    }\n\n    function insertStyle() {\n      if (corsCopy) {\n        if (element.nextSibling !== corsCopy) {\n          element.parentNode.insertBefore(corsCopy, element.nextSibling);\n        }\n\n        if (corsCopy.nextSibling !== syncStyle) {\n          element.parentNode.insertBefore(syncStyle, corsCopy.nextSibling);\n        }\n      } else if (element.nextSibling !== syncStyle) {\n        element.parentNode.insertBefore(syncStyle, element.nextSibling);\n      }\n    }\n\n    function createSyncStyle() {\n      syncStyle = element instanceof SVGStyleElement ? document.createElementNS('http://www.w3.org/2000/svg', 'style') : document.createElement('style');\n      syncStyle.classList.add('darkreader');\n      syncStyle.classList.add('darkreader--sync');\n      syncStyle.media = 'screen';\n\n      if (!isChromium && element.title) {\n        syncStyle.title = element.title;\n      }\n\n      syncStyleSet.add(syncStyle);\n    }\n\n    var isLoadingRules = false;\n    var wasLoadingError = false;\n\n    function getRulesAsync() {\n      return __awaiter(this, void 0, void 0, function () {\n        var cssText, cssBasePath, _a, cssRules, accessError, err_1, fullCSSText, err_2;\n\n        var _b;\n\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              if (!(element instanceof HTMLLinkElement)) return [3, 7];\n              _a = __read(getRulesOrError(), 2), cssRules = _a[0], accessError = _a[1];\n\n              if (accessError) {\n                logWarn(accessError);\n              }\n\n              if (!(!cssRules && !accessError && !isSafari || isSafari && !element.sheet || isStillLoadingError(accessError))) return [3, 5];\n              _c.label = 1;\n\n            case 1:\n              _c.trys.push([1, 3,, 4]);\n\n              return [4, linkLoading(element)];\n\n            case 2:\n              _c.sent();\n\n              return [3, 4];\n\n            case 3:\n              err_1 = _c.sent();\n              logWarn(err_1);\n              wasLoadingError = true;\n              return [3, 4];\n\n            case 4:\n              if (cancelAsyncOperations) {\n                return [2, null];\n              }\n\n              _b = __read(getRulesOrError(), 2), cssRules = _b[0], accessError = _b[1];\n\n              if (accessError) {\n                logWarn(accessError);\n              }\n\n              _c.label = 5;\n\n            case 5:\n              if (cssRules != null) {\n                return [2, cssRules];\n              }\n\n              return [4, loadText(element.href)];\n\n            case 6:\n              cssText = _c.sent();\n              cssBasePath = getCSSBaseBath(element.href);\n\n              if (cancelAsyncOperations) {\n                return [2, null];\n              }\n\n              return [3, 8];\n\n            case 7:\n              if (containsCSSImport()) {\n                cssText = element.textContent.trim();\n                cssBasePath = getCSSBaseBath(location.href);\n              } else {\n                return [2, null];\n              }\n\n              _c.label = 8;\n\n            case 8:\n              if (!cssText) return [3, 13];\n              _c.label = 9;\n\n            case 9:\n              _c.trys.push([9, 11,, 12]);\n\n              return [4, replaceCSSImports(cssText, cssBasePath)];\n\n            case 10:\n              fullCSSText = _c.sent();\n              corsCopy = createCORSCopy(element, fullCSSText);\n              return [3, 12];\n\n            case 11:\n              err_2 = _c.sent();\n              logWarn(err_2);\n              return [3, 12];\n\n            case 12:\n              if (corsCopy) {\n                corsCopyPositionWatcher = watchForNodePosition(corsCopy, 'prev-sibling');\n                return [2, corsCopy.sheet.cssRules];\n              }\n\n              _c.label = 13;\n\n            case 13:\n              return [2, null];\n          }\n        });\n      });\n    }\n\n    function details() {\n      var rules = getRulesSync();\n\n      if (!rules) {\n        if (isLoadingRules || wasLoadingError) {\n          return null;\n        }\n\n        isLoadingRules = true;\n        loadingStart();\n        getRulesAsync().then(function (results) {\n          isLoadingRules = false;\n          loadingEnd();\n\n          if (results) {\n            update();\n          }\n        }).catch(function (err) {\n          logWarn(err);\n          isLoadingRules = false;\n          loadingEnd();\n        });\n        return null;\n      }\n\n      return {\n        rules: rules\n      };\n    }\n\n    var forceRenderStyle = false;\n\n    function render(theme, ignoreImageAnalysis) {\n      var rules = getRulesSync();\n\n      if (!rules) {\n        return;\n      }\n\n      cancelAsyncOperations = false;\n\n      function prepareOverridesSheet() {\n        if (!syncStyle) {\n          createSyncStyle();\n        }\n\n        syncStylePositionWatcher && syncStylePositionWatcher.stop();\n        insertStyle();\n\n        if (syncStyle.sheet == null) {\n          syncStyle.textContent = '';\n        }\n\n        var sheet = syncStyle.sheet;\n\n        for (var i = sheet.cssRules.length - 1; i >= 0; i--) {\n          sheet.deleteRule(i);\n        }\n\n        if (syncStylePositionWatcher) {\n          syncStylePositionWatcher.run();\n        } else {\n          syncStylePositionWatcher = watchForNodePosition(syncStyle, 'prev-sibling', function () {\n            forceRenderStyle = true;\n            buildOverrides();\n          });\n        }\n\n        return syncStyle.sheet;\n      }\n\n      function buildOverrides() {\n        var force = forceRenderStyle;\n        forceRenderStyle = false;\n        sheetModifier.modifySheet({\n          prepareSheet: prepareOverridesSheet,\n          sourceCSSRules: rules,\n          theme: theme,\n          ignoreImageAnalysis: ignoreImageAnalysis,\n          force: force,\n          isAsyncCancelled: function isAsyncCancelled() {\n            return cancelAsyncOperations;\n          }\n        });\n        isOverrideEmpty = syncStyle.sheet.cssRules.length === 0;\n      }\n\n      buildOverrides();\n    }\n\n    function getRulesOrError() {\n      try {\n        if (element.sheet == null) {\n          return [null, null];\n        }\n\n        return [element.sheet.cssRules, null];\n      } catch (err) {\n        return [null, err];\n      }\n    }\n\n    function isStillLoadingError(error) {\n      return error && error.message && error.message.includes('loading');\n    }\n\n    function safeGetSheetRules() {\n      var _a = __read(getRulesOrError(), 2),\n          cssRules = _a[0],\n          err = _a[1];\n\n      if (err) {\n        logWarn(err);\n        return null;\n      }\n\n      return cssRules;\n    }\n\n    function watchForSheetChanges() {\n      watchForSheetChangesUsingProxy();\n\n      if (!isThunderbird && !(canOptimizeUsingProxy$1 && element.sheet)) {\n        watchForSheetChangesUsingRAF();\n      }\n    }\n\n    var rulesChangeKey = null;\n    var rulesCheckFrameId = null;\n\n    function getRulesChangeKey() {\n      var rules = safeGetSheetRules();\n      return rules ? rules.length : null;\n    }\n\n    function didRulesKeyChange() {\n      return getRulesChangeKey() !== rulesChangeKey;\n    }\n\n    function watchForSheetChangesUsingRAF() {\n      rulesChangeKey = getRulesChangeKey();\n      stopWatchingForSheetChangesUsingRAF();\n\n      var checkForUpdate = function checkForUpdate() {\n        if (didRulesKeyChange()) {\n          rulesChangeKey = getRulesChangeKey();\n          update();\n        }\n\n        if (canOptimizeUsingProxy$1 && element.sheet) {\n          stopWatchingForSheetChangesUsingRAF();\n          return;\n        }\n\n        rulesCheckFrameId = requestAnimationFrame(checkForUpdate);\n      };\n\n      checkForUpdate();\n    }\n\n    function stopWatchingForSheetChangesUsingRAF() {\n      cancelAnimationFrame(rulesCheckFrameId);\n    }\n\n    var areSheetChangesPending = false;\n\n    function onSheetChange() {\n      canOptimizeUsingProxy$1 = true;\n      stopWatchingForSheetChangesUsingRAF();\n\n      if (areSheetChangesPending) {\n        return;\n      }\n\n      function handleSheetChanges() {\n        areSheetChangesPending = false;\n\n        if (cancelAsyncOperations) {\n          return;\n        }\n\n        update();\n      }\n\n      areSheetChangesPending = true;\n\n      if (typeof queueMicrotask === 'function') {\n        queueMicrotask(handleSheetChanges);\n      } else {\n        requestAnimationFrame(handleSheetChanges);\n      }\n    }\n\n    function watchForSheetChangesUsingProxy() {\n      element.addEventListener('__darkreader__updateSheet', onSheetChange);\n    }\n\n    function stopWatchingForSheetChangesUsingProxy() {\n      element.removeEventListener('__darkreader__updateSheet', onSheetChange);\n    }\n\n    function stopWatchingForSheetChanges() {\n      stopWatchingForSheetChangesUsingProxy();\n      stopWatchingForSheetChangesUsingRAF();\n    }\n\n    function pause() {\n      observer.disconnect();\n      cancelAsyncOperations = true;\n      corsCopyPositionWatcher && corsCopyPositionWatcher.stop();\n      syncStylePositionWatcher && syncStylePositionWatcher.stop();\n      stopWatchingForSheetChanges();\n    }\n\n    function destroy() {\n      pause();\n      removeNode(corsCopy);\n      removeNode(syncStyle);\n    }\n\n    function watch() {\n      observer.observe(element, observerOptions);\n\n      if (element instanceof HTMLStyleElement) {\n        watchForSheetChanges();\n      }\n    }\n\n    var maxMoveCount = 10;\n    var moveCount = 0;\n\n    function restore() {\n      if (!syncStyle) {\n        return;\n      }\n\n      moveCount++;\n\n      if (moveCount > maxMoveCount) {\n        logWarn('Style sheet was moved multiple times', element);\n        return;\n      }\n\n      logWarn('Restore style', syncStyle, element);\n      insertStyle();\n      corsCopyPositionWatcher && corsCopyPositionWatcher.skip();\n      syncStylePositionWatcher && syncStylePositionWatcher.skip();\n\n      if (!isOverrideEmpty) {\n        forceRenderStyle = true;\n        update();\n      }\n    }\n\n    return {\n      details: details,\n      render: render,\n      pause: pause,\n      destroy: destroy,\n      watch: watch,\n      restore: restore\n    };\n  }\n\n  function linkLoading(link) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var cleanUp = function cleanUp() {\n            link.removeEventListener('load', onLoad);\n            link.removeEventListener('error', onError);\n          };\n\n          var onLoad = function onLoad() {\n            cleanUp();\n            resolve();\n          };\n\n          var onError = function onError() {\n            cleanUp();\n            reject(\"Link loading failed \" + link.href);\n          };\n\n          link.addEventListener('load', onLoad);\n          link.addEventListener('error', onError);\n        })];\n      });\n    });\n  }\n\n  function getCSSImportURL(importDeclaration) {\n    return getCSSURLValue(importDeclaration.substring(8).replace(/;$/, ''));\n  }\n\n  function loadText(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!url.startsWith('data:')) return [3, 3];\n            return [4, fetch(url)];\n\n          case 1:\n            return [4, _a.sent().text()];\n\n          case 2:\n            return [2, _a.sent()];\n\n          case 3:\n            return [4, bgFetch({\n              url: url,\n              responseType: 'text',\n              mimeType: 'text/css'\n            })];\n\n          case 4:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function replaceCSSImports(cssText, basePath, cache) {\n    if (cache === void 0) {\n      cache = new Map();\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var importMatches, importMatches_1, importMatches_1_1, match, importURL, absoluteURL, importedCSS, err_3, e_1_1;\n\n      var e_1, _a;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            cssText = removeCSSComments(cssText);\n            cssText = replaceCSSFontFace(cssText);\n            cssText = replaceCSSRelativeURLsWithAbsolute(cssText, basePath);\n            importMatches = getMatches(cssImportRegex, cssText);\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 10, 11, 12]);\n\n            importMatches_1 = __values(importMatches), importMatches_1_1 = importMatches_1.next();\n            _b.label = 2;\n\n          case 2:\n            if (!!importMatches_1_1.done) return [3, 9];\n            match = importMatches_1_1.value;\n            importURL = getCSSImportURL(match);\n            absoluteURL = getAbsoluteURL(basePath, importURL);\n            importedCSS = void 0;\n            if (!cache.has(absoluteURL)) return [3, 3];\n            importedCSS = cache.get(absoluteURL);\n            return [3, 7];\n\n          case 3:\n            _b.trys.push([3, 6,, 7]);\n\n            return [4, loadText(absoluteURL)];\n\n          case 4:\n            importedCSS = _b.sent();\n            cache.set(absoluteURL, importedCSS);\n            return [4, replaceCSSImports(importedCSS, getCSSBaseBath(absoluteURL), cache)];\n\n          case 5:\n            importedCSS = _b.sent();\n            return [3, 7];\n\n          case 6:\n            err_3 = _b.sent();\n            logWarn(err_3);\n            importedCSS = '';\n            return [3, 7];\n\n          case 7:\n            cssText = cssText.split(match).join(importedCSS);\n            _b.label = 8;\n\n          case 8:\n            importMatches_1_1 = importMatches_1.next();\n            return [3, 2];\n\n          case 9:\n            return [3, 12];\n\n          case 10:\n            e_1_1 = _b.sent();\n            e_1 = {\n              error: e_1_1\n            };\n            return [3, 12];\n\n          case 11:\n            try {\n              if (importMatches_1_1 && !importMatches_1_1.done && (_a = importMatches_1.return)) _a.call(importMatches_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n\n            return [7];\n\n          case 12:\n            cssText = cssText.trim();\n            return [2, cssText];\n        }\n      });\n    });\n  }\n\n  function createCORSCopy(srcElement, cssText) {\n    if (!cssText) {\n      return null;\n    }\n\n    var cors = document.createElement('style');\n    cors.classList.add('darkreader');\n    cors.classList.add('darkreader--cors');\n    cors.media = 'screen';\n    cors.textContent = cssText;\n    srcElement.parentNode.insertBefore(cors, srcElement.nextSibling);\n    cors.sheet.disabled = true;\n    corsStyleSet.add(cors);\n    return cors;\n  }\n\n  var observers = [];\n  var observedRoots;\n  var undefinedGroups = new Map();\n  var elementsDefinitionCallback;\n\n  function collectUndefinedElements(root) {\n    if (!isDefinedSelectorSupported) {\n      return;\n    }\n\n    forEach(root.querySelectorAll(':not(:defined)'), function (el) {\n      var tag = el.tagName.toLowerCase();\n\n      if (!undefinedGroups.has(tag)) {\n        undefinedGroups.set(tag, new Set());\n        customElementsWhenDefined(tag).then(function () {\n          if (elementsDefinitionCallback) {\n            var elements = undefinedGroups.get(tag);\n            undefinedGroups.delete(tag);\n            elementsDefinitionCallback(Array.from(elements));\n          }\n        });\n      }\n\n      undefinedGroups.get(tag).add(el);\n    });\n  }\n\n  var canOptimizeUsingProxy = false;\n  document.addEventListener('__darkreader__inlineScriptsAllowed', function () {\n    canOptimizeUsingProxy = true;\n  });\n  var resolvers = new Map();\n\n  function handleIsDefined(e) {\n    canOptimizeUsingProxy = true;\n\n    if (resolvers.has(e.detail.tag)) {\n      var resolve = resolvers.get(e.detail.tag);\n      resolve();\n    }\n  }\n\n  function customElementsWhenDefined(tag) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve) {\n          if (window.customElements && typeof customElements.whenDefined === 'function') {\n            customElements.whenDefined(tag).then(resolve);\n          } else if (canOptimizeUsingProxy) {\n            resolvers.set(tag, resolve);\n            document.dispatchEvent(new CustomEvent('__darkreader__addUndefinedResolver', {\n              detail: {\n                tag: tag\n              }\n            }));\n          } else {\n            var checkIfDefined_1 = function checkIfDefined_1() {\n              var elements = undefinedGroups.get(tag);\n\n              if (elements && elements.size > 0) {\n                if (elements.values().next().value.matches(':defined')) {\n                  resolve();\n                } else {\n                  requestAnimationFrame(checkIfDefined_1);\n                }\n              }\n            };\n\n            requestAnimationFrame(checkIfDefined_1);\n          }\n        })];\n      });\n    });\n  }\n\n  function watchWhenCustomElementsDefined(callback) {\n    elementsDefinitionCallback = callback;\n  }\n\n  function unsubscribeFromDefineCustomElements() {\n    elementsDefinitionCallback = null;\n    undefinedGroups.clear();\n    document.removeEventListener('__darkreader__isDefined', handleIsDefined);\n  }\n\n  function watchForStyleChanges(currentStyles, update, shadowRootDiscovered) {\n    stopWatchingForStyleChanges();\n    var prevStyles = new Set(currentStyles);\n    var prevStyleSiblings = new WeakMap();\n    var nextStyleSiblings = new WeakMap();\n\n    function saveStylePosition(style) {\n      prevStyleSiblings.set(style, style.previousElementSibling);\n      nextStyleSiblings.set(style, style.nextElementSibling);\n    }\n\n    function forgetStylePosition(style) {\n      prevStyleSiblings.delete(style);\n      nextStyleSiblings.delete(style);\n    }\n\n    function didStylePositionChange(style) {\n      return style.previousElementSibling !== prevStyleSiblings.get(style) || style.nextElementSibling !== nextStyleSiblings.get(style);\n    }\n\n    currentStyles.forEach(saveStylePosition);\n\n    function handleStyleOperations(operations) {\n      var createdStyles = operations.createdStyles,\n          removedStyles = operations.removedStyles,\n          movedStyles = operations.movedStyles;\n      createdStyles.forEach(function (s) {\n        return saveStylePosition(s);\n      });\n      movedStyles.forEach(function (s) {\n        return saveStylePosition(s);\n      });\n      removedStyles.forEach(function (s) {\n        return forgetStylePosition(s);\n      });\n      createdStyles.forEach(function (s) {\n        return prevStyles.add(s);\n      });\n      removedStyles.forEach(function (s) {\n        return prevStyles.delete(s);\n      });\n\n      if (createdStyles.size + removedStyles.size + movedStyles.size > 0) {\n        update({\n          created: Array.from(createdStyles),\n          removed: Array.from(removedStyles),\n          moved: Array.from(movedStyles),\n          updated: []\n        });\n      }\n    }\n\n    function handleMinorTreeMutations(_a) {\n      var additions = _a.additions,\n          moves = _a.moves,\n          deletions = _a.deletions;\n      var createdStyles = new Set();\n      var removedStyles = new Set();\n      var movedStyles = new Set();\n      additions.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return createdStyles.add(style);\n        });\n      });\n      deletions.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return removedStyles.add(style);\n        });\n      });\n      moves.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return movedStyles.add(style);\n        });\n      });\n      handleStyleOperations({\n        createdStyles: createdStyles,\n        removedStyles: removedStyles,\n        movedStyles: movedStyles\n      });\n      additions.forEach(function (n) {\n        iterateShadowHosts(n, subscribeForShadowRootChanges);\n        collectUndefinedElements(n);\n      });\n    }\n\n    function handleHugeTreeMutations(root) {\n      var styles = new Set(getManageableStyles(root));\n      var createdStyles = new Set();\n      var removedStyles = new Set();\n      var movedStyles = new Set();\n      styles.forEach(function (s) {\n        if (!prevStyles.has(s)) {\n          createdStyles.add(s);\n        }\n      });\n      prevStyles.forEach(function (s) {\n        if (!styles.has(s)) {\n          removedStyles.add(s);\n        }\n      });\n      styles.forEach(function (s) {\n        if (!createdStyles.has(s) && !removedStyles.has(s) && didStylePositionChange(s)) {\n          movedStyles.add(s);\n        }\n      });\n      handleStyleOperations({\n        createdStyles: createdStyles,\n        removedStyles: removedStyles,\n        movedStyles: movedStyles\n      });\n      iterateShadowHosts(root, subscribeForShadowRootChanges);\n      collectUndefinedElements(root);\n    }\n\n    function handleAttributeMutations(mutations) {\n      var updatedStyles = new Set();\n      var removedStyles = new Set();\n      mutations.forEach(function (m) {\n        var target = m.target;\n\n        if (target.isConnected) {\n          if (shouldManageStyle(target)) {\n            updatedStyles.add(target);\n          } else if (target instanceof HTMLLinkElement && target.disabled) {\n            removedStyles.add(target);\n          }\n        }\n      });\n\n      if (updatedStyles.size + removedStyles.size > 0) {\n        update({\n          updated: Array.from(updatedStyles),\n          created: [],\n          removed: Array.from(removedStyles),\n          moved: []\n        });\n      }\n    }\n\n    function observe(root) {\n      var treeObserver = createOptimizedTreeObserver(root, {\n        onMinorMutations: handleMinorTreeMutations,\n        onHugeMutations: handleHugeTreeMutations\n      });\n      var attrObserver = new MutationObserver(handleAttributeMutations);\n      attrObserver.observe(root, {\n        attributes: true,\n        attributeFilter: ['rel', 'disabled', 'media'],\n        subtree: true\n      });\n      observers.push(treeObserver, attrObserver);\n      observedRoots.add(root);\n    }\n\n    function subscribeForShadowRootChanges(node) {\n      var shadowRoot = node.shadowRoot;\n\n      if (shadowRoot == null || observedRoots.has(shadowRoot)) {\n        return;\n      }\n\n      observe(shadowRoot);\n      shadowRootDiscovered(shadowRoot);\n    }\n\n    observe(document);\n    iterateShadowHosts(document.documentElement, subscribeForShadowRootChanges);\n    watchWhenCustomElementsDefined(function (hosts) {\n      var newStyles = [];\n      hosts.forEach(function (host) {\n        return push(newStyles, getManageableStyles(host.shadowRoot));\n      });\n      update({\n        created: newStyles,\n        updated: [],\n        removed: [],\n        moved: []\n      });\n      hosts.forEach(function (host) {\n        var shadowRoot = host.shadowRoot;\n\n        if (shadowRoot == null) {\n          return;\n        }\n\n        subscribeForShadowRootChanges(host);\n        iterateShadowHosts(shadowRoot, subscribeForShadowRootChanges);\n        collectUndefinedElements(shadowRoot);\n      });\n    });\n    document.addEventListener('__darkreader__isDefined', handleIsDefined);\n    collectUndefinedElements(document);\n  }\n\n  function resetObservers() {\n    observers.forEach(function (o) {\n      return o.disconnect();\n    });\n    observers.splice(0, observers.length);\n    observedRoots = new WeakSet();\n  }\n\n  function stopWatchingForStyleChanges() {\n    resetObservers();\n    unsubscribeFromDefineCustomElements();\n  }\n\n  function hexify(number) {\n    return (number < 16 ? '0' : '') + number.toString(16);\n  }\n\n  function generateUID() {\n    return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function (x) {\n      return hexify(x);\n    }).join('');\n  }\n\n  var adoptedStyleOverrides = new WeakMap();\n  var overrideList = new WeakSet();\n\n  function createAdoptedStyleSheetOverride(node) {\n    var cancelAsyncOperations = false;\n\n    function injectSheet(sheet, override) {\n      var newSheets = __spreadArray([], __read(node.adoptedStyleSheets));\n\n      var sheetIndex = newSheets.indexOf(sheet);\n      var existingIndex = newSheets.indexOf(override);\n\n      if (sheetIndex === existingIndex - 1) {\n        return;\n      }\n\n      if (existingIndex >= 0) {\n        newSheets.splice(existingIndex, 1);\n      }\n\n      newSheets.splice(sheetIndex + 1, 0, override);\n      node.adoptedStyleSheets = newSheets;\n    }\n\n    function destroy() {\n      cancelAsyncOperations = true;\n\n      var newSheets = __spreadArray([], __read(node.adoptedStyleSheets));\n\n      node.adoptedStyleSheets.forEach(function (adoptedStyleSheet) {\n        if (overrideList.has(adoptedStyleSheet)) {\n          var existingIndex = newSheets.indexOf(adoptedStyleSheet);\n\n          if (existingIndex >= 0) {\n            newSheets.splice(existingIndex, 1);\n          }\n\n          adoptedStyleOverrides.delete(adoptedStyleSheet);\n          overrideList.delete(adoptedStyleSheet);\n        }\n      });\n      node.adoptedStyleSheets = newSheets;\n    }\n\n    function render(theme, ignoreImageAnalysis) {\n      node.adoptedStyleSheets.forEach(function (sheet) {\n        if (overrideList.has(sheet)) {\n          return;\n        }\n\n        var rules = sheet.rules;\n        var override = new CSSStyleSheet();\n\n        function prepareOverridesSheet() {\n          for (var i = override.cssRules.length - 1; i >= 0; i--) {\n            override.deleteRule(i);\n          }\n\n          injectSheet(sheet, override);\n          adoptedStyleOverrides.set(sheet, override);\n          overrideList.add(override);\n          return override;\n        }\n\n        var sheetModifier = createStyleSheetModifier();\n        sheetModifier.modifySheet({\n          prepareSheet: prepareOverridesSheet,\n          sourceCSSRules: rules,\n          theme: theme,\n          ignoreImageAnalysis: ignoreImageAnalysis,\n          force: false,\n          isAsyncCancelled: function isAsyncCancelled() {\n            return cancelAsyncOperations;\n          }\n        });\n      });\n    }\n\n    return {\n      render: render,\n      destroy: destroy\n    };\n  }\n\n  function injectProxy() {\n    document.dispatchEvent(new CustomEvent('__darkreader__inlineScriptsAllowed'));\n    var addRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'addRule');\n    var insertRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'insertRule');\n    var deleteRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'deleteRule');\n    var removeRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'removeRule');\n    var shouldWrapDocStyleSheets = location.hostname.endsWith('pushbullet.com') || location.hostname.endsWith('ilsole24ore.com') || location.hostname.endsWith('allegro.pl');\n    var documentStyleSheetsDescriptor = shouldWrapDocStyleSheets ? Object.getOwnPropertyDescriptor(Document.prototype, 'styleSheets') : null;\n\n    var cleanUp = function cleanUp() {\n      Object.defineProperty(CSSStyleSheet.prototype, 'addRule', addRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', insertRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', deleteRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', removeRuleDescriptor);\n      document.removeEventListener('__darkreader__cleanUp', cleanUp);\n      document.removeEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);\n\n      if (shouldWrapDocStyleSheets) {\n        Object.defineProperty(Document.prototype, 'styleSheets', documentStyleSheetsDescriptor);\n      }\n    };\n\n    var addUndefinedResolver = function addUndefinedResolver(e) {\n      customElements.whenDefined(e.detail.tag).then(function () {\n        document.dispatchEvent(new CustomEvent('__darkreader__isDefined', {\n          detail: {\n            tag: e.detail.tag\n          }\n        }));\n      });\n    };\n\n    document.addEventListener('__darkreader__cleanUp', cleanUp);\n    document.addEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);\n    var updateSheetEvent = new Event('__darkreader__updateSheet');\n\n    function proxyAddRule(selector, style, index) {\n      addRuleDescriptor.value.call(this, selector, style, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n\n      return -1;\n    }\n\n    function proxyInsertRule(rule, index) {\n      var returnValue = insertRuleDescriptor.value.call(this, rule, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n\n      return returnValue;\n    }\n\n    function proxyDeleteRule(index) {\n      deleteRuleDescriptor.value.call(this, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n    }\n\n    function proxyRemoveRule(index) {\n      removeRuleDescriptor.value.call(this, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n    }\n\n    function proxyDocumentStyleSheets() {\n      var docSheets = documentStyleSheetsDescriptor.get.call(this);\n\n      var filtered = __spreadArray([], __read(docSheets)).filter(function (styleSheet) {\n        return !styleSheet.ownerNode.classList.contains('darkreader');\n      });\n\n      return Object.setPrototypeOf(filtered, StyleSheetList.prototype);\n    }\n\n    Object.defineProperty(CSSStyleSheet.prototype, 'addRule', Object.assign({}, addRuleDescriptor, {\n      value: proxyAddRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', Object.assign({}, insertRuleDescriptor, {\n      value: proxyInsertRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', Object.assign({}, deleteRuleDescriptor, {\n      value: proxyDeleteRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', Object.assign({}, removeRuleDescriptor, {\n      value: proxyRemoveRule\n    }));\n\n    if (shouldWrapDocStyleSheets) {\n      Object.defineProperty(Document.prototype, 'styleSheets', Object.assign({}, documentStyleSheetsDescriptor, {\n        get: proxyDocumentStyleSheets\n      }));\n    }\n  }\n\n  var INSTANCE_ID = generateUID();\n  var styleManagers = new Map();\n  var adoptedStyleManagers = [];\n  var filter = null;\n  var fixes = null;\n  var isIFrame$1 = null;\n  var ignoredImageAnalysisSelectors = null;\n  var ignoredInlineSelectors = null;\n\n  function createOrUpdateStyle(className, root) {\n    if (root === void 0) {\n      root = document.head || document;\n    }\n\n    var element = root.querySelector(\".\" + className);\n\n    if (!element) {\n      element = document.createElement('style');\n      element.classList.add('darkreader');\n      element.classList.add(className);\n      element.media = 'screen';\n      element.textContent = '';\n    }\n\n    return element;\n  }\n\n  function createOrUpdateScript(className, root) {\n    if (root === void 0) {\n      root = document.head || document;\n    }\n\n    var element = root.querySelector(\".\" + className);\n\n    if (!element) {\n      element = document.createElement('script');\n      element.classList.add('darkreader');\n      element.classList.add(className);\n    }\n\n    return element;\n  }\n\n  var nodePositionWatchers = new Map();\n\n  function setupNodePositionWatcher(node, alias) {\n    nodePositionWatchers.has(alias) && nodePositionWatchers.get(alias).stop();\n    nodePositionWatchers.set(alias, watchForNodePosition(node, 'parent'));\n  }\n\n  function stopStylePositionWatchers() {\n    forEach(nodePositionWatchers.values(), function (watcher) {\n      return watcher.stop();\n    });\n    nodePositionWatchers.clear();\n  }\n\n  function createStaticStyleOverrides() {\n    var fallbackStyle = createOrUpdateStyle('darkreader--fallback', document);\n    fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n      strict: true\n    });\n    document.head.insertBefore(fallbackStyle, document.head.firstChild);\n    setupNodePositionWatcher(fallbackStyle, 'fallback');\n    var userAgentStyle = createOrUpdateStyle('darkreader--user-agent');\n    userAgentStyle.textContent = getModifiedUserAgentStyle(filter, isIFrame$1, filter.styleSystemControls);\n    document.head.insertBefore(userAgentStyle, fallbackStyle.nextSibling);\n    setupNodePositionWatcher(userAgentStyle, 'user-agent');\n    var textStyle = createOrUpdateStyle('darkreader--text');\n\n    if (filter.useFont || filter.textStroke > 0) {\n      textStyle.textContent = createTextStyle(filter);\n    } else {\n      textStyle.textContent = '';\n    }\n\n    document.head.insertBefore(textStyle, fallbackStyle.nextSibling);\n    setupNodePositionWatcher(textStyle, 'text');\n    var invertStyle = createOrUpdateStyle('darkreader--invert');\n\n    if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {\n      invertStyle.textContent = [fixes.invert.join(', ') + \" {\", \"    filter: \" + getCSSFilterValue(_assign(_assign({}, filter), {\n        contrast: filter.mode === 0 ? filter.contrast : clamp(filter.contrast - 10, 0, 100)\n      })) + \" !important;\", '}'].join('\\n');\n    } else {\n      invertStyle.textContent = '';\n    }\n\n    document.head.insertBefore(invertStyle, textStyle.nextSibling);\n    setupNodePositionWatcher(invertStyle, 'invert');\n    var inlineStyle = createOrUpdateStyle('darkreader--inline');\n    inlineStyle.textContent = getInlineOverrideStyle();\n    document.head.insertBefore(inlineStyle, invertStyle.nextSibling);\n    setupNodePositionWatcher(inlineStyle, 'inline');\n    var overrideStyle = createOrUpdateStyle('darkreader--override');\n    overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : '';\n    document.head.appendChild(overrideStyle);\n    setupNodePositionWatcher(overrideStyle, 'override');\n    var variableStyle = createOrUpdateStyle('darkreader--variables');\n    var selectionColors = getSelectionColor(filter);\n    var darkSchemeBackgroundColor = filter.darkSchemeBackgroundColor,\n        darkSchemeTextColor = filter.darkSchemeTextColor,\n        lightSchemeBackgroundColor = filter.lightSchemeBackgroundColor,\n        lightSchemeTextColor = filter.lightSchemeTextColor,\n        mode = filter.mode;\n    var schemeBackgroundColor = mode === 0 ? lightSchemeBackgroundColor : darkSchemeBackgroundColor;\n    var schemeTextColor = mode === 0 ? lightSchemeTextColor : darkSchemeTextColor;\n    schemeBackgroundColor = modifyBackgroundColor(parse(schemeBackgroundColor), filter);\n    schemeTextColor = modifyForegroundColor(parse(schemeTextColor), filter);\n    variableStyle.textContent = [\":root {\", \"   --darkreader-neutral-background: \" + schemeBackgroundColor + \";\", \"   --darkreader-neutral-text: \" + schemeTextColor + \";\", \"   --darkreader-selection-background: \" + selectionColors.backgroundColorSelection + \";\", \"   --darkreader-selection-text: \" + selectionColors.foregroundColorSelection + \";\", \"}\"].join('\\n');\n    document.head.insertBefore(variableStyle, inlineStyle.nextSibling);\n    setupNodePositionWatcher(variableStyle, 'variables');\n    var rootVarsStyle = createOrUpdateStyle('darkreader--root-vars');\n    document.head.insertBefore(rootVarsStyle, variableStyle.nextSibling);\n    var proxyScript = createOrUpdateScript('darkreader--proxy');\n    proxyScript.textContent = \"(\" + injectProxy + \")()\";\n    document.head.insertBefore(proxyScript, rootVarsStyle.nextSibling);\n  }\n\n  var shadowRootsWithOverrides = new Set();\n\n  function createShadowStaticStyleOverrides(root) {\n    var inlineStyle = createOrUpdateStyle('darkreader--inline', root);\n    inlineStyle.textContent = getInlineOverrideStyle();\n    root.insertBefore(inlineStyle, root.firstChild);\n    var overrideStyle = createOrUpdateStyle('darkreader--override', root);\n    overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : '';\n    root.insertBefore(overrideStyle, inlineStyle.nextSibling);\n    shadowRootsWithOverrides.add(root);\n  }\n\n  function replaceCSSTemplates($cssText) {\n    return $cssText.replace(/\\${(.+?)}/g, function (m0, $color) {\n      try {\n        var color = parseColorWithCache($color);\n        return modifyColor(color, filter);\n      } catch (err) {\n        logWarn(err);\n        return $color;\n      }\n    });\n  }\n\n  function cleanFallbackStyle() {\n    var fallback = document.querySelector('.darkreader--fallback');\n\n    if (fallback) {\n      fallback.textContent = '';\n    }\n  }\n\n  function createDynamicStyleOverrides() {\n    cancelRendering();\n    var allStyles = getManageableStyles(document);\n    var newManagers = allStyles.filter(function (style) {\n      return !styleManagers.has(style);\n    }).map(function (style) {\n      return createManager(style);\n    });\n    newManagers.map(function (manager) {\n      return manager.details();\n    }).filter(function (detail) {\n      return detail && detail.rules.length > 0;\n    }).forEach(function (detail) {\n      variablesStore.addRulesForMatching(detail.rules);\n    });\n    variablesStore.matchVariablesAndDependants();\n    variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n    styleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n\n    if (loadingStyles.size === 0) {\n      cleanFallbackStyle();\n    }\n\n    newManagers.forEach(function (manager) {\n      return manager.watch();\n    });\n    var inlineStyleElements = toArray(document.querySelectorAll(INLINE_STYLE_SELECTOR));\n    iterateShadowHosts(document.documentElement, function (host) {\n      createShadowStaticStyleOverrides(host.shadowRoot);\n      var elements = host.shadowRoot.querySelectorAll(INLINE_STYLE_SELECTOR);\n\n      if (elements.length > 0) {\n        push(inlineStyleElements, elements);\n      }\n    });\n    inlineStyleElements.forEach(function (el) {\n      return overrideInlineStyle(el, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n    });\n    handleAdoptedStyleSheets(document);\n  }\n\n  var loadingStylesCounter = 0;\n  var loadingStyles = new Set();\n\n  function createManager(element) {\n    var loadingStyleId = ++loadingStylesCounter;\n\n    function loadingStart() {\n      if (!isDOMReady() || !didDocumentShowUp) {\n        loadingStyles.add(loadingStyleId);\n        var fallbackStyle = document.querySelector('.darkreader--fallback');\n\n        if (!fallbackStyle.textContent) {\n          fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n            strict: false\n          });\n        }\n      }\n    }\n\n    function loadingEnd() {\n      loadingStyles.delete(loadingStyleId);\n\n      if (loadingStyles.size === 0 && isDOMReady()) {\n        cleanFallbackStyle();\n      }\n    }\n\n    function update() {\n      var details = manager.details();\n\n      if (!details) {\n        return;\n      }\n\n      variablesStore.addRulesForMatching(details.rules);\n      variablesStore.matchVariablesAndDependants();\n      manager.render(filter, ignoredImageAnalysisSelectors);\n    }\n\n    var manager = manageStyle(element, {\n      update: update,\n      loadingStart: loadingStart,\n      loadingEnd: loadingEnd\n    });\n    styleManagers.set(element, manager);\n    return manager;\n  }\n\n  function removeManager(element) {\n    var manager = styleManagers.get(element);\n\n    if (manager) {\n      manager.destroy();\n      styleManagers.delete(element);\n    }\n  }\n\n  var throttledRenderAllStyles = throttle(function (callback) {\n    styleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n    adoptedStyleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n    callback && callback();\n  });\n\n  var cancelRendering = function cancelRendering() {\n    throttledRenderAllStyles.cancel();\n  };\n\n  function onDOMReady() {\n    if (loadingStyles.size === 0) {\n      cleanFallbackStyle();\n    }\n  }\n\n  var documentVisibilityListener = null;\n  var didDocumentShowUp = !document.hidden;\n\n  function watchForDocumentVisibility(callback) {\n    var alreadyWatching = Boolean(documentVisibilityListener);\n\n    documentVisibilityListener = function documentVisibilityListener() {\n      if (!document.hidden) {\n        stopWatchingForDocumentVisibility();\n        callback();\n        didDocumentShowUp = true;\n      }\n    };\n\n    if (!alreadyWatching) {\n      document.addEventListener('visibilitychange', documentVisibilityListener);\n    }\n  }\n\n  function stopWatchingForDocumentVisibility() {\n    document.removeEventListener('visibilitychange', documentVisibilityListener);\n    documentVisibilityListener = null;\n  }\n\n  function createThemeAndWatchForUpdates() {\n    createStaticStyleOverrides();\n\n    function runDynamicStyle() {\n      createDynamicStyleOverrides();\n      watchForUpdates();\n    }\n\n    if (document.hidden) {\n      watchForDocumentVisibility(runDynamicStyle);\n    } else {\n      runDynamicStyle();\n    }\n\n    changeMetaThemeColorWhenAvailable(filter);\n  }\n\n  function handleAdoptedStyleSheets(node) {\n    if (Array.isArray(node.adoptedStyleSheets)) {\n      if (node.adoptedStyleSheets.length > 0) {\n        var newManger = createAdoptedStyleSheetOverride(node);\n        adoptedStyleManagers.push(newManger);\n        newManger.render(filter, ignoredImageAnalysisSelectors);\n      }\n    }\n  }\n\n  function watchForUpdates() {\n    var managedStyles = Array.from(styleManagers.keys());\n    watchForStyleChanges(managedStyles, function (_a) {\n      var created = _a.created,\n          updated = _a.updated,\n          removed = _a.removed,\n          moved = _a.moved;\n      var stylesToRemove = removed;\n      var stylesToManage = created.concat(updated).concat(moved).filter(function (style) {\n        return !styleManagers.has(style);\n      });\n      var stylesToRestore = moved.filter(function (style) {\n        return styleManagers.has(style);\n      });\n      stylesToRemove.forEach(function (style) {\n        return removeManager(style);\n      });\n      var newManagers = stylesToManage.map(function (style) {\n        return createManager(style);\n      });\n      newManagers.map(function (manager) {\n        return manager.details();\n      }).filter(function (detail) {\n        return detail && detail.rules.length > 0;\n      }).forEach(function (detail) {\n        variablesStore.addRulesForMatching(detail.rules);\n      });\n      variablesStore.matchVariablesAndDependants();\n      newManagers.forEach(function (manager) {\n        return manager.render(filter, ignoredImageAnalysisSelectors);\n      });\n      newManagers.forEach(function (manager) {\n        return manager.watch();\n      });\n      stylesToRestore.forEach(function (style) {\n        return styleManagers.get(style).restore();\n      });\n    }, function (shadowRoot) {\n      createShadowStaticStyleOverrides(shadowRoot);\n      handleAdoptedStyleSheets(shadowRoot);\n    });\n    watchForInlineStyles(function (element) {\n      overrideInlineStyle(element, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n\n      if (element === document.documentElement) {\n        var styleAttr = element.getAttribute('style');\n\n        if (styleAttr.includes('--')) {\n          variablesStore.matchVariablesAndDependants();\n          variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n        }\n      }\n    }, function (root) {\n      createShadowStaticStyleOverrides(root);\n      var inlineStyleElements = root.querySelectorAll(INLINE_STYLE_SELECTOR);\n\n      if (inlineStyleElements.length > 0) {\n        forEach(inlineStyleElements, function (el) {\n          return overrideInlineStyle(el, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n        });\n      }\n    });\n    addDOMReadyListener(onDOMReady);\n  }\n\n  function stopWatchingForUpdates() {\n    styleManagers.forEach(function (manager) {\n      return manager.pause();\n    });\n    stopStylePositionWatchers();\n    stopWatchingForStyleChanges();\n    stopWatchingForInlineStyles();\n    removeDOMReadyListener(onDOMReady);\n  }\n\n  function createDarkReaderInstanceMarker() {\n    var metaElement = document.createElement('meta');\n    metaElement.name = 'darkreader';\n    metaElement.content = INSTANCE_ID;\n    document.head.appendChild(metaElement);\n  }\n\n  function isAnotherDarkReaderInstanceActive() {\n    var meta = document.querySelector('meta[name=\"darkreader\"]');\n\n    if (meta) {\n      if (meta.content !== INSTANCE_ID) {\n        return true;\n      }\n\n      return false;\n    } else {\n      createDarkReaderInstanceMarker();\n      return false;\n    }\n  }\n\n  function createOrUpdateDynamicTheme(filterConfig, dynamicThemeFixes, iframe) {\n    filter = filterConfig;\n    fixes = dynamicThemeFixes;\n\n    if (fixes) {\n      ignoredImageAnalysisSelectors = Array.isArray(fixes.ignoreImageAnalysis) ? fixes.ignoreImageAnalysis : [];\n      ignoredInlineSelectors = Array.isArray(fixes.ignoreInlineStyle) ? fixes.ignoreInlineStyle : [];\n    } else {\n      ignoredImageAnalysisSelectors = [];\n      ignoredInlineSelectors = [];\n    }\n\n    isIFrame$1 = iframe;\n\n    if (document.head) {\n      if (isAnotherDarkReaderInstanceActive()) {\n        return;\n      }\n\n      document.documentElement.setAttribute('data-darkreader-mode', 'dynamic');\n      document.documentElement.setAttribute('data-darkreader-scheme', filter.mode ? 'dark' : 'dimmed');\n      createThemeAndWatchForUpdates();\n    } else {\n      if (!isFirefox) {\n        var fallbackStyle = createOrUpdateStyle('darkreader--fallback');\n        document.documentElement.appendChild(fallbackStyle);\n        fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n          strict: true\n        });\n      }\n\n      var headObserver_1 = new MutationObserver(function () {\n        if (document.head) {\n          headObserver_1.disconnect();\n\n          if (isAnotherDarkReaderInstanceActive()) {\n            removeDynamicTheme();\n            return;\n          }\n\n          createThemeAndWatchForUpdates();\n        }\n      });\n      headObserver_1.observe(document, {\n        childList: true,\n        subtree: true\n      });\n    }\n  }\n\n  function removeProxy() {\n    document.dispatchEvent(new CustomEvent('__darkreader__cleanUp'));\n    removeNode(document.head.querySelector('.darkreader--proxy'));\n  }\n\n  function removeDynamicTheme() {\n    document.documentElement.removeAttribute(\"data-darkreader-mode\");\n    document.documentElement.removeAttribute(\"data-darkreader-scheme\");\n    cleanDynamicThemeCache();\n    removeNode(document.querySelector('.darkreader--fallback'));\n\n    if (document.head) {\n      restoreMetaThemeColor();\n      removeNode(document.head.querySelector('.darkreader--user-agent'));\n      removeNode(document.head.querySelector('.darkreader--text'));\n      removeNode(document.head.querySelector('.darkreader--invert'));\n      removeNode(document.head.querySelector('.darkreader--inline'));\n      removeNode(document.head.querySelector('.darkreader--override'));\n      removeNode(document.head.querySelector('.darkreader--variables'));\n      removeNode(document.head.querySelector('.darkreader--root-vars'));\n      removeNode(document.head.querySelector('meta[name=\"darkreader\"]'));\n      removeProxy();\n    }\n\n    shadowRootsWithOverrides.forEach(function (root) {\n      removeNode(root.querySelector('.darkreader--inline'));\n      removeNode(root.querySelector('.darkreader--override'));\n    });\n    shadowRootsWithOverrides.clear();\n    forEach(styleManagers.keys(), function (el) {\n      return removeManager(el);\n    });\n    forEach(document.querySelectorAll('.darkreader'), removeNode);\n    adoptedStyleManagers.forEach(function (manager) {\n      manager.destroy();\n    });\n    adoptedStyleManagers.splice(0);\n  }\n\n  function cleanDynamicThemeCache() {\n    variablesStore.clear();\n    parsedURLCache.clear();\n    stopWatchingForDocumentVisibility();\n    cancelRendering();\n    stopWatchingForUpdates();\n    cleanModificationCache();\n  }\n\n  var blobRegex = /url\\(\\\"(blob\\:.*?)\\\"\\)/g;\n\n  function replaceBlobs(text) {\n    return __awaiter(this, void 0, void 0, function () {\n      var promises, data;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            promises = [];\n            getMatches(blobRegex, text, 1).forEach(function (url) {\n              var promise = loadAsDataURL(url);\n              promises.push(promise);\n            });\n            return [4, Promise.all(promises)];\n\n          case 1:\n            data = _a.sent();\n            return [2, text.replace(blobRegex, function () {\n              return \"url(\\\"\" + data.shift() + \"\\\")\";\n            })];\n        }\n      });\n    });\n  }\n\n  var banner = \"/*\\n                        _______\\n                       /       \\\\\\n                      .==.    .==.\\n                     ((  ))==((  ))\\n                    / \\\"==\\\"    \\\"==\\\"\\\\\\n                   /____|| || ||___\\\\\\n       ________     ____    ________  ___    ___\\n       |  ___  \\\\   /    \\\\   |  ___  \\\\ |  |  /  /\\n       |  |  \\\\  \\\\ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |_/  /\\n       |  |   )  /  /__\\\\  \\\\ |  |__/  /|  ___  \\\\\\n       |  |__/  /  ______  \\\\|  ____  \\\\|  |  \\\\  \\\\\\n_______|_______/__/ ____ \\\\__\\\\__|___\\\\__\\\\__|___\\\\__\\\\____\\n|  ___  \\\\ |  ____/ /    \\\\   |  ___  \\\\ |  ____|  ___  \\\\\\n|  |  \\\\  \\\\|  |___ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |___|  |  \\\\  \\\\\\n|  |__/  /|  ____/  /__\\\\  \\\\ |  |   )  |  ____|  |__/  /\\n|  ____  \\\\|  |__/  ______  \\\\|  |__/  /|  |___|  ____  \\\\\\n|__|   \\\\__\\\\____/__/      \\\\__\\\\_______/ |______|__|   \\\\__\\\\\\n                https://darkreader.org\\n*/\";\n\n  function collectCSS() {\n    return __awaiter(this, void 0, void 0, function () {\n      function addStaticCSS(selector, comment) {\n        var staticStyle = document.querySelector(selector);\n\n        if (staticStyle && staticStyle.textContent) {\n          css.push(\"/* \" + comment + \" */\");\n          css.push(staticStyle.textContent);\n          css.push('');\n        }\n      }\n\n      var css, modifiedCSS, formattedCSS, _a, _b;\n\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            css = [banner];\n            addStaticCSS('.darkreader--fallback', 'Fallback Style');\n            addStaticCSS('.darkreader--user-agent', 'User-Agent Style');\n            addStaticCSS('.darkreader--text', 'Text Style');\n            addStaticCSS('.darkreader--invert', 'Invert Style');\n            addStaticCSS('.darkreader--variables', 'Variables Style');\n            modifiedCSS = [];\n            document.querySelectorAll('.darkreader--sync').forEach(function (element) {\n              forEach(element.sheet.cssRules, function (rule) {\n                rule && rule.cssText && modifiedCSS.push(rule.cssText);\n              });\n            });\n            if (!(modifiedCSS.length != 0)) return [3, 2];\n            formattedCSS = formatCSS(modifiedCSS.join('\\n'));\n            css.push('/* Modified CSS */');\n            _b = (_a = css).push;\n            return [4, replaceBlobs(formattedCSS)];\n\n          case 1:\n            _b.apply(_a, [_c.sent()]);\n\n            css.push('');\n            _c.label = 2;\n\n          case 2:\n            addStaticCSS('.darkreader--override', 'Override Style');\n            return [2, css.join('\\n')];\n        }\n      });\n    });\n  }\n\n  var isDarkReaderEnabled = false;\n\n  var isIFrame = function () {\n    try {\n      return window.self !== window.top;\n    } catch (err) {\n      console.warn(err);\n      return true;\n    }\n  }();\n\n  function enable(themeOptions, fixes) {\n    if (themeOptions === void 0) {\n      themeOptions = {};\n    }\n\n    if (fixes === void 0) {\n      fixes = null;\n    }\n\n    var theme = _assign(_assign({}, DEFAULT_THEME), themeOptions);\n\n    if (theme.engine !== ThemeEngines.dynamicTheme) {\n      throw new Error('Theme engine is not supported.');\n    }\n\n    createOrUpdateDynamicTheme(theme, fixes, isIFrame);\n    isDarkReaderEnabled = true;\n  }\n\n  function isEnabled() {\n    return isDarkReaderEnabled;\n  }\n\n  function disable() {\n    removeDynamicTheme();\n    isDarkReaderEnabled = false;\n  }\n\n  var darkScheme = matchMedia('(prefers-color-scheme: dark)');\n  var store = {\n    themeOptions: null,\n    fixes: null\n  };\n\n  function handleColorScheme() {\n    if (darkScheme.matches) {\n      enable(store.themeOptions, store.fixes);\n    } else {\n      disable();\n    }\n  }\n\n  function auto(themeOptions, fixes) {\n    if (themeOptions === void 0) {\n      themeOptions = {};\n    }\n\n    if (fixes === void 0) {\n      fixes = null;\n    }\n\n    if (themeOptions) {\n      store = {\n        themeOptions: themeOptions,\n        fixes: fixes\n      };\n      handleColorScheme();\n\n      if (isMatchMediaChangeEventListenerSupported) {\n        darkScheme.addEventListener('change', handleColorScheme);\n      } else {\n        darkScheme.addListener(handleColorScheme);\n      }\n    } else {\n      if (isMatchMediaChangeEventListenerSupported) {\n        darkScheme.removeEventListener('change', handleColorScheme);\n      } else {\n        darkScheme.removeListener(handleColorScheme);\n      }\n\n      disable();\n    }\n  }\n\n  function exportGeneratedCSS() {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, collectCSS()];\n\n          case 1:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  var setFetchMethod = setFetchMethod$1;\n  exports.auto = auto;\n  exports.disable = disable;\n  exports.enable = enable;\n  exports.exportGeneratedCSS = exportGeneratedCSS;\n  exports.isEnabled = isEnabled;\n  exports.setFetchMethod = setFetchMethod;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});"],"sourceRoot":""}